{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/ViolinPlot.vue?4bfe","webpack:///./src/assets/disc.png","webpack:///./src/assets/dmriprep-icon.svg","webpack:///./src/App.vue?eee9","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/components/LandingPage.vue?e8dd","webpack:///./src/components/GenReport.vue?e5d4","webpack:///./src/components/Explainer.vue?d3b0","webpack:///src/components/Explainer.vue","webpack:///./src/components/Explainer.vue?b6cd","webpack:///./src/components/Explainer.vue","webpack:///./src/components/ReportGroup.vue?dfb1","webpack:///./src/components/ScatterplotMatrix.vue?c3f6","webpack:///src/components/ScatterplotMatrix.vue","webpack:///./src/components/ScatterplotMatrix.vue?2583","webpack:///./src/components/ScatterplotMatrix.vue","webpack:///./src/components/Spinner.vue?6a02","webpack:///src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?8682","webpack:///./src/components/Spinner.vue","webpack:///./src/components/TopBar.vue?a082","webpack:///src/components/TopBar.vue","webpack:///./src/components/TopBar.vue?4287","webpack:///./src/components/TopBar.vue","webpack:///./src/components/ViolinPlot.vue?7a92","webpack:///src/components/ViolinPlot.vue","webpack:///./src/components/ViolinPlot.vue?a11a","webpack:///./src/components/ViolinPlot.vue","webpack:///src/components/ReportGroup.vue","webpack:///./src/components/ReportGroup.vue?3f59","webpack:///./src/components/ReportGroup.vue","webpack:///./src/components/ReportParticipant.vue?0719","webpack:///./src/components/BrainSprite.vue?bf30","webpack:///./src/components/brainsprite.js","webpack:///src/components/BrainSprite.vue","webpack:///./src/components/BrainSprite.vue?7558","webpack:///./src/components/BrainSprite.vue","webpack:///./src/components/CarpetPlot.vue?4c39","webpack:///src/components/CarpetPlot.vue","webpack:///./src/components/CarpetPlot.vue?3e66","webpack:///./src/components/CarpetPlot.vue?3896","webpack:///./src/components/QSpaceGroup.vue?cc2e","webpack:///./src/components/QSpaceViewer.vue?29f6","webpack:///src/components/QSpaceViewer.vue","webpack:///./src/components/QSpaceViewer.vue?7911","webpack:///./src/components/QSpaceViewer.vue","webpack:///src/components/QSpaceGroup.vue","webpack:///./src/components/QSpaceGroup.vue?d5f0","webpack:///./src/components/QSpaceGroup.vue","webpack:///./src/components/LineChart.vue?2a75","webpack:///src/components/LineChart.vue","webpack:///./src/components/LineChart.vue?f753","webpack:///./src/components/LineChart.vue?7c61","webpack:///./src/components/Sprite4D.vue?3d7a","webpack:///src/components/Sprite4D.vue","webpack:///./src/components/Sprite4D.vue?e989","webpack:///./src/components/Sprite4D.vue?a285","webpack:///src/components/ReportParticipant.vue","webpack:///./src/components/ReportParticipant.vue?14a9","webpack:///./src/components/ReportParticipant.vue","webpack:///src/components/GenReport.vue","webpack:///./src/components/GenReport.vue?797d","webpack:///./src/components/GenReport.vue","webpack:///src/components/LandingPage.vue","webpack:///./src/components/LandingPage.vue?80f8","webpack:///./src/components/LandingPage.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/Explainer.vue?d4d4","webpack:///./src/components/TopBar.vue?2b33","webpack:///./src/components/ReportParticipant.vue?2d9c","webpack:///./src/components/Sprite4D.vue?5ca7","webpack:///./src/components/BrainSprite.vue?1359","webpack:///./src/components/ReportGroup.vue?d452","webpack:///./src/components/LandingPage.vue?1b15","webpack:///./src/components/CarpetPlot.vue?87c7","webpack:///./src/components/ScatterplotMatrix.vue?361a","webpack:///./src/components/LineChart.vue?1fab"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","state","staticClass","_v","model","callback","$$v","files","expression","on","$event","type","indexOf","_k","keyCode","navigate","url","_e","reportFiles","groupReportFiles","showInitialSidebar","showStudyQc","_s","groupReport","studyId","directives","rawName","domProps","target","composing","subjectFilter","_l","subject","subjectSelected","subjectRatings","updateSelectedSubject","downloadRatings","subjectReports","collapseId","questionId","closeId","explainerText","props","String","default","mounted","_uid","ratingsDownloadRequested","qcMetrics","metricOptions","scatterMetrics","updateBrushedSubjects","violinMetrics","metric","scopedSlots","_u","fn","brushedSubjectsIntersection","copyBrushedSubjectsToClipboard","proxy","ref","dataProp","Array","metricsProp","margin","width","padding","radius","brushedSubjects","metrics","computed","height","size","columns","keys","filter","yAxis","xAxis","x","map","y","watch","deep","handler","$emit","brushed","immediate","createChart","$refs","chart","clientWidth","methods","d3","selection","moveToFront","each","parentNode","appendChild","moveToBack","firstChild","insertBefore","select","selectAll","remove","svg","append","cell","brush","circle","node","brushstarted","brushCell","move","event","classed","that","brushended","handleResize","forEach","modifiers","download","isGroupReport","subjectId","onOk","handleHidden","stopPropagation","preventDefault","handleSubmit","rating","anatRating","$set","dwiRating","overallRating","reportProp","ratingProp","sidebarOn","Boolean","report","checkFormValidity","valid","bvModalEvt","reviewed","whenRated","Date","toString","$nextTick","fileToSave","Blob","JSON","stringify","divId","svgId","hoveredSubject","brushObject","histogram","bins","maxNum","yNum","boxHeight","center","bottom","tooltipId","dodgedData","dodge","boxPlotInfo","q1","median","q3","interQuantileRange","min","max","highestPoint","top","getHighestPoint","intersects","a","radius2","epsilon","next","circles","x0","x1","components","explainer","scatterplotMatrix","spinner","topBar","violinPlot","reduce","subjects","brushedSubjectData","values","navigator","clipboard","writeText","join","subject_id","staticStyle","dwiTimeSeriesSprite","view","orientation","M","N","img","num_slices","pix","time","dwi_corrected","lineChart","eddy_params","outlier_volumes","carpetPlot","carpetplot","qSpace","brainMaskSprite","b0","anat_mask","colorFASprite","colorFA","done","id","base","overlay","showOrig","brainsprite","params","setNearestNeighbour","context","flag","imageSmoothingEnabled","brain","defaultParams","nanValue","smooth","flagValue","colorBackground","flagCoordinates","origin","X","Y","Z","voxelSize","affine","heightColorBar","sizeFont","colorFont","nbDecimals","crosshair","colorCrosshair","sizeCrosshair","title","numSlice","assign","canvas","document","getElementById","getContext","canvasY","createElement","contextY","canvasZ","contextZ","canvasRead","contextRead","onclick","spaceFont","sprite","nbCol","nbSlice","nbRow","widthCanvas","heightCanvas","Math","floor","coordinatesSlice","planes","canvasMaster","contextMaster","opacity","colorMap","hide","drawImage","getValue","rgb","NaN","cv","dist","nbColor","ind","val","voxelValue","Infinity","xx","getImageData","pow","updateValue","pos","test1","test2","XW","round","XH","fillStyle","fillRect","err","console","warn","message","multiply","b","aNumRows","aNumCols","bNumCols","updateCoordinates","coordVoxel","init","parentElement","sizeFontPixels","font","globalAlpha","canvasX","contextX","rotate","PI","translate","draw","coord","coordWidth","offset","ceil","fillText","Number","parseFloat","toPrecision","replace","valueWidth","measureText","posW","posH","label_min","label_max","clickBrain","e","sx","sy","sz","rect","getBoundingClientRect","clientX","left","yy","clientY","drawAll","addEventListener","removeEventListener","ready","initBrainSprite","setTimeout","highlightIdx","dataFlattened","output","range","right","autoRotate","showReflection","q_coords","color","globalPosition","updateGlobalPosition","elementId","qcoords","colors","cameraPosition","showReflectedPoints","scene","camera","controls","renderer","ambient","particles","reflectedParticles","showStats","stats","container","unhighlightedSize","unhighlightedAlpha","animate","highlightPoint","toggleAutoRotate","toggleReflectedPoints","vertex","xyz","positions","localMax","absMax","setRGB","g","unselectedSize","sizes","alphas","geometry","setAttribute","position","z","add","uniforms","pointTexture","vertexShader","fragmentShader","transparent","depthWrite","reflectedPositions","reflectedGeometry","visible","axesGroup","xAxisMesh","yAxisMesh","zAxisMesh","setPixelRatio","devicePixelRatio","setSize","domElement","OrbitControls","enableDamping","dampingFactor","enableZoom","maxDistance","enableKeys","emitCameraEvent","style","onWindowResize","requestAnimationFrame","update","array","needsUpdate","alphasRef","sizesRef","copy","QSpaceViewer","xDomain","yDomain","lines","updateHighlightPoints","initAx","initXaxis","initYaxis","initHighlightPoints","updateXaxis","domain","updateYaxis","attr","plotData","minX","maxX","minY","maxY","line1","line2","row_idx","col_idx","zoom","display","overlayMode","BrainSprite","CarpetPlot","QSpaceGroup","sprite4d","vueSlider","spriteSlice","get_mid_slice","bucket","groupFile","manifestEntries","re","s3Prefix","s3Uri","sourceType","subjectsBrushed","loadFromQuery","$route","query","loadFromUrl","split","loadFromS3","$router","xmlParser","xmlDoc","parseS3","continuation","isTruncated","encodeURIComponent","innerHTML","keysFixed","S3Continuation","token","getFileDepth","file","webkitRelativePath","selectRootGroupFile","rootJsonFiles","readJsonFile","Promise","tempFileReader","onerror","abort","reject","DOMException","onload","resolve","inputFile","content","parse","readAsText","localhostProxy","local_domains","includes","location","hostname","proxyurl","created","filesProp","groupFileProp","loadGroupReport","s3ListUrl","filteredSubjects","subjectsAll","subjectsInGroupReport","subjectFileMap","numeric","sensitivity","urlProp","s3UriProp","updateSubjectReports","genReport","msg","startsWith","s3","followUrl","router","path","Vue","use","Router","routes","LandingPage","debug","process","config","productionTip","performance","el","App","template"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,oBAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,2DCAA,W,qBCAAW,EAAOD,QAAU,s2D,gGCAjBC,EAAOD,QAAU,IAA0B,kC,mGCAvC+B,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,gBAAgB,IAC9IG,EAAkB,G,gCCatB,yBAEA,OACEjC,KAAM,OCjBsT,I,wBCQ1TkC,EAAY,eACd,EACAT,EACAQ,GACA,EACA,KACA,KACA,MAIa,EAAAC,E,oBCnBX,EAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAAgB,aAAdJ,EAAIS,MAAsBL,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,QAAQ,CAACM,YAAY,6BAA6B,CAACN,EAAG,QAAQ,CAACM,YAAY,aAAaJ,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,MAAM,CAACM,YAAY,OAAOJ,MAAM,CAAC,IAAM,EAAQ,aAAoCF,EAAG,QAAQ,CAACM,YAAY,YAAYJ,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,KAAK,CAACJ,EAAIW,GAAG,wBAAwB,GAAGP,EAAG,eAAe,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,MAAQ,qFAAqF,YAAc,gGAAgG,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,UAAY,GAAG,SAAW,GAAG,YAAc,yBAAyBM,MAAM,CAAC7B,MAAOiB,EAAS,MAAEa,SAAS,SAAUC,GAAMd,EAAIe,MAAMD,GAAKE,WAAW,YAAY,GAAGZ,EAAG,eAAe,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,MAAQ,kCAAkC,YAAc,2EAA2E,CAACF,EAAG,gBAAgB,CAACM,YAAY,OAAOJ,MAAM,CAAC,KAAO,KAAK,QAAU,QAAQ,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,YAAc,qCAAqCW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQpB,EAAIqB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAO7B,IAAI,SAAkB,KAAcW,EAAIuB,SAASL,KAAUN,MAAM,CAAC7B,MAAOiB,EAAO,IAAEa,SAAS,SAAUC,GAAMd,EAAIwB,IAAIV,GAAKE,WAAW,SAASZ,EAAG,uBAAuB,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,KAAO,SAAS,QAAU,WAAWW,GAAG,CAAC,MAAQjB,EAAIuB,WAAW,CAACvB,EAAIW,GAAG,SAAS,IAAI,IAAI,IAAI,GAAGX,EAAIyB,KAAoB,eAAdzB,EAAIS,MAAwBL,EAAG,WAAWJ,EAAIyB,KAAoB,gBAAdzB,EAAIS,MAAyBL,EAAG,YAAY,CAACE,MAAM,CAAC,UAAYN,EAAI0B,YAAY,cAAgB1B,EAAI2B,oBAAoB3B,EAAIyB,MAAM,IACx0D,EAAkB,GCDlB,G,4DAAS,WAAa,IAAIzB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACM,YAAY,WAAWJ,MAAM,CAAC,MAAQ,KAAK,CAAEN,EAAe,YAAEI,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,GAAK,mBAAmB,MAAQ,iBAAiB,mBAAmB,OAAO,SAAW,GAAG,KAAO,GAAG,OAAS,GAAG,QAAUN,EAAI4B,qBAAqB,CAACxB,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiB,kRAAkRF,EAAG,QAAQ,CAACM,YAAY,QAAQJ,MAAM,CAAC,SAAW,GAAG,MAAQ,KAAK,CAACF,EAAG,aAAa,CAACM,YAAY,OAAOJ,MAAM,CAAC,OAASN,EAAI6B,aAAaZ,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAI6B,aAAc,KAAQ,CAAC7B,EAAIW,GAAG,IAAIX,EAAI8B,GAAG9B,EAAI+B,YAAYC,QAAUhC,EAAI+B,YAAYC,QAAU,SAAS,OAAO5B,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,QAAQ4D,QAAQ,UAAUnD,MAAOiB,EAAiB,cAAEgB,WAAW,kBAAkBN,YAAY,MAAMJ,MAAM,CAAC,YAAc,mBAAmB6B,SAAS,CAAC,MAASnC,EAAiB,eAAGiB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOkB,OAAOC,YAAqBrC,EAAIsC,cAAcpB,EAAOkB,OAAOrD,WAAUiB,EAAIuC,GAAIvC,EAAoB,kBAAE,SAASwC,GAAS,OAAOpC,EAAG,aAAa,CAACf,IAAImD,EAAQ9B,YAAY,OAAOJ,MAAM,CAAC,OAASkC,IAAYxC,EAAIyC,iBAAiBxB,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIyC,gBAAkBD,KAAW,CAAExC,EAAI0C,eAAeF,GAAiB,SAAEpC,EAAG,SAAS,CAACM,YAAY,OAAOJ,MAAM,CAAC,aAAa,MAAM,KAAO,oBAAoB,MAAQ,MAAM,QAAU,aAAaF,EAAG,SAAS,CAACM,YAAY,OAAOJ,MAAM,CAAC,KAAO,SAAS,MAAQ,MAAM,QAAU,eAAeN,EAAIW,GAAG,IAAIX,EAAI8B,GAAGU,GAAS,MAAM,OAAM,IAAI,GAAIxC,EAAI6B,aAAe7B,EAAI+B,YAAa3B,EAAG,cAAc,CAACE,MAAM,CAAC,WAAaN,EAAI+B,aAAad,GAAG,CAAC,gBAAkBjB,EAAI2C,sBAAsB,yBAA2B3C,EAAI4C,mBAAoB5C,EAAIyC,iBAAmBzC,EAAI6C,eAAe7C,EAAIyC,iBAAiB,UAAWrC,EAAG,SAAS,CAACE,MAAM,CAAC,WAAaN,EAAI6C,eAAe7C,EAAIyC,iBAAiB,UAAU,WAAazC,EAAI0C,eAAe1C,EAAIyC,kBAAkBxB,GAAG,CAAC,yBAA2BjB,EAAI4C,mBAAmBxC,EAAG,YAAY,GAAGA,EAAG,YAAY,KAC1wE,EAAkB,G,wPCDlB,EAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAI8C,YAAc9C,EAAI+C,WAAY3C,EAAG,cAAc,CAACM,YAAY,cAAc,CAACN,EAAG,SAAS,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,WAAW4D,QAAQ,aAAanD,MAAOiB,EAAc,WAAEgB,WAAW,eAAeN,YAAY,0BAA0BJ,MAAM,CAAC,GAAKN,EAAIgD,QAAQ,KAAO,WAAW,QAAU,UAAU,cAAc,UAAU5C,EAAG,SAAS,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,WAAW4D,QAAQ,aAAanD,MAAOiB,EAAc,WAAEgB,WAAW,eAAeN,YAAY,4BAA4BJ,MAAM,CAAC,GAAKN,EAAI+C,WAAW,KAAO,kBAAkB,QAAU,UAAU,cAAc,UAAU3C,EAAG,aAAa,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,GAAKN,EAAI8C,aAAa,CAAC1C,EAAG,SAAS,CAACA,EAAG,IAAI,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAGX,EAAI8B,GAAG9B,EAAIiD,qBAAqB,GAAG7C,EAAG,YAAY,CAACE,MAAM,CAAC,OAASN,EAAI+C,WAAW,SAAW,UAAU,CAAC/C,EAAIW,GAAG,qCAAqCP,EAAG,YAAY,CAACE,MAAM,CAAC,OAASN,EAAIgD,QAAQ,SAAW,UAAU,CAAChD,EAAIW,GAAG,0BAA0B,GAAGX,EAAIyB,MAChhC,EAAkB,GCgCtB,GACEnD,KAAM,YACNpC,KAFF,WAGI,MAAO,CACL4G,WAAY,KACZC,WAAY,KACZC,QAAS,OAGbE,MAAO,CACLD,cAAe,CACb9B,KAAMgC,OACNC,QAAS,qDAGbC,QAfF,WAgBIpD,KAAK6C,WAAa,WAAa7C,KAAKqD,KACpCrD,KAAK8C,WAAa,WAAa9C,KAAKqD,KACpCrD,KAAK+C,QAAU,QAAU/C,KAAKqD,OCnDiT,ICQ/U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAItD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAAEN,EAAe,YAAEI,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,WAAaN,EAAI+B,YAAY,UAAY,GAAG,cAAgB,IAAId,GAAG,CAAC,yBAA2BjB,EAAIuD,4BAA4BnD,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAIiD,cAAcO,aAAapD,EAAG,eAAe,CAACM,YAAY,YAAYJ,MAAM,CAAC,MAAQ,+BAA+B,CAACF,EAAG,wBAAwB,CAACE,MAAM,CAAC,GAAK,yBAAyB,QAAUN,EAAIyD,cAAc,KAAO,mBAAmB7C,MAAM,CAAC7B,MAAOiB,EAAkB,eAAEa,SAAS,SAAUC,GAAMd,EAAI0D,eAAe5C,GAAKE,WAAW,qBAAqB,GAAGZ,EAAG,oBAAoB,CAACE,MAAM,CAAC,SAAWN,EAAI+B,YAAY,YAAY,YAAc/B,EAAI0D,gBAAgBzC,GAAG,CAAC,sBAAwBjB,EAAI2D,sBAAsB,sBAAwB3D,EAAI2C,yBAAyBvC,EAAG,eAAe,CAACM,YAAY,YAAYJ,MAAM,CAAC,MAAQ,+BAA+B,CAACF,EAAG,wBAAwB,CAACE,MAAM,CAAC,GAAK,wBAAwB,QAAUN,EAAIyD,cAAc,KAAO,kBAAkB7C,MAAM,CAAC7B,MAAOiB,EAAiB,cAAEa,SAAS,SAAUC,GAAMd,EAAI4D,cAAc9C,GAAKE,WAAW,oBAAoB,GAAGhB,EAAIuC,GAAIvC,EAAiB,eAAE,SAAS6D,GAAQ,OAAOzD,EAAG,aAAa,CAACf,IAAIwE,EAAOvD,MAAM,CAAC,KAAON,EAAI+B,YAAY,YAAY,OAAS8B,GAAQ5C,GAAG,CAAC,sBAAwBjB,EAAI2D,sBAAsB,sBAAwB3D,EAAI2C,4BAA2BvC,EAAG,SAAS,CAACM,YAAY,0BAA0BJ,MAAM,CAAC,OAAS,kFAAkFwD,YAAY9D,EAAI+D,GAAG,CAAC,CAAC1E,IAAI,SAAS2E,GAAG,WAAW,MAAO,CAAC5D,EAAG,QAAQ,CAACM,YAAY,6BAA6B,CAACN,EAAG,QAAQ,CAACM,YAAY,YAAYJ,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,KAAK,CAACM,YAAY,OAAO,CAACV,EAAIW,GAAG,uBAAuBX,EAAI8B,GAAG9B,EAAIiE,4BAA4BvH,QAAQ,SAAS0D,EAAG,QAAQ,CAACM,YAAY,aAAaJ,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,WAAW,CAACM,YAAY,MAAMJ,MAAM,CAAC,GAAK,mBAAmB,QAAU,mBAAmBW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAIkE,oCAAoC,CAAC9D,EAAG,SAAS,CAACM,YAAY,QAAQJ,MAAM,CAAC,KAAO,YAAY,cAAc,WAAW,GAAGF,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,mBAAmB,SAAW,UAAU,CAACN,EAAIW,GAAG,qCAAqC,IAAI,KAAKwD,OAAM,IAAO,MAAK,EAAM,aAAa,CAAC/D,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACM,YAAY,qCAAqCJ,MAAM,CAAC,SAAW,KAAKN,EAAIuC,GAAIvC,EAA+B,6BAAE,SAASwC,GAAS,OAAOpC,EAAG,aAAa,CAACf,IAAImD,EAAQvB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAI2C,sBAAsBH,MAAY,CAACxC,EAAIW,GAAGX,EAAI8B,GAAGU,SAAc,IAAI,IAAI,IAAI,GAAGpC,EAAG,YAAY,IACvuF,EAAkB,G,wBCDlB,EAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,eAAe,CAACF,EAAG,MAAM,CAACgE,IAAI,QAAQ1D,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,mBACrM,EAAkB,G,YCOtB,YAEA,GACEhC,KAAM,oBACN4E,MAAO,CACLmB,SAAU,CACRlD,KAAMmD,OAERC,YAAa,CACXpD,KAAMmD,QAGVpI,KAVF,WAWI,MAAO,CACLsI,OAAQ,CAAd,mCACMC,MAAO,KACPC,QAAS,GACTC,OAAQ,EACRC,gBAAiB,KACjBC,QAAS,GACT3I,KAAM,GACNmH,SAAS,IAGbyB,SAAU,CACRC,OADJ,WAEM,OAAO9E,KAAKwE,MAAQxE,KAAKyE,SAE3BM,KAJJ,WAKM,OACN,iDACA,oBACA,cAGIC,QAXJ,WAYM,IAAN,OACM,OAAOtI,OAAOuI,KAAKjF,KAAK/D,KAAK,IAAIiJ,QACvC,YAAQ,OAAR,0DAGIC,MAjBJ,WAiBA,WACA,IACA,WACA,SACA,yCACA,OACM,OAAO,SAAb,UACA,EACA,eACA,UACA,UACA,gCAAU,MAAV,uCACA,kBACU,OAAV,mCAEA,kBAAU,OAAV,gCACA,kBAAU,OAAV,qDAEIC,MAnCJ,WAmCA,WACA,IACA,aACA,SACA,wCACA,OACM,OAAO,SAAb,UACA,EACA,eACA,UACA,UACA,gCAAU,MAAV,uCACA,kBACU,OAAV,mCAEA,kBAAU,OAAV,gCACA,kBAAU,OAAV,qDAEIC,EArDJ,WAqDA,WACA,EACA,gDACM,OAAOrF,KAAKgF,QAAQM,KAAI,SAA9B,UACA,EACA,cACA,oCAAU,OAAV,SACA,YACA,IACA,iBAIIC,EAlEJ,WAmEM,IAAN,EACA,6CACA,OACM,OAAOvF,KAAKqF,EAAEC,KAAI,SAAxB,UACA,EACA,OACA,6BAIEE,MAAO,CACLb,gBAAiB,CACfc,MAAM,EACNC,QAAS,WACP1F,KAAK2F,MAAM,wBAAyB,CAClC/B,OAAQ,oBACRgC,QAAS5F,KAAK2E,oBAIpBL,YAAa,CACXmB,MAAM,EACNI,WAAW,EACXH,QAAS,WACH1F,KAAKsE,cACPtE,KAAK4E,QAAU5E,KAAKsE,YAChBtE,KAAKoD,SACPpD,KAAK8F,iBAKb1B,SAAU,CACRqB,MAAM,EACNI,WAAW,EACXH,QAAS,WACH1F,KAAKoE,WACPpE,KAAK/D,KAAO+D,KAAKoE,aAKzBhB,QAnIF,WAoIIpD,KAAKwE,MAAQxE,KAAK+F,MAAMC,MAAMC,YAC9BjG,KAAK2E,gBAAkB3E,KAAK/D,KAAKqJ,KAAI,SAAzC,8BACItF,KAAK8F,cACL9F,KAAKoD,SAAU,GAEjB8C,QAAS,CACPJ,YADJ,WAIMK,EAAGC,UAAUzJ,UAAU0J,YAAc,WACnC,OAAOrG,KAAKsG,MAAK,WACftG,KAAKuG,WAAWC,YAAYxG,UAGhCmG,EAAGC,UAAUzJ,UAAU8J,WAAa,WAClC,OAAOzG,KAAKsG,MAAK,WACf,IAAII,EAAa1G,KAAKuG,WAAWG,WAC7BA,GACF1G,KAAKuG,WAAWI,aAAa3G,KAAM0G,OAKzCP,EAAGS,OAAO,eAChB,cACA,4BACA,KACA,QACA,0HAIMT,EAAGU,UAAU,mBAAmBC,SAGhC,IAAN,IACA,sBACA,yBACA,2BACA,YACA,KACA,YACA,uDAGMC,EACN,gBACA,KAFA,0DAIA,cAJA,QAQMA,EAAIC,OAAO,KAAKnK,KAAKmD,KAAKoF,OAE1B2B,EAAIC,OAAO,KAAKnK,KAAKmD,KAAKmF,OAE1B,IAAN,OACA,IACA,YACA,eACA,KACA,oEAEA,UACA,KACA,aACA,YAAQ,IAAR,oCAAQ,MAAR,0DAGM8B,EACN,eACA,oBACA,sBACA,4BACA,4BACA,qCACA,sCAEMA,EAAKX,MAAK,SAAU,GAA1B,wCACQH,EAAGS,OAAO5G,MAClB,oBACA,KACA,eACA,YAAU,OAAV,oDAGA,eACA,uBAAU,OAAV,2BACA,uBAAU,OAAV,8BAGMiH,EAAKpK,KAAKmD,KAAKkH,OAEf,IAAN,IACA,oBACA,sBACA,wBACA,oBACA,0BACA,4BACQ,EAAR,8BACA,aACA,cACA,qBAEQ,EAAR,0BACA,aACA,cACA,2BACA,0BAEA,0BACQ,EAAR,8BACA,aACA,cACA,mBAEQ,EAAR,qDAEA,2BACQ,EAAR,0BACA,oCACA,sCAEA,wBACQ,EAAR,mDAsBM,OAnBAC,EAAOd,cAEPU,EACN,YACA,qCACA,+BACA,kBACA,mBACA,aACA,KACA,aACA,cAAQ,MAAR,0DAEA,uBACA,uBACA,mBACA,0BACA,kBAAQ,OAAR,KAEaA,EAAIK,QAEbF,MAjJJ,SAiJA,GACM,IAcN,EAdA,wBACA,OACA,IACA,QACA,QACA,gCACA,sDAEA,cACA,cACA,YAOM,SAASG,IACHC,IAActH,OAChBmG,EAAGS,OAAOU,GAAWzK,KAAKqK,EAAMK,KAAM,MACtCD,EAAYtH,MAKhB,SAAS4F,EAAQ,GAAvB,wCACQ,GAA2B,OAAvBO,EAAGqB,MAAMpB,UAAb,CADR,qBAEA,kBAFA,4BAEA,EAFA,KAEA,EAFA,8BAEA,EAFA,KAEA,EAFA,KAGQe,EAAOM,QAAQ,UAAU,SAAjC,GACU,OACV,2BACA,2BACA,2BACA,6BAGQC,EAAK/C,gBAAkB+C,EAAKzL,KACpC,QACA,YAAU,OACV,4BACA,4BACA,4BACA,8BAEA,iBAAU,OAAV,qBAIM,SAAS0L,IACoB,OAAvBxB,EAAGqB,MAAMpB,YACbe,EAAOM,QAAQ,UAAU,GACzBC,EAAK/C,gBAAkB+C,EAAKzL,KAAKqJ,KAAI,SAA7C,+BAvCM2B,EAAKpK,KAAKqK,IA0CZU,aAxMJ,WAwMA,WACM5H,KAAKwE,MAAQxE,KAAK+F,MAAMC,MAAMC,YAE9B,IAAN,IACA,sBACA,4DAEMjG,KAAKqF,EAAEwC,SAAQ,SAArB,UACA,qDAGM,IAAN,OACMd,EACN,kBACA,sBACQ,OAAR,YAEA,oCC5W2V,ICQvV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIhH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,SAAS,CAACJ,EAAIW,GAAG,gBAAgBP,EAAG,YAAY,CAACM,YAAY,OAAOJ,MAAM,CAAC,QAAU,UAAU,MAAQ,cAAc,IACtO,EAAkB,GCOtB,GACEhC,KAAM,WCTyU,ICO7U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QClBX,EAAS,WAAa,IAAI0B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,mBAAmB,CAACM,YAAY,mBAAmB,CAACN,EAAG,iBAAiB,CAACA,EAAG,WAAW,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,WAAW4D,QAAQ,8BAA8B6F,UAAU,CAAC,oBAAmB,KAAQrH,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,iBAAiB,QAAU,oBAAoB,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,iBAAiB,cAAc,WAAW,GAAGF,EAAG,WAAW,CAACM,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,cAAc,GAAK,UAAU,QAAU,oBAAoB,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,SAAS,cAAc,WAAW,GAAGF,EAAG,WAAW,CAACM,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,kBAAkB,QAAU,mBAAmBW,GAAG,CAAC,MAAQjB,EAAIgI,WAAW,CAAC5H,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,WAAW,cAAc,WAAW,GAAKN,EAAIiI,cAA4LjI,EAAIyB,KAAjLrB,EAAG,WAAW,CAACM,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,eAAe,QAAU,oBAAoB,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,YAAY,cAAc,WAAW,GAAcN,EAAIiI,cAAgSjI,EAAIyB,KAArRrB,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,eAAe,UAAY,SAAS,SAAW,SAASwD,YAAY9D,EAAI+D,GAAG,CAAC,CAAC1E,IAAI,QAAQ2E,GAAG,WAAW,MAAO,CAAChE,EAAIW,GAAGX,EAAI8B,GAAG9B,EAAIkI,cAAc/D,OAAM,IAAO,MAAK,EAAM,aAAa,CAACnE,EAAIW,GAAG,qDAAgEX,EAAIiI,cAA2jBjI,EAAIyB,KAAhjBrB,EAAG,WAAW,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,UAAU4D,QAAQ,yBAAyB6F,UAAU,CAAC,gBAAe,KAAQrH,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,gBAAgB,QAAU,oBAAoB,CAACF,EAAG,cAAc,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,eAAe,MAAQ,OAAO,UAAU,IAAI,UAAU,KAAK,cAAc,UAAUF,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,QAAQ,MAAQ,MAAM,cAAc,UAAUF,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,WAAW,MAAQ,OAAO,UAAU,KAAK,UAAU,IAAI,cAAc,WAAW,IAAI,GAAcN,EAAIiI,cAA4iEjI,EAAIyB,KAAjiErB,EAAG,UAAU,CAACgE,IAAI,eAAe9D,MAAM,CAAC,GAAK,eAAe,MAAQN,EAAIkI,WAAWjH,GAAG,CAAC,GAAKjB,EAAImI,KAAK,OAASnI,EAAIoI,eAAe,CAAChI,EAAG,MAAM,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,yBAA0BX,EAAU,OAAEI,EAAG,SAAS,CAACgE,IAAI,OAAOnD,GAAG,CAAC,OAAS,SAASC,GAAyD,OAAjDA,EAAOmH,kBAAkBnH,EAAOoH,iBAAwBtI,EAAIuI,aAAarH,MAAW,CAACd,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,mBAAmB,MAAQ,MAAM,YAAY,aAAa,YAAc,oCAAoC,aAAa,IAAI,eAAe,KAAK,mBAAmB,kBAAkB,MAAQN,EAAIS,MAAMT,EAAIwI,OAAOC,cAAc,CAACrI,EAAG,gBAAgB,CAACE,MAAM,CAAC,aAAa,GAAG,aAAa,GAAG,iBAAiB,GAAG,aAAa,eAAe,MAAQN,EAAIS,MAAMT,EAAIwI,OAAOC,YAAY,SAAW,IAAI7H,MAAM,CAAC7B,MAAOiB,EAAIwI,OAAiB,WAAE3H,SAAS,SAAUC,GAAMd,EAAI0I,KAAK1I,EAAIwI,OAAQ,aAAc1H,IAAME,WAAW,wBAAwB,GAAGZ,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,kBAAkB,MAAQ,MAAM,YAAY,aAAa,YAAc,mCAAmC,aAAa,IAAI,eAAe,KAAK,mBAAmB,kBAAkB,MAAQN,EAAIS,MAAMT,EAAIwI,OAAOG,aAAa,CAACvI,EAAG,gBAAgB,CAACE,MAAM,CAAC,aAAa,GAAG,aAAa,GAAG,iBAAiB,GAAG,aAAa,eAAe,MAAQN,EAAIS,MAAMT,EAAIwI,OAAOG,WAAW,SAAW,IAAI/H,MAAM,CAAC7B,MAAOiB,EAAIwI,OAAgB,UAAE3H,SAAS,SAAUC,GAAMd,EAAI0I,KAAK1I,EAAIwI,OAAQ,YAAa1H,IAAME,WAAW,uBAAuB,GAAGZ,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,sBAAsB,MAAQ,UAAU,YAAY,iBAAiB,YAAc,2BAA2B,aAAa,IAAI,eAAe,KAAK,mBAAmB,kBAAkB,MAAQN,EAAIS,MAAMT,EAAIwI,OAAOI,iBAAiB,CAACxI,EAAG,gBAAgB,CAACE,MAAM,CAAC,GAAK,iBAAiB,aAAa,GAAG,aAAa,GAAG,iBAAiB,GAAG,aAAa,eAAe,MAAQN,EAAIS,MAAMT,EAAIwI,OAAOI,eAAe,SAAW,IAAIhI,MAAM,CAAC7B,MAAOiB,EAAIwI,OAAoB,cAAE3H,SAAS,SAAUC,GAAMd,EAAI0I,KAAK1I,EAAIwI,OAAQ,gBAAiB1H,IAAME,WAAW,2BAA2B,IAAI,GAAGhB,EAAIyB,MAAM,GAAYrB,EAAG,aAAa,CAACM,YAAY,qBAAqBJ,MAAM,CAAC,QAAU,mBAAmBwD,YAAY9D,EAAI+D,GAAG,CAAC,CAAC1E,IAAI,iBAAiB2E,GAAG,WAAW,MAAO,CAAC5D,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,aAAa,GAAK,cAAc,cAAc,YAAY6D,OAAM,MAAS,CAAC/D,EAAG,yBAAyB,CAACE,MAAM,CAAC,GAAK,eAAe,QAAU,mBAAmBW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAIuD,8BAA8B,CAACnD,EAAG,SAAS,CAACM,YAAY,OAAOJ,MAAM,CAAC,KAAO,aAAa,cAAc,UAAUN,EAAIW,GAAG,2BAA2B,GAAGP,EAAG,yBAAyB,CAACE,MAAM,CAAC,GAAK,aAAa,QAAU,kBAAkB,QAAU,kFAAkF,CAACF,EAAG,SAAS,CAACM,YAAY,OAAOJ,MAAM,CAAC,KAAO,MAAM,cAAc,UAAUN,EAAIW,GAAG,sBAAsB,IAAI,IAAI,GAAGP,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,iBAAiB,SAAW,UAAU,CAACN,EAAIW,GAAG,oBAAoBP,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc,SAAW,UAAU,CAACN,EAAIW,GAAG,4BAA4BP,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,kBAAkB,SAAW,UAAU,CAACN,EAAIW,GAAG,oCAAsCX,EAAIiI,cAAsHjI,EAAIyB,KAA3GrB,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,eAAe,SAAW,UAAU,CAACN,EAAIW,GAAG,2BAAsCX,EAAIiI,cAAmHjI,EAAIyB,KAAxGrB,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,gBAAgB,SAAW,UAAU,CAACN,EAAIW,GAAG,uBAAgCP,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc,SAAW,UAAU,CAACN,EAAIW,GAAG,mBAAmB,IACx5K,EAAkB,G,oCC6NtB,yBACA,yBAEA,OACErC,KAAM,SACN4E,MAAO,CACL2F,WAAY,CACV1H,KAAMxE,QAERmM,WAAY,CACV3H,KAAMxE,OACNyG,QAAS,MAEX2F,UAAW,CACT5H,KAAM6H,QACN5F,SAAS,GAEX6E,cAAe,CACb9G,KAAM6H,QACN5F,SAAS,IAGblH,KAnBF,WAoBI,MAAO,CACL+M,OAAQ,KACRT,OAAQ,KACRN,UAAW,eAGf/B,QAAS,CACP1F,MADJ,SACA,GACM,OAAiB,MAAV+H,GAETU,kBAJJ,WAKM,IAAN,EACA,8BACA,6BACA,gCACM,OAAOC,GAEThB,KAXJ,SAWA,GAEMiB,EAAWd,iBAEXrI,KAAKsI,gBAEPH,aAjBJ,WAoBWnI,KAAKiJ,sBACRjJ,KAAKuI,OAAOa,UAAW,EACvBpJ,KAAKuI,OAAOc,UAAY,OAG5Bf,aAzBJ,WAyBA,WACWtI,KAAKiJ,sBAIVjJ,KAAKuI,OAAOc,WAAY,IAAIC,MAAOC,WACnCvJ,KAAKuI,OAAOa,UAAW,EAEvBpJ,KAAKwJ,WAAU,WACb,EAAR,mCAGIzB,SArCJ,WAsCM,IAAI0B,EAAa,IAAIC,KAAK,CAACC,KAAKC,UAAU5J,KAAKgJ,SAAU,CACvD9H,KAAM,mBACN7C,KAAM,gBAER,EAAN,4BAEIiF,yBA5CJ,WA6CMtD,KAAK2F,MAAM,8BAGfvC,QA1EF,WA2EQpD,KAAK4I,aACP5I,KAAKgJ,OAAShJ,KAAK4I,WACnB5I,KAAKiI,UAAYjI,KAAK4I,WAAW,eAE/B5I,KAAK6I,aACP7I,KAAKuI,OAASvI,KAAK6I,aAGvBrD,MAAO,CACLoD,WADJ,WAEU5I,KAAK4I,aACP5I,KAAKgJ,OAAShJ,KAAK4I,WACnB5I,KAAKiI,UAAYjI,KAAK4I,WAAW,gBAGrCC,WAPJ,WAQU7I,KAAK6I,aACP7I,KAAKuI,OAASvI,KAAK6I,eC7TqT,ICQ5U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,K,QCnBX,GAAS,WAAa,IAAI9I,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAKN,EAAI8J,QAAQ,CAAC1J,EAAG,KAAK,CAACM,YAAY,qBAAqB,CAACV,EAAIW,GAAGX,EAAI8B,GAAG9B,EAAI6D,WAAWzD,EAAG,MAAM,CAACgE,IAAI,QAAQ1D,YAAY,cAAcJ,MAAM,CAAC,GAAKN,EAAI+J,YACvQ,GAAkB,G,aCQtB,aAEA,IACEzL,KAAM,aACN4E,MAAO,CACLhH,KAAM,CACJiF,KAAMmD,OAERT,OAAQ,CACN1C,KAAMgC,SAGVjH,KAVF,WAWI,MAAO,CACLsI,OAAQ,CAAd,mCACMC,MAAO,KACPM,OAAQ,IACRJ,OAAQ,EACRC,gBAAiB,KACjBoF,eAAgB,KAChBC,YAAa,KACbC,UAAW,KACXC,KAAM,KACNC,OAAQ,KACRC,KAAM,OAGVvF,SAAU,CACRwF,UADJ,WAEM,OAAOrK,KAAK8E,OAAS,GAEvBwF,OAJJ,WAKM,OAAOtK,KAAK8E,OAAS,EAAI9E,KAAKuE,OAAOgG,QAEvC9F,QAPJ,WAQM,MAAqB,GAAdzE,KAAK0E,QAEdoF,MAVJ,WAWM,MAAO,aAAe9J,KAAK4D,QAE7BiG,MAbJ,WAcM,MAAO,aAAe7J,KAAK4D,QAE7B4G,UAhBJ,WAiBM,MAAO,WAAaxK,KAAK4D,QAE3ByB,EAnBJ,WAmBA,WACM,OAAO,GACb,cACA,wCAAQ,OAAR,gBACA,wDAEIoF,WAzBJ,WA0BM,OAAOzK,KAAK0K,MAAM1K,KAAK/D,KAAoB,EAAd+D,KAAK0E,OAAa1E,KAAKyE,UAEtDkG,YA5BJ,WA4BA,WACA,sEACA,qBACA,oBACA,qBACA,MACM,MAAO,CACLC,GAAIA,EACJC,OAAQA,EACRC,GAAIA,EACJC,mBAAoBA,EACpBC,IAAKJ,EAAK,IAAMG,EAChBE,IAAKL,EAAK,IAAMG,KAItBvF,MAAO,CACLb,gBAAiB,CACfc,MAAM,EACNC,QAAS,WACP1F,KAAK2F,MAAM,wBAAyB,CAClC/B,OAAQ5D,KAAK4D,OACbgC,QAAS5F,KAAK2E,qBAKtBvB,QAhFF,WAiFIpD,KAAKwE,MAAQxE,KAAK+F,MAAMC,MAAMC,YAC9BjG,KAAK2E,gBAAkB3E,KAAK/D,KAAKqJ,KAAI,SAAzC,8BAEI,IAAJ,yBACI,MAAO4F,EAAelL,KAAKuE,OAAO4G,IAChCnL,KAAK0E,OAAS1E,KAAK0E,OAAS,GACxB1E,KAAK0E,OAAS,IAChB1E,KAAK0E,OAAS,EACd1E,KAAK8E,OAAS9E,KAAK8E,OAAS,IAE9BoG,EAAelL,KAAKoL,kBAEtBpL,KAAK8F,eAEPI,QAAS,CACPkF,gBADJ,WAEM,OACN,YACA,eACA,mBACA,gBACA,YACA,aACA,oEAAQ,OAAR,UAGIV,MAZJ,SAYA,gBACA,gBACA,IACA,iBAAQ,MAAR,+BACA,oBAAQ,OAAR,WACA,OACA,OACA,OAGM,SAASW,EAAWhG,EAAGE,GACrB,IAAR,IACQ,MAAO+F,EAAG,CACR,GAAIC,EAAUC,EAAU,KAAlC,+BACY,OAAO,EAETF,EAAIA,EAAEG,KAER,OAAO,EAlBf,wBAsBA,GAtBA,IAsBA,0CAEA,4BAEA,iBACA,QACA,QACA,GACA,2CACA,0BACA,eACA,GAIA,YACA,eACA,YAvCA,8BA0CM,OAAOC,GAET5F,YAxDJ,WAwDA,WACM,GAAN,uBACA,cACA,0BACA,KACA,QACA,0HAGM,IAAIiB,EAAM,GAChB,uBACA,6CAEMA,EACN,gBACA,KAFA,0DAIA,cAJA,QAQM,IAAN,OACA,SAEA,qBACA,EACA,iBADA,sBACA,yBADA,MAEA,yCAEMA,EAAIC,OAAO,KAAKnK,KAAKuI,GAErB,IAAN,KACA,SACA,QACA,mCACA,gEAEA,cACA,YAKM,SAASQ,IACP,GAAR,OAAY,GAAZ,gBAAQ,CACA,IAAR,sCAFA,iBAGA,mBAHA,GAGA,EAHA,KAGA,EAHA,KAIQuB,EAAOM,QAAQ,UAAU,SAAjC,GACU,OAAOkE,EAAKvN,EAAEiH,GAAKuG,EAAKxN,EAAEiH,KAE5BqC,EAAK/C,gBAAkB+C,EAAKzL,KACpC,QACA,YAAU,OAAV,4CAEA,iBAAU,OAAV,qBAIM,SAAS0L,IACP,GAAR,OAAY,GAAZ,gBAAQ,CACA,IAAR,sCACQR,EAAOM,QAAQ,UAAU,GACzBC,EAAK/C,gBAAkB+C,EAAKzL,KAAKqJ,KAAI,SAA7C,+BAtBMyB,EAAIlK,KAAKqK,GA0BT,IAAN,KACA,kBACA,iCACA,mBAGMH,EACN,YACA,oBACA,sBACA,eACA,uBAAQ,OAAR,OACA,KACA,MACA,YAAQ,OACR,SACA,YACA,gBACA,aACA,SACA,UACA,OAEA,sBACA,0BAAQ,OAAR,uBACA,0BACA,uBACA,4BACQ,EAAR,qCACQ,GAAR,+BACA,aACA,cACA,uBAEQ,GAAR,wBACA,aACA,cACA,2BACA,+BAEA,0BACQ,EAAR,oBACQ,GAAR,+BACA,aACA,cACA,mBAEQ,GAAR,mDAEA,2BACQ,GAAR,wBACA,qCACA,uCAEA,wBACQ,EAAR,wDAIMA,EACN,eACA,mCACA,mCACA,KACA,KACA,YACA,mBACA,aACA,YACA,kBAEA,KACA,KACA,YACA,mBACA,aACA,YACA,kBAEA,uBACA,uBAGMA,EACN,eACA,KACA,IACA,YACA,mBACA,eACA,aACA,aAEA,iCACA,4DACA,8BACA,sBACA,qBAGMA,EACN,kBACA,MACA,qBACA,wBACA,uBAEA,QACA,eACA,KACA,KACA,YACA,mBACA,eACA,aACA,aAEA,KACA,KACA,yDAEA,uBACQ,OAAR,QAEA,uBACQ,OAAR,QAEA,uBACA,0BCpWoV,MCQhV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCgFf,IACE1I,KAAM,cACNwN,WAAY,CACVC,UAAJ,EACIC,kBAAJ,EACIC,QAAJ,EACIC,OAAJ,GACIC,WAAJ,IAEEjQ,KATF,WAUI,MAAO,CACL6F,YAAa,KACb6C,gBAAiB,GACjBX,4BAA6B,GAC7BP,eAAgB,GAChBE,cAAe,GACfX,cAAe,CACbO,UAAW,0CAIjBN,MAAO,CACL2F,WAAY,CACV1H,KAAMxE,SAGV0G,QA1BF,WA0BA,WACQpD,KAAK4I,aACP5I,KAAK8B,YAAc9B,KAAK4I,YAG1B5I,KAAKyD,eAAiB,GACtBzD,KAAK2D,cAAgB,GACrB3D,KAAK2E,gBAAkB3E,KAAKwD,cAAc2I,QAC9C,cAAM,OAAN,iCACA,GADA,qBAEA,0CAAQ,OAAR,wBAEA,IAEInM,KAAK2E,gBAAgBoH,kBAAoB/L,KAAK8B,YAAYsK,SAAS9G,KACvE,YAAM,OAAN,qBAGEY,QAAS,CACPxC,sBADJ,SACA,GACM1D,KAAK2E,gBAAgB0H,EAAmBzI,QAC9C,UAEM5D,KAAKgE,4BAA8BtH,OAAO4P,OAChD,sBACA,QACA,cAAQ,OACR,sBAAU,OAAV,mBACA,2CAAQ,OAAR,sBAGI5J,sBAbJ,SAaA,GACM1C,KAAK2F,MAAM,kBAAmBpD,IAEhCe,yBAhBJ,WAiBMtD,KAAK2F,MAAM,6BAEb1B,+BAnBJ,WAoBMsI,UAAUC,UAAUC,UAAUzM,KAAKgE,4BAA4B0I,UAGnE7H,SAAU,CACRrB,cADJ,WAEM,OAAO9G,OAAOuI,KAAKjF,KAAK8B,YAAYsK,SAAS,IACnD,oBAAQ,MAAR,wBACA,SAGE5G,MAAO,CACLoD,WADJ,WAEU5I,KAAK4I,aACP5I,KAAK8B,YAAc9B,KAAK4I,eChLqT,MCQjV,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI7I,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAAEN,EAAU,OAAEI,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,WAAaN,EAAIiJ,OAAO,WAAajJ,EAAIwI,QAAQvH,GAAG,CAAC,yBAA2BjB,EAAIuD,4BAA4BnD,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAI8B,GAAG9B,EAAIiJ,OAAO2D,eAAexM,EAAG,KAAK,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAG,mBAAmBP,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,0CAA0CP,EAAG,MAAM,CAACyM,YAAY,CAAC,mBAAmB,UAAU,CAACzM,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAIiD,cAAc6J,uBAAuB9M,EAAIuC,GAAIvC,EAAIiJ,OAAoB,eAAE,SAAS8D,GAAM,OAAO3M,EAAG,WAAW,CAACf,IAAI0N,EAAKC,YAAY1M,MAAM,CAAC,EAAIyM,EAAKE,EAAE,EAAIF,EAAKG,EAAE,IAAMH,EAAKI,IAAI,WAAaJ,EAAKK,WAAW,IAAML,EAAKM,IAAI,GAAKN,EAAKC,YAAY,KAAOhN,EAAIsN,KAAK,aAAc,EAAM,QAAU,WAAU,GAAGlN,EAAG,aAAa,CAACgE,IAAI,aAAa9D,MAAM,CAAC,IAAM,EAAE,IAAMN,EAAIiJ,OAAOsE,cAAc,GAAGH,WAAa,GAAGxM,MAAM,CAAC7B,MAAOiB,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIsN,KAAKxM,GAAKE,WAAW,UAAUZ,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAIiD,cAAcuK,aAAapN,EAAG,MAAM,CAACyM,YAAY,CAAC,OAAS,QAAQ,MAAQ,OAAO,QAAU,gBAAgB,CAACzM,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,gBAAgB,KAAON,EAAIiJ,OAAOwE,YAAY,gBAAkBzN,EAAIiJ,OAAOyE,gBAAgB,OAAS,KAAK,OAAS,MAAM,aAAe1N,EAAIsN,SAAS,GAAGlN,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAIiD,cAAc0K,cAAcvN,EAAG,aAAa,CAACE,MAAM,CAAC,KAAON,EAAIiJ,OAAO2E,WAAW,aAAe5N,EAAIsN,QAAQlN,EAAG,aAAa,CAACgE,IAAI,aAAa9D,MAAM,CAAC,IAAM,EAAE,IAAMN,EAAIiJ,OAAOsE,cAAc,GAAGH,WAAa,GAAGxM,MAAM,CAAC7B,MAAOiB,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIsN,KAAKxM,GAAKE,WAAW,UAAUZ,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAIiD,cAAc4K,UAAUzN,EAAG,cAAc,CAACE,MAAM,CAAC,OAASN,EAAIiJ,OAAO,KAAOjJ,EAAIsN,QAAQlN,EAAG,KAAK,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAG,+BAA+BP,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,kDAAkDP,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAIiD,cAAc6K,mBAAmB1N,EAAG,cAAc,CAACgE,IAAI,kBAAkB9D,MAAM,CAAC,GAAK,kBAAkB,WAAaN,EAAIiJ,OAAO8E,GAAGV,IAAI,WAAarN,EAAIiJ,OAAO8E,GAAGV,IAAI,cAAgBrN,EAAIiJ,OAAO+E,UAAUX,IAAI,cAAgBrN,EAAIiJ,OAAO+E,UAAUX,IAAI,KAAOrN,EAAIiJ,OAAO8E,GAAGZ,IAAI,QAAUnN,EAAIiJ,OAAO+E,UAAUb,OAAO/M,EAAG,KAAK,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAG,kBAAkBP,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,2BAA2BP,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAIiD,cAAcgL,iBAAiB7N,EAAG,cAAc,CAACgE,IAAI,gBAAgB9D,MAAM,CAAC,GAAK,gBAAgB,WAAaN,EAAIiJ,OAAO8E,GAAGV,IAAI,WAAarN,EAAIiJ,OAAO8E,GAAGV,IAAI,cAAgBrN,EAAIiJ,OAAOiF,QAAQb,IAAI,cAAgBrN,EAAIiJ,OAAOiF,QAAQb,IAAI,KAAOrN,EAAIiJ,OAAO8E,GAAGZ,IAAI,QAAUnN,EAAIiJ,OAAOiF,QAAQf,QAAQ,IAAI,IAAI,GAAG/M,EAAG,YAAY,IACp4F,GAAkB,GCDlB,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,eAAe,CAAGV,EAAImO,KAAuCnO,EAAIyB,KAArCrB,EAAG,MAAM,CAACJ,EAAIW,GAAG,gBAAyBP,EAAG,SAAS,CAACE,MAAM,CAAC,GAAKN,EAAIoO,MAAOpO,EAAY,SAAEI,EAAG,MAAM,CAACM,YAAY,SAASJ,MAAM,CAAC,GAAKN,EAAIoO,GAAK,aAAa,IAAM,yBAA2BpO,EAAIqO,QAAQrO,EAAIyB,KAAMzB,EAAIsO,SAAWtO,EAAIuO,SAAUnO,EAAG,MAAM,CAACM,YAAY,SAASJ,MAAM,CAAC,GAAKN,EAAIoO,GAAK,cAAc,IAAM,yBAA2BpO,EAAIsO,WAAWtO,EAAIyB,QACrf,GAAkB,G,oBCAtB,SAAS+M,GAAYC,GAEnB,SAASC,EAAoBC,EAASC,GAEpC,OADAD,EAAQE,sBAAwBD,EACzBD,EAIT,IAAIG,EAAQ,GAGRC,EAAgB,CAElBC,UAAU,EAGVC,QAAQ,EAGRC,WAAW,EAGXC,gBAAiB,UAGjBC,iBAAiB,EAGjBC,OAAQ,CAAEC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACzBC,UAAW,EAGXC,QAAQ,EAGRC,eAAgB,IAGhBC,SAAU,KACVC,UAAW,UAGXC,WAAY,EAGZC,WAAW,EAGXC,eAAgB,UAGhBC,cAAe,GAGfC,OAAO,EAGPC,UAAU,GAGRrB,EAAQnS,OAAOyT,OAAO,GAAIrB,EAAeN,GAkxB7C,MA/wB4B,mBAAjBK,EAAMY,SAAyC,IAAjBZ,EAAMY,SAC7CZ,EAAMY,OAAS,CACb,CAACZ,EAAMW,UAAW,EAAG,GAAIX,EAAMO,OAAOC,GACtC,CAAC,EAAGR,EAAMW,UAAW,GAAIX,EAAMO,OAAOE,GACtC,CAAC,EAAG,EAAGT,EAAMW,WAAYX,EAAMO,OAAOG,GACtC,CAAC,EAAG,EAAG,EAAG,KAKdV,EAAMuB,OAASC,SAASC,eAAe9B,EAAO4B,QAC9CvB,EAAMH,QAAUG,EAAMuB,OAAOG,WAAW,MACxC1B,EAAMH,QAAUD,EAAoBI,EAAMH,QAASG,EAAMG,QAIzDH,EAAM2B,QAAUH,SAASI,cAAc,UACvC5B,EAAM6B,SAAW7B,EAAM2B,QAAQD,WAAW,MAI1C1B,EAAM8B,QAAUN,SAASI,cAAc,UACvC5B,EAAM+B,SAAW/B,EAAM8B,QAAQJ,WAAW,MAG1C1B,EAAMgC,WAAaR,SAASI,cAAc,UAC1C5B,EAAMiC,YAAcjC,EAAMgC,WAAWN,WAAW,MAChD1B,EAAMgC,WAAWrM,MAAQ,EACzBqK,EAAMgC,WAAW/L,OAAS,EAG1B+J,EAAMkC,QAAoC,qBAAnBvC,EAAOuC,QAA0BvC,EAAOuC,QAAU,GAGrElC,EAAMM,gBACRN,EAAMmC,UAAY,GAElBnC,EAAMmC,UAAY,EAMpBnC,EAAMoC,OAASZ,SAASC,eAAe9B,EAAOyC,QAG9CpC,EAAMqC,MAAQrC,EAAMoC,OAAOzM,MAAQgK,EAAO2C,QAAQ7B,EAClDT,EAAMuC,MAAQvC,EAAMoC,OAAOnM,OAAS0J,EAAO2C,QAAQ5B,EAGnDV,EAAMsC,QAAU,CACd9B,EAC8B,qBAArBb,EAAO2C,QAAQ9B,EAClBb,EAAO2C,QAAQ9B,EACfR,EAAMqC,MAAQrC,EAAMuC,MAC1B9B,EAAGd,EAAO2C,QAAQ7B,EAClBC,EAAGf,EAAO2C,QAAQ5B,GAIpBV,EAAMwC,YAAc,CAAEhC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACrCV,EAAMyC,aAAe,CAAEjC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGtE,IAAK,GAGxB,GAAlB4D,EAAMqB,WACRrB,EAAMqB,SAAW,CACfb,EAAGkC,KAAKC,MAAM3C,EAAMsC,QAAQ9B,EAAI,GAChCC,EAAGiC,KAAKC,MAAM3C,EAAMsC,QAAQ7B,EAAI,GAChCC,EAAGgC,KAAKC,MAAM3C,EAAMsC,QAAQ5B,EAAI,KAKpCV,EAAM4C,iBAAmB,CAAEpC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAK1CV,EAAM6C,OAAS,GAEf7C,EAAM6C,OAAOC,aAAetB,SAASI,cAAc,UACnD5B,EAAM6C,OAAOE,cAAgB/C,EAAM6C,OAAOC,aAAapB,WAAW,MAKlE/B,EAAOH,QACqB,qBAAnBG,EAAOH,SAA0BG,EAAOH,QAC7CG,EAAOH,UAETQ,EAAMR,QAAU,GAEhBQ,EAAMR,QAAQ4C,OAASZ,SAASC,eAAe9B,EAAOH,QAAQ4C,QAG9DpC,EAAMR,QAAQ6C,MAAQrC,EAAMR,QAAQ4C,OAAOzM,MAAQgK,EAAOH,QAAQ8C,QAAQ7B,EAC1ET,EAAMR,QAAQ+C,MACZvC,EAAMR,QAAQ4C,OAAOnM,OAAS0J,EAAOH,QAAQ8C,QAAQ5B,EAEvDV,EAAMR,QAAQ8C,QAAU,CACtB9B,EACsC,qBAA7Bb,EAAOH,QAAQ8C,QAAQ9B,EAC1Bb,EAAOH,QAAQ8C,QAAQ9B,EACvBR,EAAMR,QAAQ6C,MAAQrC,EAAMR,QAAQ+C,MAC1C9B,EAAGd,EAAOH,QAAQ8C,QAAQ7B,EAC1BC,EAAGf,EAAOH,QAAQ8C,QAAQ5B,GAG5BV,EAAMR,QAAQwD,QACsB,qBAA3BrD,EAAOH,QAAQwD,QAClBrD,EAAOH,QAAQwD,QACf,GAMRrD,EAAOsD,SACsB,qBAApBtD,EAAOsD,UAA2BtD,EAAOsD,SAC9CtD,EAAOsD,WAETjD,EAAMiD,SAAW,GAEjBjD,EAAMiD,SAAS5E,IAAMmD,SAASC,eAAe9B,EAAOsD,SAAS5E,KAE7D2B,EAAMiD,SAAS9G,IAAMwD,EAAOsD,SAAS9G,IACrC6D,EAAMiD,SAAS7G,IAAMuD,EAAOsD,SAAS7G,IAErCuD,EAAOsD,SAASC,KACkB,qBAAzBvD,EAAOsD,SAASC,MACnBvD,EAAOsD,SAASC,KAGtBlD,EAAMiD,SAAS1B,OAASC,SAASI,cAAc,UAC/C5B,EAAMiD,SAASpD,QAAUG,EAAMiD,SAAS1B,OAAOG,WAAW,MAC1D1B,EAAMiD,SAAS1B,OAAO5L,MAAQqK,EAAMiD,SAAS5E,IAAI1I,MACjDqK,EAAMiD,SAAS1B,OAAOtL,OAAS+J,EAAMiD,SAAS5E,IAAIpI,OAGlD+J,EAAMiD,SAASpD,QAAQsD,UACrBnD,EAAMiD,SAAS5E,IACf,EACA,EACA2B,EAAMiD,SAAS5E,IAAI1I,MACnBqK,EAAMiD,SAAS5E,IAAIpI,OACnB,EACA,EACA+J,EAAMiD,SAAS5E,IAAI1I,MACnBqK,EAAMiD,SAAS5E,IAAIpI,SAOvB+J,EAAMoD,SAAW,SAAUC,EAAKJ,GAC9B,IAAKA,EACH,OAAOK,IAET,IAAIC,EAAIC,EAAMC,EAASC,EAAKC,EAAKC,EACjCH,EAAUR,EAAS1B,OAAO5L,MAC1B+N,EAAMJ,IACNK,EAAME,IACN,IAAK,IAAIC,EAAK,EAAGA,EAAKL,EAASK,IAC7BP,EAAKN,EAASpD,QAAQkE,aAAaD,EAAI,EAAG,EAAG,GAAG1W,KAChDoW,EACEd,KAAKsB,IAAIT,EAAG,GAAKF,EAAI,GAAI,GACzBX,KAAKsB,IAAIT,EAAG,GAAKF,EAAI,GAAI,GACzBX,KAAKsB,IAAIT,EAAG,GAAKF,EAAI,GAAI,GACvBG,EAAOG,IACTD,EAAMI,EACNH,EAAMH,GAKV,OAFAI,EACGF,GAAOT,EAAS7G,IAAM6G,EAAS9G,MAASsH,EAAU,GAAKR,EAAS9G,IAC5DyH,GAMT5D,EAAMiE,YAAc,WAClB,IAAIC,EAAM,GACNC,EAAQ,GACRC,EAAQ,GACZ,GAAIpE,EAAMR,UAAYQ,EAAME,SAC1B,IACEgE,EAAIG,GAAK3B,KAAK4B,MAAMtE,EAAMqB,SAASb,EAAIR,EAAMqC,OAC7C6B,EAAIK,GAAK7B,KAAK4B,OAAOtE,EAAMqB,SAASb,EAAI0D,EAAIG,IAAMrE,EAAMqC,OACxDrC,EAAMiC,YAAYuC,UAAY,UAC9BxE,EAAMiC,YAAYwC,SAAS,EAAG,EAAG,EAAG,GACpCzE,EAAMiC,YAAYkB,UAChBnD,EAAMR,QAAQ4C,OACd8B,EAAIG,GAAKrE,EAAMsC,QAAQ7B,EAAIT,EAAMqB,SAASZ,EAC1CyD,EAAIK,GAAKvE,EAAMsC,QAAQ5B,EAAIV,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EAChE,EACA,EACA,EACA,EACA,EACA,GAEF,IAAI2C,EAAMrD,EAAMiC,YAAY8B,aAAa,EAAG,EAAG,EAAG,GAAG3W,KACrD+W,EAAkB,KAAVd,EAAI,IAAuB,KAAVA,EAAI,IAAuB,KAAVA,EAAI,GAC9CrD,EAAMiC,YAAYuC,UAAY,UAC9BxE,EAAMiC,YAAYwC,SAAS,EAAG,EAAG,EAAG,GACpCzE,EAAMiC,YAAYkB,UAChBnD,EAAMR,QAAQ4C,OACd8B,EAAIG,GAAKrE,EAAMsC,QAAQ7B,EAAIT,EAAMqB,SAASZ,EAC1CyD,EAAIK,GAAKvE,EAAMsC,QAAQ5B,EAAIV,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EAChE,EACA,EACA,EACA,EACA,EACA,GAEF2C,EAAMrD,EAAMiC,YAAY8B,aAAa,EAAG,EAAG,EAAG,GAAG3W,KACjDgX,EAAkB,GAAVf,EAAI,IAAqB,GAAVA,EAAI,IAAqB,GAAVA,EAAI,GAExCrD,EAAM4D,WADJO,GAASC,EACQd,IAEAtD,EAAMoD,SAASC,EAAKrD,EAAMiD,UAE/C,MAAOyB,GACPC,QAAQC,KAAKF,EAAIG,SACjBxB,IAAM,EACNrD,EAAME,UAAW,EACjBF,EAAM4D,WAAaN,SAGrBtD,EAAM4D,WAAaN,KAQvBtD,EAAM8E,SAAW,SAAUrI,EAAGsI,GAM5B,IALA,IAAIC,EAAWvI,EAAE7O,OACfqX,EAAWxI,EAAE,GAAG7O,OAEhBsX,GADWH,EAAEnX,OACFmX,EAAE,GAAGnX,QAChByB,EAAI,IAAImG,MAAMwP,GACPlV,EAAI,EAAGA,EAAIkV,IAAYlV,EAAG,CACjCT,EAAES,GAAK,IAAI0F,MAAM0P,GACjB,IAAK,IAAI5V,EAAI,EAAGA,EAAI4V,IAAY5V,EAAG,CACjCD,EAAES,GAAGR,GAAK,EACV,IAAK,IAAI5B,EAAI,EAAGA,EAAIuX,IAAYvX,EAC9B2B,EAAES,GAAGR,IAAMmN,EAAE3M,GAAGpC,GAAKqX,EAAErX,GAAG4B,IAIhC,OAAOD,GAMT2Q,EAAMmF,kBAAoB,WACxB,IAAMC,EAAapF,EAAM8E,SAAS9E,EAAMY,OAAQ,CAC9C,CAACZ,EAAMqB,SAASb,EAAI,GACpB,CAACR,EAAMqB,SAASZ,EAAI,GACpB,CAACT,EAAMqB,SAASX,EAAI,GACpB,CAAC,KAEHV,EAAM4C,iBAAiBpC,EAAI4E,EAAW,GACtCpF,EAAM4C,iBAAiBnC,EAAI2E,EAAW,GACtCpF,EAAM4C,iBAAiBlC,EAAI0E,EAAW,IAMxCpF,EAAMqF,KAAO,WAEXrF,EAAMwC,YAAYhC,EAAIkC,KAAKC,MACzB3C,EAAMuB,OAAO+D,cAAclO,aACxB4I,EAAMsC,QAAQ7B,GAAK,EAAIT,EAAMsC,QAAQ9B,EAAIR,EAAMsC,QAAQ7B,KAE5DT,EAAMwC,YAAY/B,EAAIiC,KAAKC,MACzB3C,EAAMuB,OAAO+D,cAAclO,aACxB4I,EAAMsC,QAAQ9B,GAAK,EAAIR,EAAMsC,QAAQ9B,EAAIR,EAAMsC,QAAQ7B,KAE5DT,EAAMwC,YAAY9B,EAAIgC,KAAKC,MACzB3C,EAAMuB,OAAO+D,cAAclO,aACxB4I,EAAMsC,QAAQ9B,GAAK,EAAIR,EAAMsC,QAAQ9B,EAAIR,EAAMsC,QAAQ7B,KAE5DT,EAAMwC,YAAYpG,IAAMsG,KAAKtG,IAC3B4D,EAAMwC,YAAYhC,EAClBR,EAAMwC,YAAY/B,EAClBT,EAAMwC,YAAY9B,GAIpBV,EAAMyC,aAAajC,EAAIkC,KAAKC,MACzB3C,EAAMwC,YAAYhC,EAAIR,EAAMsC,QAAQ5B,EAAKV,EAAMsC,QAAQ7B,GAE1DT,EAAMyC,aAAahC,EAAIiC,KAAKC,MACzB3C,EAAMwC,YAAY/B,EAAIT,EAAMsC,QAAQ5B,EAAKV,EAAMsC,QAAQ9B,GAE1DR,EAAMyC,aAAa/B,EAAIgC,KAAKC,MACzB3C,EAAMwC,YAAY9B,EAAIV,EAAMsC,QAAQ7B,EAAKT,EAAMsC,QAAQ9B,GAE1DR,EAAMyC,aAAarG,IAAMsG,KAAKtG,IAC5B4D,EAAMyC,aAAajC,EACnBR,EAAMyC,aAAahC,EACnBT,EAAMyC,aAAa/B,GAKnBV,EAAMuB,OAAO5L,OACbqK,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EAAIT,EAAMwC,YAAY9B,IAE9DV,EAAMuB,OAAO5L,MACXqK,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EAAIT,EAAMwC,YAAY9B,EAChEV,EAAMuB,OAAOtL,OAASyM,KAAK4B,OACxB,EAAItE,EAAMmC,WAAanC,EAAMyC,aAAarG,KAE7C4D,EAAMH,QAAUD,EAAoBI,EAAMH,QAASG,EAAMG,SAI3DH,EAAMuF,eAAiB7C,KAAK4B,MAAMtE,EAAMc,SAAWd,EAAMyC,aAAarG,KAGtE4D,EAAMH,QAAQ2F,KAAOxF,EAAMuF,eAAiB,WAG5CvF,EAAM6C,OAAOC,aAAanN,MAAQqK,EAAMoC,OAAOzM,MAC/CqK,EAAM6C,OAAOC,aAAa7M,OAAS+J,EAAMoC,OAAOnM,OAChD+J,EAAM6C,OAAOE,cAAc0C,YAAc,EACzCzF,EAAM6C,OAAOE,cAAcI,UACzBnD,EAAMoC,OACN,EACA,EACApC,EAAMoC,OAAOzM,MACbqK,EAAMoC,OAAOnM,OACb,EACA,EACA+J,EAAMoC,OAAOzM,MACbqK,EAAMoC,OAAOnM,QAEX+J,EAAMR,UAERQ,EAAM6C,OAAOE,cAAc0C,YAAczF,EAAMR,QAAQwD,QACvDhD,EAAM6C,OAAOE,cAAcI,UACzBnD,EAAMR,QAAQ4C,OACd,EACA,EACApC,EAAMR,QAAQ4C,OAAOzM,MACrBqK,EAAMR,QAAQ4C,OAAOnM,OACrB,EACA,EACA+J,EAAMoC,OAAOzM,MACbqK,EAAMoC,OAAOnM,SAKjB+J,EAAM6C,OAAO6C,QAAUlE,SAASI,cAAc,UAC9C5B,EAAM6C,OAAO8C,SAAW3F,EAAM6C,OAAO6C,QAAQhE,WAAW,MACxD1B,EAAM6C,OAAO6C,QAAQ/P,MAAQqK,EAAMsC,QAAQ7B,EAC3CT,EAAM6C,OAAO6C,QAAQzP,OAAS+J,EAAMsC,QAAQ5B,EAG5CV,EAAM6C,OAAOlB,QAAUH,SAASI,cAAc,UAC9C5B,EAAM6C,OAAOhB,SAAW7B,EAAM6C,OAAOlB,QAAQD,WAAW,MACxD1B,EAAM6C,OAAOlB,QAAQhM,MAAQqK,EAAMsC,QAAQ9B,EAC3CR,EAAM6C,OAAOlB,QAAQ1L,OAAS+J,EAAMsC,QAAQ5B,EAG5CV,EAAM6C,OAAOf,QAAUN,SAASI,cAAc,UAC9C5B,EAAM6C,OAAOd,SAAW/B,EAAM6C,OAAOf,QAAQJ,WAAW,MACxD1B,EAAM6C,OAAOf,QAAQnM,MAAQqK,EAAMsC,QAAQ9B,EAC3CR,EAAM6C,OAAOf,QAAQ7L,OAAS+J,EAAMsC,QAAQ7B,EAC5CT,EAAM6C,OAAOd,SAAS6D,QAAQlD,KAAKmD,GAAK,GACxC7F,EAAM6C,OAAOd,SAAS+D,WAAW9F,EAAMsC,QAAQ7B,EAAG,GAGlDT,EAAMiE,cAGNjE,EAAMmF,oBAGNnF,EAAMqB,SAASb,EAAIkC,KAAK4B,MAAMtE,EAAMqB,SAASb,GAC7CR,EAAMqB,SAASZ,EAAIiC,KAAK4B,MAAMtE,EAAMqB,SAASZ,GAC7CT,EAAMqB,SAASX,EAAIgC,KAAK4B,MAAMtE,EAAMqB,SAASX,IAM/CV,EAAM+F,KAAO,SAAU/U,EAAOqB,GAE5B,IACE2T,EACAC,EAFE/B,EAAM,GAGRgC,EAAS,CAAE1F,EAAG,GAAIC,EAAG,GAAIC,EAAG,IAM9B,OALAwF,EAAO1F,EAAIkC,KAAKyD,MAAO,EAAInG,EAAMmB,eAAiBnB,EAAMsC,QAAQ9B,EAAK,GACrE0F,EAAOzF,EAAIiC,KAAKyD,MAAO,EAAInG,EAAMmB,eAAiBnB,EAAMsC,QAAQ7B,EAAK,GACrEyF,EAAOxF,EAAIgC,KAAKyD,MAAO,EAAInG,EAAMmB,eAAiBnB,EAAMsC,QAAQ5B,EAAK,GAG7DrO,GACN,IAAK,IAEH6R,EAAIG,GAAKrE,EAAMqB,SAASb,EAAIR,EAAMqC,MAClC6B,EAAIK,IAAMvE,EAAMqB,SAASb,EAAI0D,EAAIG,IAAMrE,EAAMqC,MAC7CrC,EAAM6C,OAAO8C,SAASxC,UACpBnD,EAAM6C,OAAOC,aACboB,EAAIG,GAAKrE,EAAMsC,QAAQ7B,EACvByD,EAAIK,GAAKvE,EAAMsC,QAAQ5B,EACvBV,EAAMsC,QAAQ7B,EACdT,EAAMsC,QAAQ5B,EACd,EACA,EACAV,EAAMsC,QAAQ7B,EACdT,EAAMsC,QAAQ5B,GAIZV,EAAMiB,YACRjB,EAAM6C,OAAO8C,SAASnB,UAAYxE,EAAMkB,eACxClB,EAAM6C,OAAO8C,SAASlB,SACpBzE,EAAMqB,SAASZ,EACfyF,EAAOxF,EACP,EACAV,EAAMsC,QAAQ5B,EAAI,EAAIwF,EAAOxF,GAE/BV,EAAM6C,OAAO8C,SAASlB,SACpByB,EAAOzF,EACPT,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EACrCV,EAAMsC,QAAQ7B,EAAI,EAAIyF,EAAOzF,EAC7B,IAKJT,EAAMH,QAAQ2E,UAAYxE,EAAMK,gBAChCL,EAAMH,QAAQ4E,SAAS,EAAG,EAAGzE,EAAMwC,YAAYhC,EAAGR,EAAMuB,OAAOtL,QAG/D+J,EAAMH,QAAQsD,UACZnD,EAAM6C,OAAO6C,QACb,EACA,EACA1F,EAAMsC,QAAQ7B,EACdT,EAAMsC,QAAQ5B,EACd,GACCV,EAAMyC,aAAarG,IAAM4D,EAAMyC,aAAajC,GAAK,EAClDR,EAAMwC,YAAYhC,EAClBR,EAAMyC,aAAajC,GAIjBR,EAAMoB,QACRpB,EAAMH,QAAQ2E,UAAYxE,EAAMe,UAChCf,EAAMH,QAAQuG,SACZpG,EAAMoB,MACNsB,KAAK4B,MAAMtE,EAAMwC,YAAYhC,EAAI,IACjCkC,KAAK4B,MACHtE,EAAMyC,aAAarG,IAAM4D,EAAMa,eAC5B,EAAI,EAAKb,EAAMuF,kBAMpBvF,EAAMI,YACRnQ,MACE,WACAoW,OAAOC,WAAWtG,EAAM4D,YACrB2C,YAAYvG,EAAMgB,YAClBwF,QAAQ,MAAO,IACpBC,WAAazG,EAAMH,QAAQ6G,YAAYzW,OAAO0F,MAC9CqK,EAAMH,QAAQ2E,UAAYxE,EAAMe,UAChCf,EAAMH,QAAQuG,SACZnW,MACAyS,KAAK4B,MAAMtE,EAAMwC,YAAYhC,EAAI,IACjCkC,KAAK4B,MACHtE,EAAMyC,aAAarG,IAAM4D,EAAMa,eAAiB,EAC7C,EAAI,EAAKb,EAAMuF,kBAMpBvF,EAAMM,kBACR0F,EAAQ,OAAStD,KAAK4B,MAAMtE,EAAM4C,iBAAiBpC,GACnDyF,EAAajG,EAAMH,QAAQ6G,YAAYV,GAAOrQ,MAC9CqK,EAAMH,QAAQ2E,UAAYxE,EAAMe,UAChCf,EAAMH,QAAQuG,SACZJ,EACAhG,EAAMwC,YAAYhC,EAAI,EAAIyF,EAAa,EACvCvD,KAAK4B,MAAMtE,EAAMuB,OAAOtL,OAAS+J,EAAMuF,eAAiB,KAG5D,MAEF,IAAK,IAEHvF,EAAMH,QAAQ2E,UAAYxE,EAAMK,gBAChCL,EAAMH,QAAQ4E,SACZzE,EAAMwC,YAAYhC,EAClB,EACAR,EAAMwC,YAAY/B,EAClBT,EAAMuB,OAAOtL,QAEf,IAAK,IAAI6N,EAAK,EAAGA,EAAK9D,EAAMsC,QAAQ9B,EAAGsD,IAAM,CAC3C,IAAM6C,EAAO7C,EAAK9D,EAAMqC,MAClBuE,GAAQ9C,EAAK6C,GAAQ3G,EAAMqC,MACjCrC,EAAM6C,OAAOhB,SAASsB,UACpBnD,EAAM6C,OAAOC,aACb6D,EAAO3G,EAAMsC,QAAQ7B,EAAIT,EAAMqB,SAASZ,EACxCmG,EAAO5G,EAAMsC,QAAQ5B,EACrB,EACAV,EAAMsC,QAAQ5B,EACdoD,EACA,EACA,EACA9D,EAAMsC,QAAQ5B,GAKdV,EAAMiB,YACRjB,EAAM6C,OAAOhB,SAAS2C,UAAYxE,EAAMkB,eACxClB,EAAM6C,OAAOhB,SAAS4C,SACpBzE,EAAMqB,SAASb,EACf0F,EAAOxF,EACP,EACAV,EAAMsC,QAAQ5B,EAAI,EAAIwF,EAAOxF,GAE/BV,EAAM6C,OAAOhB,SAAS4C,SACpByB,EAAO1F,EACPR,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EACrCV,EAAMsC,QAAQ9B,EAAI,EAAI0F,EAAO1F,EAC7B,IAKJR,EAAMH,QAAQsD,UACZnD,EAAM6C,OAAOlB,QACb,EACA,EACA3B,EAAMsC,QAAQ9B,EACdR,EAAMsC,QAAQ5B,EACdV,EAAMwC,YAAYhC,GACjBR,EAAMyC,aAAarG,IAAM4D,EAAMyC,aAAahC,GAAK,EAClDT,EAAMwC,YAAY/B,EAClBT,EAAMyC,aAAahC,GAIjBT,EAAMiD,WAAajD,EAAMiD,SAASC,OAEpClD,EAAMH,QAAQsD,UACZnD,EAAMiD,SAAS5E,IACf,EACA,EACA2B,EAAMiD,SAAS5E,IAAI1I,MACnB,EACA+M,KAAK4B,MAAMtE,EAAMwC,YAAYhC,EAA0B,GAAtBR,EAAMwC,YAAY/B,GACnDiC,KAAK4B,MAAOtE,EAAMyC,aAAarG,IAAM4D,EAAMa,eAAkB,GAC7D6B,KAAK4B,MAA4B,GAAtBtE,EAAMwC,YAAY/B,GAC7BiC,KAAK4B,MAAMtE,EAAMyC,aAAarG,IAAM4D,EAAMa,iBAE5Cb,EAAMH,QAAQ2E,UAAYxE,EAAMe,UAChC8F,UAAYR,OAAOC,WAAWtG,EAAMiD,SAAS9G,KAC1CoK,YAAYvG,EAAMgB,YAClBwF,QAAQ,MAAO,IAClBM,UAAYT,OAAOC,WAAWtG,EAAMiD,SAAS7G,KAC1CmK,YAAYvG,EAAMgB,YAClBwF,QAAQ,MAAO,IAClBxG,EAAMH,QAAQuG,SACZS,UACA7G,EAAMwC,YAAYhC,EACM,GAAtBR,EAAMwC,YAAY/B,EAClBT,EAAMH,QAAQ6G,YAAYG,WAAWlR,MAAQ,EAC/C+M,KAAK4B,MACHtE,EAAMyC,aAAarG,IAAM4D,EAAMa,eAAiB,EAC7C,EAAI,EAAKb,EAAMuF,iBAGtBvF,EAAMH,QAAQuG,SACZU,UACA9G,EAAMwC,YAAYhC,EACM,GAAtBR,EAAMwC,YAAY/B,EAClBT,EAAMH,QAAQ6G,YAAYI,WAAWnR,MAAQ,EAC/C+M,KAAK4B,MACHtE,EAAMyC,aAAarG,IAAM4D,EAAMa,eAAiB,EAC7C,EAAI,EAAKb,EAAMuF,kBAMpBvF,EAAMM,kBACRN,EAAMH,QAAQ2F,KAAOxF,EAAMuF,eAAiB,WAC5CvF,EAAMH,QAAQ2E,UAAYxE,EAAMe,UAChCiF,EAAQ,OAAStD,KAAK4B,MAAMtE,EAAM4C,iBAAiBnC,GACnDwF,EAAajG,EAAMH,QAAQ6G,YAAYV,GAAOrQ,MAC9CqK,EAAMH,QAAQuG,SACZJ,EACAhG,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EAAI,EAAIwF,EAAa,EAC7DvD,KAAK4B,MAAMtE,EAAMuB,OAAOtL,OAAS+J,EAAMuF,eAAiB,KAI9D,IAAK,IAEHvF,EAAMH,QAAQ2E,UAAYxE,EAAMK,gBAChCL,EAAMH,QAAQ4E,SACZzE,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EACxC,EACAT,EAAMwC,YAAY9B,EAClBV,EAAMuB,OAAOtL,QAGf,IAAK,IAAI6N,EAAK,EAAGA,EAAK9D,EAAMsC,QAAQ9B,EAAGsD,IAAM,CAC3C,IAAM6C,EAAO7C,EAAK9D,EAAMqC,MAClBuE,GAAQ9C,EAAK6C,GAAQ3G,EAAMqC,MACjCrC,EAAM6C,OAAOd,SAASoB,UACpBnD,EAAM6C,OAAOC,aACb6D,EAAO3G,EAAMsC,QAAQ7B,EACrBmG,EAAO5G,EAAMsC,QAAQ5B,EAAIV,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EAC9DV,EAAMsC,QAAQ7B,EACd,EACA,EACAqD,EACA9D,EAAMsC,QAAQ7B,EACd,GAKAT,EAAMiB,YACRjB,EAAM6C,OAAOd,SAASyC,UAAYxE,EAAMkB,eACxClB,EAAM6C,OAAOd,SAAS0C,SACpByB,EAAOzF,EACPT,EAAMqB,SAASb,EACfR,EAAMsC,QAAQ7B,EAAI,EAAIyF,EAAOzF,EAC7B,GAEFT,EAAM6C,OAAOd,SAAS0C,SACpBzE,EAAMqB,SAASZ,EACfyF,EAAO1F,EACP,EACAR,EAAMsC,QAAQ9B,EAAI,EAAI0F,EAAO1F,IAKjCR,EAAMH,QAAQsD,UACZnD,EAAM6C,OAAOf,QACb,EACA,EACA9B,EAAMsC,QAAQ9B,EACdR,EAAMsC,QAAQ7B,EACdT,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,GACvCT,EAAMyC,aAAarG,IAAM4D,EAAMyC,aAAa/B,GAAK,EAClDV,EAAMwC,YAAY9B,EAClBV,EAAMyC,aAAa/B,GAIjBV,EAAMM,kBACR0F,EAAQ,OAAStD,KAAK4B,MAAMtE,EAAM4C,iBAAiBlC,GACnDuF,EAAajG,EAAMH,QAAQ6G,YAAYV,GAAOrQ,MAC9CqK,EAAMH,QAAQ2E,UAAYxE,EAAMe,UAChCf,EAAMH,QAAQuG,SACZJ,EACAhG,EAAMwC,YAAYhC,EAChBR,EAAMwC,YAAY/B,EAClBT,EAAMwC,YAAY9B,EAAI,EACtBuF,EAAa,EACfvD,KAAK4B,MAAMtE,EAAMuB,OAAOtL,OAAS+J,EAAMuF,eAAiB,OAOlEvF,EAAM+G,WAAa,SAAUC,GAC3B,IAGIC,EAAIC,EAAIC,EAHRC,EAAOpH,EAAMuB,OAAO8F,wBACpBvD,EAAKkD,EAAEM,QAAUF,EAAKG,KACtBC,EAAKR,EAAES,QAAUL,EAAK9K,IAGtBwH,EAAK9D,EAAMwC,YAAYhC,GACzB0G,EAAKxE,KAAK4B,OAAOtE,EAAMsC,QAAQ7B,EAAI,IAAMqD,EAAK9D,EAAMwC,YAAYhC,IAChE2G,EAAKzE,KAAK4B,OACNtE,EAAMsC,QAAQ5B,EAAI,KAChBV,EAAMyC,aAAarG,IAAM4D,EAAMyC,aAAajC,GAAK,EAAIgH,GACvDxH,EAAMyC,aAAajC,GAEvBR,EAAMqB,SAASZ,EAAIiC,KAAKtG,IAAIsG,KAAKvG,IAAI+K,EAAIlH,EAAMsC,QAAQ7B,EAAI,GAAI,GAC/DT,EAAMqB,SAASX,EAAIgC,KAAKtG,IAAIsG,KAAKvG,IAAIgL,EAAInH,EAAMsC,QAAQ5B,EAAI,GAAI,IACtDoD,EAAK9D,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,GACtDqD,GAAU9D,EAAMwC,YAAYhC,EAC5ByG,EAAKvE,KAAK4B,OAAOtE,EAAMsC,QAAQ9B,EAAI,IAAMsD,EAAK9D,EAAMwC,YAAY/B,IAChE0G,EAAKzE,KAAK4B,OACNtE,EAAMsC,QAAQ5B,EAAI,KAChBV,EAAMyC,aAAarG,IAAM4D,EAAMyC,aAAajC,GAAK,EAAIgH,GACvDxH,EAAMyC,aAAajC,GAEvBR,EAAMqB,SAASb,EAAIkC,KAAKtG,IAAIsG,KAAKvG,IAAI8K,EAAIjH,EAAMsC,QAAQ9B,EAAI,GAAI,GAC/DR,EAAMqB,SAASX,EAAIgC,KAAKtG,IAAIsG,KAAKvG,IAAIgL,EAAInH,EAAMsC,QAAQ5B,EAAI,GAAI,KAE/DoD,EAAKA,EAAK9D,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EAClDwG,EAAKvE,KAAK4B,OAAOtE,EAAMsC,QAAQ9B,EAAI,IAAMsD,EAAK9D,EAAMwC,YAAY9B,IAChEwG,EAAKxE,KAAK4B,OACNtE,EAAMsC,QAAQ7B,EAAI,KAChBT,EAAMyC,aAAarG,IAAM4D,EAAMyC,aAAa/B,GAAK,EAAI8G,GACvDxH,EAAMyC,aAAa/B,GAEvBV,EAAMqB,SAASb,EAAIkC,KAAKtG,IAAIsG,KAAKvG,IAAI8K,EAAIjH,EAAMsC,QAAQ9B,EAAI,GAAI,GAC/DR,EAAMqB,SAASZ,EAAIiC,KAAKtG,IAAIsG,KAAKvG,IAAI+K,EAAIlH,EAAMsC,QAAQ7B,EAAI,GAAI,IAGjET,EAAMiE,cAGNjE,EAAMmF,oBAGNnF,EAAM0H,UACF1H,EAAMkC,SACRlC,EAAMkC,QAAQ8E,IAIlBhH,EAAM0H,QAAU,WACd1H,EAAM+F,KAAK/F,EAAMqB,SAASb,EAAG,KAC7BR,EAAM+F,KAAK/F,EAAMqB,SAASZ,EAAG,KAC7BT,EAAM+F,KAAK/F,EAAMqB,SAASX,EAAG,MAI/BV,EAAMuB,OAAOoG,iBAAiB,QAAS3H,EAAM+G,YAAY,GAGzD/G,EAAMuB,OAAOoG,iBACX,aACA,SAAUX,GACRhH,EAAMuB,OAAOoG,iBAAiB,YAAa3H,EAAM+G,YAAY,MAE/D,GAIF/G,EAAMuB,OAAOoG,iBACX,WACA,SAAUX,GACRhH,EAAMuB,OAAOqG,oBAAoB,YAAa5H,EAAM+G,YAAY,MAElE,GAIF/G,EAAMoC,OAAOuF,iBAAiB,QAAQ,WACpC3H,EAAMqF,OACNrF,EAAM0H,aAEJ1H,EAAMR,SACRQ,EAAMR,QAAQ4C,OAAOuF,iBAAiB,QAAQ,WAC5C3H,EAAMqF,OACNrF,EAAM0H,aAKV1H,EAAMqF,OAGNrF,EAAM0H,UAEC1H,EAGMN,UC9yBf,IACElQ,KAAM,cACN4E,MAAO,CACT,OACA,UACA,KACA,aACA,aACA,gBACA,iBAEEhH,KAXF,WAYI,MAAO,CACL4S,MAAO,KACPP,UAAU,EACVJ,MAAM,EACNwI,OAAO,IAGXxQ,QAAS,CACPyQ,gBADJ,WAGM,IAAN,UACQvG,OAAQpQ,KAAKmO,GACb8C,OAAQ,GAAhB,6BACQE,QAAS,CAAjB,qCACQ9C,QAAS,CACP4C,OAAQ,GAAlB,8BACUE,QAAS,CAAnB,2CACUU,QAAS,MAGb7R,KAAK6O,MAAQA,EACb7O,KAAKsO,UAAW,EAChBtO,KAAKkO,MAAO,IAGhB9K,QArCF,WAqCA,WACIpD,KAAKwJ,WAAU,WACboN,YAAW,WACT,EAAR,SACQ,EAAR,oBACA,UC9EqV,MCQjV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI7W,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,kBAAkB,CAACa,GAAG,CAAC,OAASjB,EAAI6H,gBAAgBzH,EAAG,MAAM,CAACgE,IAAI,QAAQ1D,YAAY,aAAaJ,MAAM,CAAC,GAAK,gBAAgB,IACxO,GAAkB,GCOtB,aAEA,IACEhC,KAAM,aACN4E,MAAO,CACLhH,KAAM,CACJiF,KAAMmD,OAERwS,aAAc,CACZ3V,KAAMgU,SAGVjZ,KAVF,WAWI,MAAO,CACLsI,OAAQ,CAAd,mCACMnB,SAAS,EACToB,MAAO,KACPM,OAAQ,IACRO,EAAG,KACHE,EAAG,OAGPV,SAAU,CACRiS,cADJ,WAMM,IAJA,IAAN,mBACA,sBACA,KAEA,aACQ,IAAK,IAAb,aACUC,EAAOha,KAAK,CAAtB,gCAGM,OAAOga,IAGXvR,MAAO,CACLqR,aADJ,WAEM,IAAN,OACM,GAAN,qBACA,kBACA,6BACQ,OAAR,oBACA,EAEA,QAIEzT,QA/CF,WAgDIpD,KAAKoD,SAAU,EACfpD,KAAKwE,MAAQxE,KAAK+F,MAAMC,MAAMC,YAC9BjG,KAAKkU,QAEPhO,QAAS,CACPgO,KADJ,WAEM,IAAN,gDACA,yCAGA,KACA,qBACA,yBACA,2BACA,YACA,KACA,YACA,uDAGA,KACA,oCACQ,OAAR,OAEA,OACA,KACA,oCACQ,OAAR,OAEA,OAGA,qDAEMlU,KAAKqF,EAAIA,EAGT,IAAN,qDAEMrF,KAAKuF,EAAIA,EAOT,IAAN,KACA,kBACA,oCAEA,cAcA,OAEMwB,EACN,YACA,qCACQ,OAAR,eAEA,QACA,eACA,sBACQ,OAAR,UAEA,sBACQ,OAAR,UAEA,aACA,aACA,4BACA,6BACA,0BACQ,OAAR,cAEA,wBACA,uBACA,6BACQ,OAAR,oBACA,EAEA,OAMIa,aA9FJ,WA+FM5H,KAAKwE,MAAQxE,KAAK+F,MAAMC,MAAMC,YAE9B,IAAN,KACA,qBACA,4DAEMjG,KAAKqF,EAAE2R,MAAM,CAAC,EAAGhX,KAAKwE,MAAQxE,KAAKuE,OAAO6R,KAAOpW,KAAKuE,OAAO0S,QAC7D,IAAN,OACMlQ,EACN,kBACA,sBACQ,OAAR,YAEA,oCC1KoV,MCQhV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIhH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,kBAAkB,CAACF,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,sBAAsBP,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,aAAa,CAACQ,MAAM,CAAC7B,MAAOiB,EAAc,WAAEa,SAAS,SAAUC,GAAMd,EAAImX,WAAWrW,GAAKE,WAAW,eAAe,CAAChB,EAAIW,GAAG,oBAAoB,GAAGP,EAAG,QAAQ,CAACA,EAAG,aAAa,CAACQ,MAAM,CAAC7B,MAAOiB,EAAkB,eAAEa,SAAS,SAAUC,GAAMd,EAAIoX,eAAetW,GAAKE,WAAW,mBAAmB,CAAChB,EAAIW,GAAG,8BAA8B,IAAI,GAAGP,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,UAAY,kBAAkB,QAAUN,EAAIiJ,OAAOoO,SAAS,OAASrX,EAAIiJ,OAAOqO,MAAM,eAAiBtX,EAAIuX,eAAe,WAAavX,EAAImX,WAAW,oBAAsBnX,EAAIoX,eAAe,aAAepX,EAAIsN,MAAMrM,GAAG,CAAC,qBAAuBjB,EAAIwX,wBAAwBpX,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,eAAe,GAAGP,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,UAAY,mBAAmB,QAAUN,EAAIiJ,OAAOoO,SAAS,OAASrX,EAAIiJ,OAAOqO,MAAM,eAAiBtX,EAAIuX,eAAe,WAAavX,EAAImX,WAAW,oBAAsBnX,EAAIoX,eAAe,aAAepX,EAAIsN,MAAMrM,GAAG,CAAC,qBAAuBjB,EAAIwX,wBAAwBpX,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,gBAAgB,IAAI,IAAI,IAChxC,GAAkB,GCDlB,GAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAKN,EAAIyX,cACtH,GAAkB,G,6SCetB,aAEA,IACEnZ,KAAM,eACN4E,MAAO,CACLwU,QAAS,CACPvW,KAAMmD,OAERqT,OAAQ,CACNxW,KAAMmD,OAERmT,UAAW,CACTtW,KAAMgC,QAERyU,eAAgB,CACdzW,KAAMxE,QAERwa,WAAY,CACVhW,KAAM6H,SAER6O,oBAAqB,CACnB1W,KAAM6H,SAER8N,aAAc,CACZ3V,KAAMgU,SAGVjZ,KAzBF,WA0BI,MAAO,CACL4b,MAAO,KACPC,OAAQ,KACRC,SAAU,KACVC,SAAU,KACVC,QAAS,KACTC,UAAW,KACXC,mBAAoB,KACpBC,WAAW,EACXC,MAAO,KACPC,UAAW,KACXC,kBAAmB,KACnBC,mBAAoB,KAGxBpV,QAzCF,WA0CIpD,KAAKkU,OACLlU,KAAKyY,WAEPjT,MAAO,CACLqR,aADJ,WAEM7W,KAAK0Y,kBAEPxB,WAJJ,WAKMlX,KAAK2Y,oBAEPf,oBAPJ,WAQM5X,KAAK4Y,0BAGT1S,QAAS,CACPgO,KAAM,WAIJlU,KAAKsY,UAAYjI,SAASC,eAAetQ,KAAKwX,WAgB9C,IAVA,IAKN,EALA,eACA,cAEA,KACA,KAEA,cACA,IAEA,WACA,iBACQqB,EAASC,EAAIvc,GACbwc,EAAUhc,KAAK8b,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAC5C,IAAR,qCACYG,EAAWC,IACbA,EAASD,GAGX3B,EAAM6B,OAAOhH,EAAI3V,GAAG,GAAI2V,EAAI3V,GAAG,GAAI2V,EAAI3V,GAAG,IAC1Cmb,EAAO3a,KAAKsa,EAAM1Y,EAAG0Y,EAAM8B,EAAG9B,EAAMzD,GAKtC5T,KAAKoZ,eAA0B,IAATH,EAItB,IAHA,IAAN,sBACA,sBAEA,gBACQI,EAAM,GACd,sBACA,sBACA,oBACQC,EAAO,GAAf,4BAMM,IAAN,cACMC,EAASC,aACf,WACA,kBAEMD,EAASC,aACf,cACA,kBAEMD,EAASC,aAAa,OAAQ,IAAI,GAAxC,WACMD,EAASC,aAAa,QAAS,IAAI,GAAzC,WAIMxZ,KAAK6X,MAAQ,IAAI,GAAvB,KACM7X,KAAK8X,OAAS,IAAI,GAAxB,qBACM9X,KAAK8X,OAAO2B,SAASC,EAAa,EAATT,EACzBjZ,KAAK8X,OAAO2B,SAASlU,EAAa,EAAT0T,EAGzBjZ,KAAKiY,QAAU,IAAI,GAAzB,cACMjY,KAAK6X,MAAM8B,IAAI3Z,KAAKiY,SAMpB,IAAN,0cAgBA,mUAaA,yBAIA,eACQ2B,SAAU,CACRvC,MAAO,CAAjB,6BACUwC,aAAc,CAAxB,UAEQC,aAAcA,EACdC,eAAgBA,EAChBC,aAAa,EACbC,YAAY,IAIdja,KAAKkY,UAAY,IAAI,GAA3B,UACMlY,KAAK6X,MAAM8B,IAAI3Z,KAAKkY,WAIpB,IADA,IAAN,KACA,gBACQW,EAASC,EAAI,GACboB,EAAmBnd,MAAM8b,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAG1D,IAAN,cACMsB,EAAkBX,aACxB,WACA,kBAEMW,EAAkBX,aACxB,cACA,kBAEMW,EAAkBX,aACxB,OACA,kBAEMW,EAAkBX,aACxB,QACA,kBAGMxZ,KAAKmY,mBAAqB,IAAI,GAApC,UACMnY,KAAK6X,MAAM8B,IAAI3Z,KAAKmY,oBAGpBnY,KAAKmY,mBAAmBiC,QAAUpa,KAAK4X,oBAKvC,IAAN,cAEA,GACQvS,EAAG,CACX,QACA,cAEQE,EAAG,CACX,QACA,cAEQmU,EAAG,CACX,QACA,eAOA,4CACA,mCAAQ,IAAR,oCAAQ,OAAR,kBACA,qBACU,OAAV,qCAMA,4CACA,mCAAQ,IAAR,oCAAQ,OAAR,kBACA,uBAKA,4CACA,mCAAQ,IAAR,oCAAQ,OAAR,kBACA,cACA,EACA,GACA,MACA,GACA,SAMA,GACQrU,EAAG,IAAI,GAAf,kCACQE,EAAG,IAAI,GAAf,oCACQmU,EAAG,IAAI,GAAf,oCAIA,uBACA,uBACA,uBAGMW,EAAUV,IAAIW,GACdD,EAAUV,IAAIY,GACdF,EAAUV,IAAIa,GACdxa,KAAK6X,MAAM8B,IAAIU,GAGfra,KAAKgY,SAAW,IAAI,GAA1B,iBACMhY,KAAKgY,SAASyC,cAAc9a,OAAO+a,kBACnC1a,KAAKgY,SAAS2C,QACpB,2BACA,4BAEM3a,KAAKsY,UAAU9R,YAAYxG,KAAKgY,SAAS4C,YAGzC5a,KAAK+X,SAAW,IAAI8C,GAA1B,2CACM7a,KAAK+X,SAAS+C,eAAgB,EAC9B9a,KAAK+X,SAASgD,cAAgB,IAC9B/a,KAAK+X,SAASiD,YAAa,EAC3Bhb,KAAK+X,SAASb,WAAalX,KAAKkX,WAChClX,KAAK+X,SAASkD,YAAuB,EAAThC,EAC5BjZ,KAAK+X,SAASmD,YAAa,EAK3Blb,KAAK+X,SAASvB,iBAAiB,SAAUxW,KAAKmb,iBAK1Cnb,KAAKoY,YACPpY,KAAKqY,MAAQ,IAAI,GAAzB,KACQrY,KAAKqY,MAAMuC,WAAWQ,MAAM3B,SAAW,WACvCzZ,KAAKqY,MAAMuC,WAAWQ,MAAMjQ,IAAM,MAClCnL,KAAKqY,MAAMuC,WAAWQ,MAAMnE,MAAQ,MACpCjX,KAAKsY,UAAU9R,YAAYxG,KAAKqY,MAAMuC,aAGxC5a,KAAKsY,UAAU9B,iBAAiB,SAAUxW,KAAKqb,gBAAgB,IAEjE5C,QAAS,WACP6C,sBAAsBtb,KAAKyY,SAC3BzY,KAAKF,SACDE,KAAKoY,WACPpY,KAAKqY,MAAMkD,UAGf7C,eA5QJ,WAiRM,IAFA,IAAN,2CACA,0CACA,kBACQY,EAAOkC,MAAMjf,GAAKA,IAAMyD,KAAK6W,aAAe,EAAM,IAClDwC,EAAMmC,MAAMjf,GACpB,sBACA,sBACA,oBAEM+c,EAAOmC,aAAc,EACrBpC,EAAMoC,aAAc,EAKpB,IAFA,IAAN,oDACA,mDACA,kBACQC,EAAUF,MAAM,GAAxB,4BACQG,EAASH,MAAM,GACvB,sBACA,sBACA,oBAEME,EAAUD,aAAc,EACxBE,EAASF,aAAc,GAEzB9C,iBAxSJ,WA0SM3Y,KAAK+X,SAASb,WAAalX,KAAKkX,YAElC0B,sBA5SJ,WA8SM5Y,KAAKmY,mBAAmBiC,QAAUpa,KAAK4X,qBAEzC9X,OAAQ,WACNE,KAAKgY,SAASlY,OAAOE,KAAK6X,MAAO7X,KAAK8X,QAClC9X,KAAK2X,gBACP3X,KAAK8X,OAAO2B,SAASmC,KAAK5b,KAAK2X,gBAEjC3X,KAAK+X,SAASwD,UAEhBF,eAAgB,WACdrb,KAAKgY,SAAS2C,QACpB,2BACA,6BAGIQ,gBAAiB,WAKfnb,KAAK2F,MAAM,uBAAwB3F,KAAK8X,OAAO2B,aC5YiS,MCOlV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCwCf,IACEpb,KAAM,cACNwN,WAAY,CACVgQ,aAAJ,IAEE5Y,MAAO,CACL+F,OAAQ,CACN9H,KAAMxE,QAER2Q,KAAM,CACJnM,KAAMgU,SAGVjZ,KAbF,WAcI,MAAO,CACLib,YAAY,EACZC,gBAAgB,EAChBG,eAAgB,OAGpBpR,QAAS,CACPqR,qBADJ,SACA,GACMvX,KAAKsX,eAAiBmC,KChFyT,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI1Z,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACyM,YAAY,CAAC,OAAS,QAAQ,MAAQ,OAAO,QAAU,gBAAgB,CAACzM,EAAG,kBAAkB,CAACa,GAAG,CAAC,OAASjB,EAAI6H,gBAAgBzH,EAAG,MAAM,CAACgE,IAAI,QAAQ1D,YAAY,YAAYJ,MAAM,CAAC,GAAKN,EAAIoO,GAAG,MAAQpO,EAAIyE,MAAM,OAASzE,EAAI+E,WAAW,IAChV,GAAkB,GCatB,aAEAnF,OAAOwG,GAAK,GAEZ,QACE9H,KAAM,YACNpC,KAFF,WAGI,MAAO,CACL8K,IAAK,KACLoS,EAAG,KACH9T,EAAG,KACHE,EAAG,KACHuW,QAAS,CAAC,EAAG,GACbC,QAAS,CAAC,EAAG,GACbxX,OAAQ,CAAd,mCACMyX,MAAO,GACPxX,MAAO,KACPM,OAAQ,OAGZD,SAAU,GAQVW,MAAO,CACLqR,aADJ,WAEM7W,KAAKic,0BAGT/V,QAAS,CACPgW,OADJ,WAEMlc,KAAKwE,MACX,gEACMxE,KAAK8E,OACX,iEACM,IAAN,iCAIA,IACA,YACA,KACA,YAHA,oBAIA,iBAJA,aAIA,gBAJA,MAMA,0CACA,yCAEM9E,KAAK+G,IAAMA,EACX/G,KAAKmZ,EAAIA,EACTnZ,KAAKqF,EAAIA,EACTrF,KAAKuF,EAAIA,EAETvF,KAAKmc,YACLnc,KAAKoc,YACLpc,KAAKqc,uBAEPF,UA5BJ,WA6BMnc,KAAKmZ,EACX,YACA,uBACA,iBAHA,uBAGA,YAHA,MAIA,6BAGImD,YApCJ,WAqCMtc,KAAKqF,EAAE2R,MAAM,CAAC,EAAGhX,KAAKwE,QAAQ+X,OAAOvc,KAAK8b,SAC1C,GAAN,oEAEIM,UAxCJ,WAyCMpc,KAAKmZ,EACX,YACA,uBACA,0BACA,eACA,oBACA,gCACA,YACA,oBACA,0BACA,mBAGIqD,YAtDJ,WAuDMxc,KAAKuF,EAAEyR,MAAM,CAAChX,KAAK8E,OAAQ,IAAIyX,OAAOvc,KAAK+b,SAC3C,GAAN,kEAEIM,oBA1DJ,WA2DMrc,KAAKmZ,EAAEnS,OAAO,UAAUyV,KAAK,QAAS,gBACtCzc,KAAKmZ,EAAEnS,OAAO,UAAUyV,KAAK,QAAS,iBAExCR,sBA9DJ,WA+DM,IAAN,OACM,GAAN,6CACA,YACA,sBAAQ,OAAR,uBACA,sBAAQ,OAAR,kCACA,yBAEM,GAAN,6CACA,YACA,sBAAQ,OAAR,uBACA,sBAAQ,OAAR,kCACA,oBAEIS,SA5EJ,WA6EM,IAAN,OAGA,kCACQ,OAAOngB,KAEf,kCACQ,OAAOA,KAGf,kCACQ,OAAO,GAAf,UAEA,kCACQ,OAAO,GAAf,UAIMyD,KAAK8b,QAAU,CAACa,EAAMC,GACtB5c,KAAK+b,QAAU,CAACc,EAAMC,GAEtB9c,KAAKsc,cACLtc,KAAKwc,cAGL,IAAN,KACA,OACA,iBACQ,OAAR,UAEA,iBACQ,OAAR,aAGA,KACA,OACA,iBACQ,OAAR,UAEA,iBACQ,OAAR,aAIMxc,KAAKgc,MAAQ,CAACe,EAAOC,GAErBhd,KAAKmZ,EACX,eACA,yBACA,iBACA,oBACA,2BACA,gCACA,+BACA,yBACA,YAEMnZ,KAAKmZ,EACX,eACA,yBACA,iBACA,oBACA,qBACA,gCACA,+BACA,yBACA,YAEMnZ,KAAKmZ,EACX,sBACA,2BACA,QACA,eACA,wBACA,sBAAQ,OAAR,cACA,qBAAQ,OAAR,UACA,oBACA,0BAAQ,MAAR,4BACA,qBAEMnZ,KAAK+G,IAAI/F,GAAG,aAAa,gBAM3B4G,aAnKJ,WAqKM5H,KAAKwE,MACX,gEAEMxE,KAAKsc,cAELtc,KAAKic,wBACL,IAAN,OACMjc,KAAKmZ,EACX,sBACA,sBAAQ,OAAR,cACA,0BAAQ,MAAR,4BAEMnZ,KAAKmZ,EAAEtS,UAAU,aAAa4V,KAAK,IAAKzc,KAAKgc,MAAM,IAEnDhc,KAAKmZ,EAAEtS,UAAU,aAAa4V,KAAK,IAAKzc,KAAKgc,MAAM,MAGvD5Y,QAnNF,WAoNIpD,KAAKkc,SACLlc,KAAK0c,YAEPzZ,MAAO,CAAC,SAAU,SAAU,OAAQ,KAAM,eAAgB,oBCzOuR,MCQ/U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIlD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACM,YAAY,QAAQ,CAACN,EAAG,MAAM,CAACM,YAAY,SAAS2a,MAAOrb,EAAS,MAAEM,MAAM,CAAC,GAAKN,EAAIoO,SAC7L,GAAkB,GCMtB,IACE9P,KAAM,WACNwG,SAAU,CACRoY,QADJ,WAEM,OAAO1L,KAAKC,MAAMxR,KAAKqN,KAAOrN,KAAKgN,IAErCkQ,QAJJ,WAKM,OAAOld,KAAKqN,KAAOrN,KAAKgN,GAE1BoO,MAPJ,WAQM,IAAN,GACQ5W,MAAO,GAAf,sBACQM,OAAQ,GAAhB,sBACQqY,KAAM,IACN,wBAAyB,IAAjC,mCACQ,wBAAyB,IAAjC,mCACQ,mBAAoB,8BAA5B,sBACQC,QAAS,cACTvL,QAAS7R,KAAK6R,SAOhB,OALI7R,KAAKqd,cACPtG,EAAO0C,SAAW,WAClB1C,EAAOX,KAAO,cAAtB,0BAGaW,IAGX9a,KA5BF,WA6BI,MAAO,IAETiK,QAAS,GACT9C,QAhCF,aAiCEoC,MAAO,CACL6H,KADJ,cAGEpK,MAAO,CACT,IACA,IACA,MACA,aACA,MACA,KACA,OACA,cACA,YCpDkV,MCQ9U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,iECqGf,0BACA,yBACA,yBAEA,QACE5E,KAAM,SACNwN,WAAY,CACVyR,YAAJ,GACIC,WAAJ,GACIC,YAAJ,GACI1R,UAAJ,EACIyB,UAAJ,GACIkQ,SAAJ,GACIxR,OAAJ,GACIyR,UAAJ,MAEEza,MAAO,CACL2F,WAAY,CACV1H,KAAMxE,QAERmM,WAAY,CACV3H,KAAMxE,OACNyG,QAAS,OAGblH,KArBF,WAsBI,MAAO,CACLoR,KAAM,EACNsQ,YAAa,EACbrG,eAAgB,KAChBJ,YAAY,EACZC,gBAAgB,EAChBnO,OAAQ,KACRT,OAAQ,KACRvF,cAAe,CACb6J,oBAAqB,6CACrBU,UAAW,8CACXG,WAAY,iCACZE,OAAQ,mCACRC,gBACR,wDACQG,cAAe,uCAIrB9H,QAAS,CACP0X,cADJ,WAEM,OAAOrM,KAAKC,MAAMxR,KAAKgJ,OAAO8E,GAAGX,WAAa,IAEhDoK,qBAJJ,SAIA,GACMvX,KAAKsX,eAAiBmC,GAExBnW,yBAPJ,WAQMtD,KAAK2F,MAAM,8BAGfvC,QApDF,WAoDA,WACQpD,KAAK4I,aACP5I,KAAKgJ,OAAShJ,KAAK4I,YAEjB5I,KAAK6I,aACP7I,KAAKuI,OAASvI,KAAK6I,YAGrB7I,KAAKwJ,WAAU,WACT,EAAV,SACQ,EAAR,mCAIEhE,MAAO,CACLoD,WAAY,CACV/C,WAAW,EACXH,QAAS,WACH1F,KAAK4I,aACP5I,KAAKgJ,OAAShJ,KAAK4I,aAGvBnD,MAAM,GAERoD,WAAY,CACVhD,WAAW,EACXH,QAAS,WACH1F,KAAK6I,aACP7I,KAAKuI,OAASvI,KAAK6I,aAGvBpD,MAAM,GAERuD,OAAQ,CACNnD,WAAW,EACXH,QAAS,WACH1F,KAAKgJ,SACPhJ,KAAK2d,YAAc3d,KAAK4d,kBAG5BnY,MAAM,KCxN+U,MCQvV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC6Df,IACEpH,KAAM,YACNwN,WAAY,CACVC,UAAJ,EACIhK,YAAJ,GACIkH,OAAJ,GACIgD,QAAJ,GAEE/P,KARF,WASI,MAAO,CACL4hB,OAAQ,KACR/c,MAAO,KACPgd,UAAW,KACXhc,YAAa,KACbic,gBAAiB,GACjBC,GAAI,kBACJC,SAAU,KACVC,MAAO,KACPvc,oBAAoB,EACpBC,aAAa,EACbuc,WAAY,KACZ9b,cAAe,GACfO,eAAgB,KAChBH,eAAgB,KAChBD,gBAAiB,KACjB4b,gBAAiB,GACjB7c,IAAK,OAGT2E,QAAS,CACP,gBADJ,WACA,+KACA,aACA,iCACA,YACA,qBAIA,qBACA,mBACA,UACA,gBACA,aACA,YACA,iBAIA,aAlBA,iDAsBA,MACA,iCAEA,IACA,uBACA,oCAGA,kCACA,yBAEA,8BACA,SACA,kBACA,+BACA,UArCA,+CAuCIxD,sBAxCJ,SAwCA,GACM1C,KAAKwC,gBAAkBD,GAEzB8b,cA3CJ,WA4CUre,KAAKse,OAAOC,QAGtB,gDACA,+BAGA,uBACUve,KAAKme,WAAa,MAClBne,KAAKuB,IAAMvB,KAAKse,OAAOC,MAAMhd,IAE7BvB,KAAKwe,eACf,0BACUxe,KAAKme,WAAa,KAClBne,KAAKke,MAAQle,KAAKse,OAAOC,MAAML,MAC/Ble,KAAK6d,OAAS7d,KAAKke,MAAMO,MAAM,KAAK,GACpCze,KAAKie,SAAWje,KAAKke,MAAMO,MAAM,KAAK9gB,OAAO,GAAG+O,KAAK,KACrD1M,KAAK0e,cAXL1e,KAAK2e,QAAQ5hB,KAAK,OAexByhB,YAjEJ,WAiEA,WAEM,EAAN,kCACQ,EAAR,kBAMII,UA1EJ,SA0EA,GACM,IAAN,gBACA,kCACM,OAAOC,GAETC,QA/EJ,SA+EA,GACM,IAAN,oBACA,gCACA,kDACA,qDAEQ9e,KAAK+e,aADa,SAAhBC,EACkBC,mBAAmBF,EAAa,GAAGG,WAEnC,KAEtB,IAAN,+CACA,mCACA,4BAEA,cACM,OAAOC,GAETC,eAhGJ,SAgGA,cACM,IAAKC,EACH,OAAO,EAET,IAAN,kDACM,OAAO,EAAb,2BACQ,IAAR,oBACQ,EAAR,sDACY,EAAZ,cACU,EAAV,mCAIIX,WA7GJ,WA6GA,WACA,OACA,iBACM,OAAO,EAAb,EACA,OACA,kBACQ,IAAR,oBACQ,EAAR,sDACA,gBACU,EAAV,kCAGA,iBACQ,EAAR,oCACA,YAAU,OAAV,wBAEQ,EAAR,gCACA,YAAU,OAAV,wBAEQ,EAAR,sBACQ,EAAR,sBAGIY,aApIJ,SAoIA,GACM,MAAwB,SAApBtf,KAAKme,WACAoB,EAAKC,mBAAmBf,MAAM,KAAKhiB,OAClD,uBACe8iB,EAAKd,MAAM,KAAKhiB,YAD/B,GAIIgjB,oBA3IJ,WA6IM,GAA8B,IAA1Bzf,KAAK8d,UAAUrhB,OACjBuD,KAAK8d,UAAY9d,KAAK8d,UAAU,OACxC,CACQ,IAAR,gDACA,sDACA,OACqC,IAAzB4B,EAAcjjB,OAChBuD,KAAK8d,UAAY4B,EAAc,GAE/B1f,KAAK8d,UAAY,OAIvB6B,aA1JJ,SA0JA,GACM,IAAN,iBAEM,OAAO,IAAIC,SAAQ,SAAzB,KACQC,EAAeC,QAAU,WACvBD,EAAeE,QACfC,EAAO,IAAIC,aAAa,iCAG1BJ,EAAeK,OAAS,WACtBC,EAAQ,CACNZ,KAAMa,EACNC,QAAS1W,KAAK2W,MAAMT,EAAeviB,WAGvCuiB,EAAeU,WAAWH,OAG9B,mBA5KJ,SA4KA,sKACA,WACA,gBACA,qBACA,MACA,YACA,YACA,oBAEA,IAEA,IAXA,cACA,EADA,yBAaA,GAbA,8CAeI,mBA3LJ,SA2LA,sKACA,WACA,gBACA,qBACA,MACA,UACA,YACA,mBACA,gBACA,eACA,eACA,aAEA,IAEA,IAfA,cACA,EADA,yBAiBA,GAjBA,8CAmBI,gBA9MJ,WA8MA,mKACA,sBADA,gCAEA,4BAFA,OAEA,EAFA,OAGA,2BAHA,0BAIA,oBAJA,kCAKA,QACA,mCACA,SADA,6BACA,eAPA,QAKA,EALA,OAUA,qBAVA,+CAaI,qBA3NJ,SA2NA,wKACA,sBACA,kBAFA,oBAIA,sBAJA,iCAKA,4BALA,OAKA,EALA,OAMA,yBACA,0CACA,6BARA,2BAUA,oBAVA,kCAWA,QACA,mCACA,SADA,6BACA,eAbA,QAWA,EAXA,OAgBA,mBACA,oCACA,6BAlBA,wBAoBA,sBACA,wDArBA,QAwBA,4BAxBA,+CA0BII,eArPJ,SAqPA,GACM,IAAN,4BACM,GAAIC,EAAcC,SAAS/gB,OAAOghB,SAASC,UAAW,CACpD,IAAR,yCACQ,OAAOC,EAAWtf,EAElB,OAAOA,IAIbuf,QA5RF,WA6RI9gB,KAAKqe,iBAEPjb,QA/RF,WAgSQpD,KAAK+gB,YACP/gB,KAAKme,WAAa,OAClBne,KAAKc,MAAQd,KAAK+gB,WAEhB/gB,KAAKghB,gBACPhhB,KAAKme,WAAa,OAClBne,KAAK8d,UAAY9d,KAAKghB,cACtBhhB,KAAKyf,sBACLzf,KAAKihB,oBAGTpc,SAAU,CACRqc,UADJ,WAEM,IAAN,kEAEM,OADA3f,GAAO,2BAAb,sBACavB,KAAKwgB,eAAejf,IAE7B4f,iBANJ,WAMA,WACM,OAAInhB,KAAKqC,cACArC,KAAKohB,YAAYlc,QAAO,SAAvC,yCAEelF,KAAKohB,aAGhBC,sBAAuB,WACrB,OAAIrhB,KAAK8B,YACA9B,KAAK8B,YAAYsK,SAAS9G,KAAI,SAA7C,iCAEe,IAGXgc,eAAgB,WAApB,WACM,OAAIthB,KAAKc,MACiB,SAApBd,KAAKme,WACA,EAAjB,SACA,YACA,cAAY,OAAZ,wDACA,IAEA,uBACiB,EAAjB,SACA,YACA,cAAY,OAAZ,mDACA,IAGiB,GAGF,IAGXiD,YAAa,WACX,IAAN,4BACQG,SAAS,EACTC,YAAa,SAEf,OAAO,OAAb,OAAa,CACb,QACA,sEAEA,kBAGEhc,MAAO,CACLub,UAAW,CACTtb,MAAM,EACNI,WAAW,EACXH,QAAS,WACH1F,KAAK+gB,YACP/gB,KAAKc,MAAQd,KAAK+gB,aAIxBC,cAAe,CACbvb,MAAM,EACNI,WAAW,EACXH,QAAS,WACH1F,KAAKghB,gBACPhhB,KAAK8d,UAAY9d,KAAKghB,cACtBhhB,KAAKyf,sBACLzf,KAAKihB,qBAIXQ,QAAS,CACP/b,QAAS,WACH1F,KAAKyhB,UACPzhB,KAAKuB,IAAMvB,KAAKyhB,QAChBzhB,KAAKwe,iBAIXkD,UAAW,CACThc,QAAS,WACH1F,KAAK0hB,YACP1hB,KAAKke,MAAQle,KAAK0hB,UAClB1hB,KAAK0e,gBAIXJ,OAAQ,gBACR1c,YAAa,CACX8D,QAAS,WACH1F,KAAK4B,cACP5B,KAAKwC,gBAAkB,QAI7BA,gBAAiB,CACfkD,QAAS,WACH1F,KAAKwC,kBACPxC,KAAK4B,aAAc,EACnB5B,KAAK2hB,qBAAqB3hB,KAAKwC,oBAIrC8e,eAAgB,CACd7b,MAAM,EACNI,WAAW,EACXH,QAAS,WAAf,4JACA,wBACA,qBAFA,cACA,oBADA,gBAIA,wBACA,qBALA,OAIA,oBAJA,4GAAe,KAUbzC,MAAO,CACL8d,UAAW1c,MACX2c,cAAe3c,MACfod,QAASve,OACTwe,UAAWxe,SCtfoU,MCO/U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,M,QCyCf,IACE7E,KAAM,cACNwN,WAAY,CACV+V,UAAJ,GACI5V,QAAJ,GAEE/P,KANF,WAOI,MAAO,CACL6E,MAAO,KACPW,YAAa,KACbC,iBAAkB,KAClBmgB,IAAK,6BACL7Y,OAAQ,GACRzH,IAAK,KACLf,MAAO,aAGX0F,QAAS,CACP5E,SADJ,WAEUtB,KAAKuB,IAAIugB,WAAW,SACtB9hB,KAAK+hB,KAEL/hB,KAAKgiB,aAGTA,UARJ,WASMC,GAAOllB,KAAK,CAAlB,uCAEIglB,GAXJ,WAYME,GAAOllB,KAAK,CACVmlB,KAAM,UACN3D,MAAO,CAAf,wCAIE/Y,MAAO,CACL1E,MADJ,WAEUd,KAAKc,QACPd,KAAKQ,MAAQ,aAGbR,KAAKyB,YAAczB,KAAKc,MAAMoE,QAAO,SAA7C,UACA,kCAIQlF,KAAK0B,iBAAmB1B,KAAKc,MAAMoE,QAC3C,YAAU,MAAV,yBAGQlF,KAAKQ,MAAQ,kBC7GgU,MCQjV,I,WAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCdf2hB,aAAIC,IAAIC,QAEO,WAAIA,OAAO,CACxBC,OAAQ,CACN,CACEJ,KAAM,IACN7jB,KAAM,cACNkC,UAAWgiB,IAEb,CACEL,KAAM,UACN7jB,KAAM,YACNkC,UAAWqhB,OCXXY,IAAQC,EAEdN,aAAIO,OAAOC,eAAgB,EAC3BR,aAAIO,OAAOE,YAAcJ,GAGzB,IAAIL,aAAI,CACNU,GAAI,OACJZ,OAAQA,GACRpW,WAAY,CAAEiX,OACdC,SAAU,Y,yDChBZ,W,2DCAA,W,sFCAA,W,kCCAA,W,oCCAA,W,yDCAA,W,mCCAA,W,gFCAA,W,kCCAA,W,yDCAA","file":"js/app.bce1ccf3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dmriprep-viewer/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViolinPlot.vue?vue&type=style&index=0&id=c6183a18&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sHDgwCEMBJZu0AAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAABM5JREFUWMO1V0tPG2cUPZ4Hxh6DazIOrjFNqJs0FIMqWFgWQkatsmvVbtggKlSVRVf5AWz4AWz4AUSKEChll19QJYSXkECuhFxsHjEhxCYm+DWGMZ5HF72DJq4bAzFXurI0M/I5997v3u9cC65vTJVn2lX/xHINQOYSBLTLEuIuCWw4Z3IGAEvf6ASmVHjNzHCXBG4A0AjACsAOwEbO0nsFQBnAGYASAIl+ZRMR7SolMEdsByD09fV5R0ZGgg8ePPjW5/N1iqLYpuu6RZblciKR2I9Go69evnwZnZ+fjwI4IS8AKBIRzeQfJWCANwKwh0KhtrGxsYehUOin1tbW+zzP23ietzY2NnIAoGmaLsuyUiqVyvl8XtrY2NiamZn589mzZxsAUgCOAeQAnFI2tI+VxIjaAeDzoaGh7xYWFuZOTk6OZVk+12uYqqq6JEnn0Wg0OT4+/geAXwGEAdwDIFJQXC1wO4DWR48e/RCPxxclSSroVzRFUbSDg4P848ePFwH8DuAhkWih83TRQWxFOXgAwvDwcOfo6OhvXV1d39tsNtuVBwTDWBwOh1UUxVsMw1hXVlbSdCgNV43uYSvrHg6H24aHh38eHBz85TrgF9FYLHA4HLzH43FvbW2d7u/vG+dANp8FpqIlbd3d3V8Fg8EfBUFw4BONZVmL3+9vHhkZCQL4AoAHgJPK8G+yzC0XDofdoVAo5PP5vkadTBAEtr+/39ff3x8gAp/RPOEqx2qjx+NpvXv3bk9DQ0NDvQgwDIOWlhZrMBj8kgi0UJdxRgYMArzL5XJ7vd57qLPZ7Xamp6fnNgBXtQxcjFuHw+Hyer3t9SYgCAITCAScAJoBNNEY/08GOFVVrfVMv7kMNDntFD1vjIAPrlRN0xjckOm6biFQ3jwNPwDMZrOnqVTqfb3Bi8Wivru7W/VCYkwPlKOjo0IikXh7EwQikYgE4Nw0CfXKDCipVCoTj8df3QABbW1tLUc6oUgkFPMkVACUNjc337148eKvw8PDbJ2jP1taWkoCyNDVXDSECmNSK4qiKNLq6urW8+fPI/UicHx8rD59+jSVy+WOAKSJhKENwFItLtoxk8mwsixzHR0dHe3t7c5PAU+n09rs7OzJkydPYqVSaQfANoDXALIk31S2smU1TWMPDg7K5XKZ7+3t9TudTut1U7+wsFCcmJiIpdPpbQBxADsAknQWymYCOukBHYCuKApisdhpMpnURFEU79y503TVyKenpzOTk5M7e3t7MQKPV0Zv1gNm+awB0MvlshqLxfLb29uyJElWURSbXC4XXyvqxcXFs6mpqeTc3Nzu3t7e3wQcA7BPZ8Cov1pNlJplmQtAG8MwHV6v95tAINA5MDBwPxAIuLu6upr8fr/VAN3c3JQjkcjZ+vp6fnl5+d2bN29SuVzuNYAEpf01CdRChUL+X1VskHACuA3Ay3Fcu9vt7nA6nZ7m5uYWQRCaNE3jVVW15PP580KhIGUymWw2m00DOAJwSP4WwPtq4LX2Ao6USxNlQyS/RcQcdLGwlNIz6vEMAaZpNzCk2Pll94LK/cDYimxERiBwG10sxjgvEZBE0UpE6vxj+0Ct5bTaXthgEhRmja8QWNkkPGsuIpfdjpkK+cZUWTC0KredVmtD/gdlSl6EG4AMvQAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"img/dmriprep-icon.e1416b54.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport BootstrapVue from \"bootstrap-vue\";\nimport \"vue-router\";\nimport Vue from \"vue\";\n// eslint-disable-next-line\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\nVue.use(BootstrapVue);\n\nexport default {\n  name: \"App\",\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0bf4bb60&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[(_vm.state === 'getInput')?_c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"d-flex align-items-center\"},[_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"5\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../assets/dmriprep-icon.svg\")}})]),_c('b-col',{staticClass:\"text-left\",attrs:{\"cols\":\"7\"}},[_c('h1',[_vm._v(\"dmriprep Viewer\")])])],1),_c('b-form-group',{staticClass:\"mt-5 text-left\",attrs:{\"label\":\"Choose a directory containing dwiqc.json files generated with dmriprep or qsiprep:\",\"description\":\"All computation happens on the client side. Your report will not be uploaded to any server.\"}},[_c('b-form-file',{attrs:{\"directory\":\"\",\"multiple\":\"\",\"placeholder\":\"Choose a directory...\"},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}})],1),_c('b-form-group',{staticClass:\"mt-5 text-left\",attrs:{\"label\":\"OR copy/paste an Amazon S3 URI:\",\"description\":\"Enter a valid Amazon S3 URI of the form s3://bucket/followed/by/a/key.\"}},[_c('b-input-group',{staticClass:\"mb-3\",attrs:{\"size\":\"md\",\"prepend\":\"URL\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"s3://dmriprep-viewer-example-data\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.navigate($event)}},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}}),_c('b-input-group-append',[_c('b-btn',{attrs:{\"size\":\"md\",\"text\":\"Button\",\"variant\":\"primary\"},on:{\"click\":_vm.navigate}},[_vm._v(\"Go\")])],1)],1)],1)],1):_vm._e(),(_vm.state === 'showLoader')?_c('spinner'):_vm._e(),(_vm.state === 'showReports')?_c('genReport',{attrs:{\"filesProp\":_vm.reportFiles,\"groupFileProp\":_vm.groupReportFiles}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"px-0 m-3\",attrs:{\"fluid\":\"\"}},[(_vm.groupReport)?_c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[_c('b-sidebar',{attrs:{\"id\":\"sidebar-backdrop\",\"title\":\"Study overview\",\"backdrop-variant\":\"dark\",\"backdrop\":\"\",\"lazy\":\"\",\"shadow\":\"\",\"visible\":_vm.showInitialSidebar}},[_c('explainer',{attrs:{\"explainer-text\":\"Select a subject below to see their report. Or select the study ID at the top to see a group summary. You can filter the subject list using the text input. You can close this sidebar by clicking on the 'x' in the top right or by simply clicking outside of the sidebar.\"}}),_c('b-nav',{staticClass:\"w-100\",attrs:{\"vertical\":\"\",\"pills\":\"\"}},[_c('b-nav-item',{staticClass:\"mx-1\",attrs:{\"active\":_vm.showStudyQc},on:{\"click\":function($event){_vm.showStudyQc = true}}},[_vm._v(\" \"+_vm._s(_vm.groupReport.studyId ? _vm.groupReport.studyId : \"Study\")+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subjectFilter),expression:\"subjectFilter\"}],staticClass:\"m-1\",attrs:{\"placeholder\":\"filter subjects\"},domProps:{\"value\":(_vm.subjectFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.subjectFilter=$event.target.value}}}),_vm._l((_vm.filteredSubjects),function(subject){return _c('b-nav-item',{key:subject,staticClass:\"mx-1\",attrs:{\"active\":subject === _vm.subjectSelected},on:{\"click\":function($event){_vm.subjectSelected = subject}}},[(_vm.subjectRatings[subject].reviewed)?_c('b-icon',{staticClass:\"mr-2\",attrs:{\"align-self\":\"end\",\"icon\":\"check-circle-fill\",\"scale\":\"0.9\",\"variant\":\"success\"}}):_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"circle\",\"scale\":\"0.5\",\"variant\":\"secondary\"}}),_vm._v(\" \"+_vm._s(subject)+\" \")],1)})],2)],1),(_vm.showStudyQc && _vm.groupReport)?_c('groupReport',{attrs:{\"reportProp\":_vm.groupReport},on:{\"subjectSelected\":_vm.updateSelectedSubject,\"ratingsDownloadRequested\":_vm.downloadRatings}}):(_vm.subjectSelected && _vm.subjectReports[_vm.subjectSelected]['report'])?_c('report',{attrs:{\"reportProp\":_vm.subjectReports[_vm.subjectSelected]['report'],\"ratingProp\":_vm.subjectRatings[_vm.subjectSelected]},on:{\"ratingsDownloadRequested\":_vm.downloadRatings}}):_c('spinner')],1):_c('spinner')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.collapseId && _vm.questionId)?_c('b-container',{staticClass:\"text-right\"},[_c('b-icon',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:(_vm.collapseId),expression:\"collapseId\"}],staticClass:\"question-mark when-open\",attrs:{\"id\":_vm.closeId,\"icon\":\"x-circle\",\"variant\":\"primary\",\"aria-hidden\":\"true\"}}),_c('b-icon',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:(_vm.collapseId),expression:\"collapseId\"}],staticClass:\"question-mark when-closed\",attrs:{\"id\":_vm.questionId,\"icon\":\"question-circle\",\"variant\":\"primary\",\"aria-hidden\":\"true\"}}),_c('b-collapse',{staticClass:\"mb-2 text-left\",attrs:{\"id\":_vm.collapseId}},[_c('b-card',[_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.explainerText))])])],1),_c('b-tooltip',{attrs:{\"target\":_vm.questionId,\"triggers\":\"hover\"}},[_vm._v(\"learn more about this component\")]),_c('b-tooltip',{attrs:{\"target\":_vm.closeId,\"triggers\":\"hover\"}},[_vm._v(\"close the explainer\")])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container v-if=\"collapseId && questionId\" class=\"text-right\">\n    <b-icon\n      v-b-toggle=\"collapseId\"\n      :id=\"closeId\"\n      class=\"question-mark when-open\"\n      icon=\"x-circle\"\n      variant=\"primary\"\n      aria-hidden=\"true\"\n    ></b-icon>\n    <b-icon\n      v-b-toggle=\"collapseId\"\n      :id=\"questionId\"\n      class=\"question-mark when-closed\"\n      icon=\"question-circle\"\n      variant=\"primary\"\n      aria-hidden=\"true\"\n    ></b-icon>\n    <b-collapse :id=\"collapseId\" class=\"mb-2 text-left\">\n      <b-card>\n        <p class=\"card-text\">{{ explainerText }}</p>\n      </b-card>\n    </b-collapse>\n    <b-tooltip :target=\"questionId\" triggers=\"hover\"\n      >learn more about this component</b-tooltip\n    >\n    <b-tooltip :target=\"closeId\" triggers=\"hover\"\n      >close the explainer</b-tooltip\n    >\n  </b-container>\n</template>\n\n<script>\nexport default {\n  name: \"explainer\",\n  data() {\n    return {\n      collapseId: null,\n      questionId: null,\n      closeId: null,\n    };\n  },\n  props: {\n    explainerText: {\n      type: String,\n      default: \"Here is a helpful description of this component!\",\n    },\n  },\n  mounted() {\n    this.collapseId = \"collapse\" + this._uid;\n    this.questionId = \"question\" + this._uid;\n    this.closeId = \"close\" + this._uid;\n  },\n};\n</script>\n\n<style scoped>\n.question-mark {\n  cursor: pointer;\n}\n\n.collapsed.when-open,\n.not-collapsed.when-closed {\n  display: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Explainer.vue?vue&type=template&id=19620c5a&scoped=true&\"\nimport script from \"./Explainer.vue?vue&type=script&lang=js&\"\nexport * from \"./Explainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Explainer.vue?vue&type=style&index=0&id=19620c5a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19620c5a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[(_vm.groupReport)?_c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[_c('topBar',{attrs:{\"reportProp\":_vm.groupReport,\"sidebarOn\":\"\",\"isGroupReport\":\"\"},on:{\"ratingsDownloadRequested\":_vm.ratingsDownloadRequested}}),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.qcMetrics}}),_c('b-form-group',{staticClass:\"text-left\",attrs:{\"label\":\"Select scatterplot metrics\"}},[_c('b-form-checkbox-group',{attrs:{\"id\":\"checkbox-group-scatter\",\"options\":_vm.metricOptions,\"name\":\"scatter-metrics\"},model:{value:(_vm.scatterMetrics),callback:function ($$v) {_vm.scatterMetrics=$$v},expression:\"scatterMetrics\"}})],1),_c('scatterplotMatrix',{attrs:{\"dataProp\":_vm.groupReport['subjects'],\"metricsProp\":_vm.scatterMetrics},on:{\"updateBrushedSubjects\":_vm.updateBrushedSubjects,\"updateSelectedSubject\":_vm.updateSelectedSubject}}),_c('b-form-group',{staticClass:\"text-left\",attrs:{\"label\":\"Select violin plot metrics\"}},[_c('b-form-checkbox-group',{attrs:{\"id\":\"checkbox-group-violin\",\"options\":_vm.metricOptions,\"name\":\"violin-metrics\"},model:{value:(_vm.violinMetrics),callback:function ($$v) {_vm.violinMetrics=$$v},expression:\"violinMetrics\"}})],1),_vm._l((_vm.violinMetrics),function(metric){return _c('violinPlot',{key:metric,attrs:{\"data\":_vm.groupReport['subjects'],\"metric\":metric},on:{\"updateBrushedSubjects\":_vm.updateBrushedSubjects,\"updateSelectedSubject\":_vm.updateSelectedSubject}})}),_c('b-card',{staticClass:\"text-left p-0 mb-5 mt-2\",attrs:{\"footer\":\"This list scrolls left/right. Click on a participant ID to go to their report.\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('b-row',{staticClass:\"d-flex align-items-center\"},[_c('b-col',{staticClass:\"text-left\",attrs:{\"cols\":\"7\"}},[_c('h5',{staticClass:\"m-0\"},[_vm._v(\" Selected subjects: \"+_vm._s(_vm.brushedSubjectsIntersection.length)+\" \")])]),_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"5\"}},[_c('b-button',{staticClass:\"m-0\",attrs:{\"id\":\"clipboard-button\",\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.copyBrushedSubjectsToClipboard()}}},[_c('b-icon',{staticClass:\"p m-0\",attrs:{\"icon\":\"clipboard\",\"aria-hidden\":\"true\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"clipboard-button\",\"triggers\":\"hover\"}},[_vm._v(\"copy subject list to clipboard\")])],1)],1)]},proxy:true}],null,false,1731478097)},[_c('b-card-text',[_c('b-nav',{staticClass:\"pb-0 text-left brushed-subject-nav\",attrs:{\"vertical\":\"\"}},_vm._l((_vm.brushedSubjectsIntersection),function(subject){return _c('b-nav-item',{key:subject,on:{\"click\":function($event){return _vm.updateSelectedSubject(subject)}}},[_vm._v(_vm._s(subject))])}),1)],1)],1)],2):_c('spinner')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"scatterdiv\"}},[_c('svg',{ref:\"chart\",staticClass:\"scatterplot-matrix\",attrs:{\"id\":\"scattersvg\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"scatterdiv\">\n    <!-- <resize-observer @notify=\"handleResize\" /> -->\n    <svg id=\"scattersvg\" ref=\"chart\" class=\"scatterplot-matrix\"></svg>\n  </div>\n</template>\n\n<script>\nconst d3 = require(\"d3\");\n\nexport default {\n  name: \"ScatterplotMatrix\",\n  props: {\n    dataProp: {\n      type: Array,\n    },\n    metricsProp: {\n      type: Array,\n    },\n  },\n  data() {\n    return {\n      margin: { top: 10, right: 10, bottom: 10, left: 20 },\n      width: null,\n      padding: 20,\n      radius: 4,\n      brushedSubjects: null,\n      metrics: [],\n      data: [],\n      mounted: false,\n    };\n  },\n  computed: {\n    height() {\n      return this.width + this.padding;\n    },\n    size() {\n      return (\n        (this.width - (this.columns.length + 1) * this.padding) /\n          this.columns.length +\n        this.padding\n      );\n    },\n    columns() {\n      const that = this;\n      return Object.keys(this.data[0]).filter(\n        (d) => that.metrics.includes(d) && typeof that.data[0][d] === \"number\"\n      );\n    },\n    yAxis() {\n      const axis = d3\n        .axisLeft()\n        .ticks(6)\n        .tickSize(-this.size * this.columns.length);\n      const that = this;\n      return (g) =>\n        g\n          .selectAll(\"g\")\n          .data(this.y)\n          .join(\"g\")\n          .attr(\"transform\", (d, i) => `translate(0,${i * that.size})`)\n          .each(function (d) {\n            return d3.select(this).call(axis.scale(d));\n          })\n          .call((g) => g.select(\".domain\").remove())\n          .call((g) => g.selectAll(\".tick line\").attr(\"stroke\", \"#ddd\"));\n    },\n    xAxis() {\n      const axis = d3\n        .axisBottom()\n        .ticks(6)\n        .tickSize(this.size * this.columns.length);\n      const that = this;\n      return (g) =>\n        g\n          .selectAll(\"g\")\n          .data(this.x)\n          .join(\"g\")\n          .attr(\"transform\", (d, i) => `translate(${i * that.size},0)`)\n          .each(function (d) {\n            return d3.select(this).call(axis.scale(d));\n          })\n          .call((g) => g.select(\".domain\").remove())\n          .call((g) => g.selectAll(\".tick line\").attr(\"stroke\", \"#ddd\"));\n    },\n    x() {\n      const paddingPlusMargin =\n        this.padding + this.margin.left + this.margin.right;\n      return this.columns.map((c) =>\n        d3\n          .scaleLinear()\n          .domain(d3.extent(this.data, (d) => d[c]))\n          .rangeRound([\n            paddingPlusMargin / 2,\n            this.size - paddingPlusMargin / 2,\n          ])\n      );\n    },\n    y() {\n      const paddingPlusMargin =\n        this.padding + this.margin.top + this.margin.top;\n      const that = this;\n      return this.x.map((x) =>\n        x\n          .copy()\n          .range([that.size - paddingPlusMargin / 2, paddingPlusMargin / 2])\n      );\n    },\n  },\n  watch: {\n    brushedSubjects: {\n      deep: true,\n      handler: function () {\n        this.$emit(\"updateBrushedSubjects\", {\n          metric: \"scatterplotMatrix\",\n          brushed: this.brushedSubjects,\n        });\n      },\n    },\n    metricsProp: {\n      deep: true,\n      immediate: true,\n      handler: function () {\n        if (this.metricsProp) {\n          this.metrics = this.metricsProp;\n          if (this.mounted) {\n            this.createChart();\n          }\n        }\n      },\n    },\n    dataProp: {\n      deep: true,\n      immediate: true,\n      handler: function () {\n        if (this.dataProp) {\n          this.data = this.dataProp;\n        }\n      },\n    },\n  },\n  mounted() {\n    this.width = this.$refs.chart.clientWidth;\n    this.brushedSubjects = this.data.map((d) => d.participant_id);\n    this.createChart();\n    this.mounted = true;\n  },\n  methods: {\n    createChart() {\n      // Extend d3.selection to change z-order\n      // https://github.com/wbkd/d3-extended\n      d3.selection.prototype.moveToFront = function () {\n        return this.each(function () {\n          this.parentNode.appendChild(this);\n        });\n      };\n      d3.selection.prototype.moveToBack = function () {\n        return this.each(function () {\n          var firstChild = this.parentNode.firstChild;\n          if (firstChild) {\n            this.parentNode.insertBefore(this, firstChild);\n          }\n        });\n      };\n\n      d3.select(\"#scatterdiv\")\n        .append(\"div\")\n        .attr(\"id\", \"scattertooltip\")\n        .attr(\n          \"style\",\n          \"position: absolute; background-color: white; display: none; padding: 2px; border: 1px solid black; border-radius: 5px;\"\n        );\n\n      // Remove old chart\n      d3.selectAll(\"#scattersvg > *\").remove();\n\n      // append the svg object to the body of the page\n      const svg = d3\n        .select(\"#scattersvg\")\n        .attr(\"width\", this.width)\n        .attr(\"height\", this.height)\n        .append(\"g\")\n        .attr(\n          \"transform\",\n          \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\"\n        );\n\n      svg\n        .append(\"style\")\n        .text(\n          `circle.hidden { fill: #000; fill-opacity: 1; r: ${\n            this.radius / 3\n          }; }`\n        );\n\n      svg.append(\"g\").call(this.xAxis);\n\n      svg.append(\"g\").call(this.yAxis);\n\n      const that = this;\n      const cell = svg\n        .append(\"g\")\n        .selectAll(\"g\")\n        .data(\n          d3.cross(d3.range(this.columns.length), d3.range(this.columns.length))\n        )\n        .join(\"g\")\n        .attr(\n          \"transform\",\n          ([i, j]) => `translate(${i * that.size},${j * that.size})`\n        );\n\n      cell\n        .append(\"rect\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#aaa\")\n        .attr(\"x\", this.padding / 2 + 0.5)\n        .attr(\"y\", this.padding / 2 + 0.5)\n        .attr(\"width\", this.size - this.padding)\n        .attr(\"height\", this.size - this.padding);\n\n      cell.each(function ([i, j]) {\n        d3.select(this)\n          .selectAll(\"circle\")\n          .data(\n            that.data.filter(\n              (d) => !isNaN(d[that.columns[i]]) && !isNaN(d[that.columns[j]])\n            )\n          )\n          .join(\"circle\")\n          .attr(\"cx\", (d) => that.x[i](d[that.columns[i]]))\n          .attr(\"cy\", (d) => that.y[j](d[that.columns[j]]));\n      });\n\n      cell.call(this.brush);\n\n      const circle = cell\n        .selectAll(\"circle\")\n        .attr(\"r\", this.radius)\n        .attr(\"fill-opacity\", 0.7)\n        .attr(\"fill\", \"blue\")\n        .style(\"cursor\", \"pointer\")\n        .on(\"mouseover\", (d) => {\n          d3.select(d3.event.currentTarget)\n            .transition()\n            .duration(100)\n            .attr(\"r\", that.radius * 2);\n\n          d3.select(\"#scattertooltip\")\n            .transition()\n            .duration(200)\n            .style(\"display\", \"initial\")\n            .text(d.participant_id);\n        })\n        .on(\"mouseout\", () => {\n          d3.select(d3.event.currentTarget)\n            .transition()\n            .duration(100)\n            .attr(\"r\", that.radius);\n\n          d3.select(\"#scattertooltip\").style(\"display\", \"none\");\n        })\n        .on(\"mousemove\", () => {\n          d3.select(\"#scattertooltip\")\n            .style(\"left\", d3.event.pageX + 10 + \"px\")\n            .style(\"top\", d3.event.pageY + 10 + \"px\");\n        })\n        .on(\"click\", (d) => {\n          that.$emit(\"updateSelectedSubject\", d.participant_id);\n        });\n\n      circle.moveToFront();\n\n      svg\n        .append(\"g\")\n        .style(\"font\", \"bold 10px sans-serif\")\n        .style(\"pointer-events\", \"none\")\n        .selectAll(\"text\")\n        .data(this.columns)\n        .join(\"text\")\n        .attr(\n          \"transform\",\n          (d, i) => `translate(${i * that.size},${i * that.size})`\n        )\n        .attr(\"x\", this.padding)\n        .attr(\"y\", this.padding)\n        .attr(\"dy\", \".71em\")\n        .attr(\"font-size\", \"1.5em\")\n        .text((d) => d);\n\n      return svg.node();\n    },\n    brush(cell) {\n      const circle = cell.selectAll(\"circle\");\n      const that = this;\n      const brush = d3\n        .brush()\n        .extent([\n          [this.padding / 2, this.padding / 2],\n          [this.size - this.padding / 2, this.size - this.padding / 2],\n        ])\n        .on(\"start\", brushstarted)\n        .on(\"brush\", brushed)\n        .on(\"end\", brushended);\n\n      cell.call(brush);\n\n      let brushCell;\n\n      // Clear the previously-active brush, if any.\n      function brushstarted() {\n        if (brushCell !== this) {\n          d3.select(brushCell).call(brush.move, null);\n          brushCell = this;\n        }\n      }\n\n      // Highlight the selected circles.\n      function brushed([i, j]) {\n        if (d3.event.selection === null) return;\n        const [[x0, y0], [x1, y1]] = d3.event.selection;\n        circle.classed(\"hidden\", (d) => {\n          return (\n            x0 > that.x[i](d[that.columns[i]]) ||\n            x1 < that.x[i](d[that.columns[i]]) ||\n            y0 > that.y[j](d[that.columns[j]]) ||\n            y1 < that.y[j](d[that.columns[j]])\n          );\n        });\n        that.brushedSubjects = that.data\n          .filter(\n            (d) =>\n              that.x[i](d[that.columns[i]]) >= x0 &&\n              that.x[i](d[that.columns[i]]) <= x1 &&\n              that.y[j](d[that.columns[j]]) >= y0 &&\n              that.y[j](d[that.columns[j]]) <= y1\n          )\n          .map((d) => d.participant_id);\n      }\n\n      // If the brush is empty, select all circles.\n      function brushended() {\n        if (d3.event.selection !== null) return;\n        circle.classed(\"hidden\", false);\n        that.brushedSubjects = that.data.map((d) => d.participant_id);\n      }\n    },\n    handleResize() {\n      this.width = this.$refs.chart.clientWidth;\n\n      const svg = d3\n        .select(\"#scattersvg\")\n        .attr(\"width\", this.width - this.margin.left - this.margin.right);\n\n      this.x.forEach((x) =>\n        x.range([0, this.width - this.margin.left - this.margin.right])\n      );\n\n      const that = this;\n      svg\n        .selectAll(\"rect\")\n        .attr(\"x\", function (d) {\n          return that.x(d.i);\n        })\n        .attr(\"width\", this.x.bandwidth());\n    },\n  },\n};\n</script>\n\n<style scoped>\n.scatterplot-matrix {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterplotMatrix.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterplotMatrix.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScatterplotMatrix.vue?vue&type=template&id=bfd7a1ae&scoped=true&\"\nimport script from \"./ScatterplotMatrix.vue?vue&type=script&lang=js&\"\nexport * from \"./ScatterplotMatrix.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScatterplotMatrix.vue?vue&type=style&index=0&id=bfd7a1ae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bfd7a1ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('strong',[_vm._v(\"Loading...\")]),_c('b-spinner',{staticClass:\"ml-4\",attrs:{\"variant\":\"primary\",\"label\":\"loading\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container>\n    <strong>Loading...</strong>\n    <b-spinner class=\"ml-4\" variant=\"primary\" label=\"loading\"></b-spinner>\n  </b-container>\n</template>\n\n<script>\nexport default {\n  name: \"spinner\",\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=92fa8f0e&scoped=true&\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js&\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92fa8f0e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-button-toolbar',{staticClass:\"sticky-top ml-2\"},[_c('b-button-group',[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.sidebar-backdrop\",modifiers:{\"sidebar-backdrop\":true}}],staticClass:\"mb-2 header-button\",attrs:{\"id\":\"sidebar-button\",\"variant\":\"outline-primary\"}},[_c('b-icon',{attrs:{\"icon\":\"layout-sidebar\",\"aria-hidden\":\"true\"}})],1),_c('b-button',{staticClass:\"mb-2 header-button\",attrs:{\"id\":\"back-button\",\"to\":\"/report\",\"variant\":\"outline-primary\"}},[_c('b-icon',{attrs:{\"icon\":\"search\",\"aria-hidden\":\"true\"}})],1),_c('b-button',{staticClass:\"mb-2 header-button\",attrs:{\"id\":\"download-button\",\"variant\":\"outline-primary\"},on:{\"click\":_vm.download}},[_c('b-icon',{attrs:{\"icon\":\"download\",\"aria-hidden\":\"true\"}})],1),(!_vm.isGroupReport)?_c('b-button',{staticClass:\"mb-2 header-button\",attrs:{\"id\":\"stats-button\",\"variant\":\"outline-primary\"}},[_c('b-icon',{attrs:{\"icon\":\"bar-chart\",\"aria-hidden\":\"true\"}})],1):_vm._e(),(!_vm.isGroupReport)?_c('b-popover',{attrs:{\"target\":\"stats-button\",\"placement\":\"bottom\",\"triggers\":\"click\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(_vm.subjectId))]},proxy:true}],null,false,3138654337)},[_vm._v(\" Here are distributions of some key QC metrics \")]):_vm._e(),(!_vm.isGroupReport)?_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.rating-modal\",modifiers:{\"rating-modal\":true}}],staticClass:\"mb-2 header-button\",attrs:{\"id\":\"rating-button\",\"variant\":\"outline-primary\"}},[_c('b-iconstack',[_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"check-circle\",\"scale\":\"0.75\",\"shift-v\":\"6\",\"shift-h\":\"-6\",\"aria-hidden\":\"true\"}}),_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"slash\",\"scale\":\"1.5\",\"aria-hidden\":\"true\"}}),_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"x-circle\",\"scale\":\"0.75\",\"shift-v\":\"-6\",\"shift-h\":\"6\",\"aria-hidden\":\"true\"}})],1)],1):_vm._e(),(!_vm.isGroupReport)?_c('b-modal',{ref:\"rating-modal\",attrs:{\"id\":\"rating-modal\",\"title\":_vm.subjectId},on:{\"ok\":_vm.onOk,\"hidden\":_vm.handleHidden}},[_c('div',{staticClass:\"mb-2\"},[_vm._v(\" Rate this subject \")]),(_vm.rating)?_c('b-form',{ref:\"form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('b-form-group',{attrs:{\"id\":\"input-group-anat\",\"label\":\"T1w\",\"label-for\":\"t1w-rating\",\"description\":\"Rate the anatomical image quality\",\"label-cols\":\"2\",\"content-cols\":\"12\",\"invalid-feedback\":\"rating required\",\"state\":_vm.state(_vm.rating.anatRating)}},[_c('b-form-rating',{attrs:{\"show-clear\":\"\",\"show-value\":\"\",\"show-value-max\":\"\",\"icon-clear\":\"slash-circle\",\"state\":_vm.state(_vm.rating.anatRating),\"required\":\"\"},model:{value:(_vm.rating.anatRating),callback:function ($$v) {_vm.$set(_vm.rating, \"anatRating\", $$v)},expression:\"rating.anatRating\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-dwi\",\"label\":\"DWI\",\"label-for\":\"dwi-rating\",\"description\":\"Rate the diffusion image quality\",\"label-cols\":\"2\",\"content-cols\":\"12\",\"invalid-feedback\":\"rating required\",\"state\":_vm.state(_vm.rating.dwiRating)}},[_c('b-form-rating',{attrs:{\"show-clear\":\"\",\"show-value\":\"\",\"show-value-max\":\"\",\"icon-clear\":\"slash-circle\",\"state\":_vm.state(_vm.rating.dwiRating),\"required\":\"\"},model:{value:(_vm.rating.dwiRating),callback:function ($$v) {_vm.$set(_vm.rating, \"dwiRating\", $$v)},expression:\"rating.dwiRating\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-overall\",\"label\":\"Overall\",\"label-for\":\"overall-rating\",\"description\":\"Rate the overall quality\",\"label-cols\":\"2\",\"content-cols\":\"12\",\"invalid-feedback\":\"rating required\",\"state\":_vm.state(_vm.rating.overallRating)}},[_c('b-form-rating',{attrs:{\"id\":\"overall-rating\",\"show-clear\":\"\",\"show-value\":\"\",\"show-value-max\":\"\",\"icon-clear\":\"slash-circle\",\"state\":_vm.state(_vm.rating.overallRating),\"required\":\"\"},model:{value:(_vm.rating.overallRating),callback:function ($$v) {_vm.$set(_vm.rating, \"overallRating\", $$v)},expression:\"rating.overallRating\"}})],1)],1):_vm._e()],1):_vm._e(),_c('b-dropdown',{staticClass:\"mb-2 header-button\",attrs:{\"variant\":\"outline-primary\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"three-dots\",\"id\":\"more-button\",\"aria-hidden\":\"true\"}})]},proxy:true}])},[_c('b-dropdown-item-button',{attrs:{\"id\":\"download-csv\",\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.ratingsDownloadRequested()}}},[_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"list-check\",\"aria-hidden\":\"true\"}}),_vm._v(\" download ratings csv \")],1),_c('b-dropdown-item-button',{attrs:{\"id\":\"file-issue\",\"variant\":\"outline-primary\",\"onclick\":\"window.open('https://github.com/nipreps/dmriprep-viewer/issues/new','_blank')\"}},[_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"bug\",\"aria-hidden\":\"true\"}}),_vm._v(\" file bug report \")],1)],1)],1),_c('b-tooltip',{attrs:{\"target\":\"sidebar-button\",\"triggers\":\"hover\"}},[_vm._v(\"toggle sidebar\")]),_c('b-tooltip',{attrs:{\"target\":\"back-button\",\"triggers\":\"hover\"}},[_vm._v(\"back to the input page\")]),_c('b-tooltip',{attrs:{\"target\":\"download-button\",\"triggers\":\"hover\"}},[_vm._v(\"download this report.json file\")]),(!_vm.isGroupReport)?_c('b-tooltip',{attrs:{\"target\":\"stats-button\",\"triggers\":\"hover\"}},[_vm._v(\"show QC summary stats\")]):_vm._e(),(!_vm.isGroupReport)?_c('b-tooltip',{attrs:{\"target\":\"rating-button\",\"triggers\":\"hover\"}},[_vm._v(\"rate this subject\")]):_vm._e(),_c('b-tooltip',{attrs:{\"target\":\"more-button\",\"triggers\":\"hover\"}},[_vm._v(\"more options\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-button-toolbar class=\"sticky-top ml-2\">\n    <b-button-group>\n      <b-button\n        v-b-toggle.sidebar-backdrop\n        id=\"sidebar-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n      >\n        <b-icon icon=\"layout-sidebar\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <b-button\n        id=\"back-button\"\n        to=\"/report\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n      >\n        <b-icon icon=\"search\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <!-- <b-button\n        id=\"info-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n      >\n        <b-icon icon=\"info-circle\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <b-popover target=\"info-button\" placement=\"auto\" triggers=\"click\">\n        <template v-slot:title>{{ subjectId }}</template>\n        pipeline: {{ report.pipeline }}\n        <br />\n        version: {{ report.pipeline_version }}\n        <br />\n        {{ report.boilerplate }}\n      </b-popover> -->\n      <b-button\n        id=\"download-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n        @click=\"download\"\n      >\n        <b-icon icon=\"download\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <b-button\n        id=\"stats-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n        v-if=\"!isGroupReport\"\n      >\n        <b-icon icon=\"bar-chart\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <b-popover\n        target=\"stats-button\"\n        placement=\"bottom\"\n        triggers=\"click\"\n        v-if=\"!isGroupReport\"\n      >\n        <template v-slot:title>{{ subjectId }}</template>\n        Here are distributions of some key QC metrics\n      </b-popover>\n      <b-button\n        id=\"rating-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n        v-if=\"!isGroupReport\"\n        v-b-modal.rating-modal\n      >\n        <b-iconstack>\n          <!-- <b-icon stacked icon=\"hand-thumbs-up\" scale=\"0.75\" shift-v=\"6\" shift-h=\"-6\" aria-hidden=\"true\"></b-icon> -->\n          <b-icon\n            stacked\n            icon=\"check-circle\"\n            scale=\"0.75\"\n            shift-v=\"6\"\n            shift-h=\"-6\"\n            aria-hidden=\"true\"\n          ></b-icon>\n          <b-icon stacked icon=\"slash\" scale=\"1.5\" aria-hidden=\"true\"></b-icon>\n          <!-- <b-icon stacked icon=\"hand-thumbs-down\" scale=\"0.75\" shift-v=\"-6\" shift-h=\"6\" aria-hidden=\"true\"></b-icon> -->\n          <b-icon\n            stacked\n            icon=\"x-circle\"\n            scale=\"0.75\"\n            shift-v=\"-6\"\n            shift-h=\"6\"\n            aria-hidden=\"true\"\n          ></b-icon>\n        </b-iconstack>\n      </b-button>\n      <b-modal\n        id=\"rating-modal\"\n        ref=\"rating-modal\"\n        :title=\"subjectId\"\n        @ok=\"onOk\"\n        @hidden=\"handleHidden\"\n        v-if=\"!isGroupReport\"\n      >\n        <div class=\"mb-2\">\n          Rate this subject\n        </div>\n        <b-form ref=\"form\" @submit.stop.prevent=\"handleSubmit\" v-if=\"rating\">\n          <b-form-group\n            id=\"input-group-anat\"\n            label=\"T1w\"\n            label-for=\"t1w-rating\"\n            description=\"Rate the anatomical image quality\"\n            label-cols=\"2\"\n            content-cols=\"12\"\n            invalid-feedback=\"rating required\"\n            :state=\"state(rating.anatRating)\"\n          >\n            <b-form-rating\n              v-model=\"rating.anatRating\"\n              show-clear\n              show-value\n              show-value-max\n              icon-clear=\"slash-circle\"\n              :state=\"state(rating.anatRating)\"\n              required\n            ></b-form-rating>\n          </b-form-group>\n\n          <b-form-group\n            id=\"input-group-dwi\"\n            label=\"DWI\"\n            label-for=\"dwi-rating\"\n            description=\"Rate the diffusion image quality\"\n            label-cols=\"2\"\n            content-cols=\"12\"\n            invalid-feedback=\"rating required\"\n            :state=\"state(rating.dwiRating)\"\n          >\n            <b-form-rating\n              v-model=\"rating.dwiRating\"\n              show-clear\n              show-value\n              show-value-max\n              icon-clear=\"slash-circle\"\n              :state=\"state(rating.dwiRating)\"\n              required\n            ></b-form-rating>\n          </b-form-group>\n\n          <b-form-group\n            id=\"input-group-overall\"\n            label=\"Overall\"\n            label-for=\"overall-rating\"\n            description=\"Rate the overall quality\"\n            label-cols=\"2\"\n            content-cols=\"12\"\n            invalid-feedback=\"rating required\"\n            :state=\"state(rating.overallRating)\"\n          >\n            <b-form-rating\n              id=\"overall-rating\"\n              v-model=\"rating.overallRating\"\n              show-clear\n              show-value\n              show-value-max\n              icon-clear=\"slash-circle\"\n              :state=\"state(rating.overallRating)\"\n              required\n            ></b-form-rating>\n          </b-form-group>\n        </b-form>\n      </b-modal>\n      <b-dropdown variant=\"outline-primary\" class=\"mb-2 header-button\">\n        <template #button-content>\n          <b-icon\n            icon=\"three-dots\"\n            id=\"more-button\"\n            aria-hidden=\"true\"\n          ></b-icon>\n        </template>\n        <b-dropdown-item-button\n          id=\"download-csv\"\n          variant=\"outline-primary\"\n          @click=\"ratingsDownloadRequested()\"\n        >\n          <b-icon icon=\"list-check\" class=\"mr-2\" aria-hidden=\"true\"></b-icon>\n          download ratings csv\n        </b-dropdown-item-button>\n        <b-dropdown-item-button\n          id=\"file-issue\"\n          variant=\"outline-primary\"\n          onclick=\"window.open('https://github.com/nipreps/dmriprep-viewer/issues/new','_blank')\"\n        >\n          <b-icon icon=\"bug\" class=\"mr-2\" aria-hidden=\"true\"></b-icon>\n          file bug report\n        </b-dropdown-item-button>\n      </b-dropdown>\n    </b-button-group>\n    <b-tooltip target=\"sidebar-button\" triggers=\"hover\"\n      >toggle sidebar</b-tooltip\n    >\n    <b-tooltip target=\"back-button\" triggers=\"hover\"\n      >back to the input page</b-tooltip\n    >\n    <!-- <b-tooltip target=\"info-button\" triggers=\"hover\"\n      >info about this subject/study</b-tooltip\n    > -->\n    <b-tooltip target=\"download-button\" triggers=\"hover\"\n      >download this report.json file</b-tooltip\n    >\n    <b-tooltip target=\"stats-button\" triggers=\"hover\" v-if=\"!isGroupReport\"\n      >show QC summary stats</b-tooltip\n    >\n    <b-tooltip target=\"rating-button\" triggers=\"hover\" v-if=\"!isGroupReport\"\n      >rate this subject</b-tooltip\n    >\n    <b-tooltip target=\"more-button\" triggers=\"hover\">more options</b-tooltip>\n  </b-button-toolbar>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { BootstrapVue, BootstrapVueIcons } from \"bootstrap-vue\";\n\n// eslint-disable-next-line\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\nimport * as FileSaver from \"file-saver\";\n\nVue.use(BootstrapVue);\nVue.use(BootstrapVueIcons);\n\nexport default {\n  name: \"topBar\",\n  props: {\n    reportProp: {\n      type: Object,\n    },\n    ratingProp: {\n      type: Object,\n      default: null,\n    },\n    sidebarOn: {\n      type: Boolean,\n      default: false,\n    },\n    isGroupReport: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      report: null,\n      rating: null,\n      subjectId: \"loading...\",\n    };\n  },\n  methods: {\n    state(rating) {\n      return rating != null;\n    },\n    checkFormValidity() {\n      const valid =\n        this.rating.anatRating != null &&\n        this.rating.dwiRating != null &&\n        this.rating.overallRating != null;\n      return valid;\n    },\n    onOk(bvModalEvt) {\n      // Prevent modal from closing\n      bvModalEvt.preventDefault();\n      // Trigger submit handler\n      this.handleSubmit();\n    },\n    handleHidden() {\n      // If rater cancelled the rating form, reset the reviewed and whenRated\n      // fields if the other fields are invalid\n      if (!this.checkFormValidity()) {\n        this.rating.reviewed = false;\n        this.rating.whenRated = null;\n      }\n    },\n    handleSubmit() {\n      if (!this.checkFormValidity()) {\n        return;\n      }\n\n      this.rating.whenRated = new Date().toString();\n      this.rating.reviewed = true;\n\n      this.$nextTick(() => {\n        this.$bvModal.hide(\"rating-modal\");\n      });\n    },\n    download() {\n      var fileToSave = new Blob([JSON.stringify(this.report)], {\n        type: \"application/json\",\n        name: \"report.json\",\n      });\n      FileSaver.saveAs(fileToSave, \"report.json\");\n    },\n    ratingsDownloadRequested() {\n      this.$emit(\"ratingsDownloadRequested\");\n    },\n  },\n  mounted() {\n    if (this.reportProp) {\n      this.report = this.reportProp;\n      this.subjectId = this.reportProp[\"subject_id\"];\n    }\n    if (this.ratingProp) {\n      this.rating = this.ratingProp;\n    }\n  },\n  watch: {\n    reportProp() {\n      if (this.reportProp) {\n        this.report = this.reportProp;\n        this.subjectId = this.reportProp[\"subject_id\"];\n      }\n    },\n    ratingProp() {\n      if (this.ratingProp) {\n        this.rating = this.ratingProp;\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.header-button:not(:hover) {\n  background-color: #fff;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopBar.vue?vue&type=template&id=a3648a88&scoped=true&\"\nimport script from \"./TopBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TopBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopBar.vue?vue&type=style&index=0&id=a3648a88&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a3648a88\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.divId}},[_c('h6',{staticClass:\"m-0 p-0 text-left\"},[_vm._v(_vm._s(_vm.metric))]),_c('svg',{ref:\"chart\",staticClass:\"violin-plot\",attrs:{\"id\":_vm.svgId}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :id=\"divId\">\n    <!-- <resize-observer @notify=\"handleResize\" /> -->\n    <h6 class=\"m-0 p-0 text-left\">{{ metric }}</h6>\n    <svg :id=\"svgId\" ref=\"chart\" class=\"violin-plot\"></svg>\n  </div>\n</template>\n\n<script>\nconst d3 = require(\"d3\");\n\nexport default {\n  name: \"violinPlot\",\n  props: {\n    data: {\n      type: Array,\n    },\n    metric: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      margin: { top: 10, right: 10, bottom: 20, left: 10 },\n      width: null,\n      height: 250,\n      radius: 5,\n      brushedSubjects: null,\n      hoveredSubject: null,\n      brushObject: null,\n      histogram: null,\n      bins: null,\n      maxNum: null,\n      yNum: null,\n    };\n  },\n  computed: {\n    boxHeight() {\n      return this.height / 6;\n    },\n    center() {\n      return this.height / 2 - this.margin.bottom;\n    },\n    padding() {\n      return this.radius * 0.1;\n    },\n    svgId() {\n      return \"violinsvg-\" + this.metric;\n    },\n    divId() {\n      return \"violindiv-\" + this.metric;\n    },\n    tooltipId() {\n      return \"tooltip-\" + this.metric;\n    },\n    x() {\n      return d3\n        .scaleLinear()\n        .domain(d3.extent(this.data, (d) => d[this.metric]))\n        .range([this.margin.left, this.width - this.margin.right]);\n    },\n    dodgedData() {\n      return this.dodge(this.data, this.radius * 2 + this.padding);\n    },\n    boxPlotInfo() {\n      const sorted = this.data.map((d) => d[this.metric]).sort(d3.ascending);\n      const q1 = d3.quantile(sorted, 0.25);\n      const median = d3.quantile(sorted, 0.5);\n      const q3 = d3.quantile(sorted, 0.75);\n      const interQuantileRange = q3 - q1;\n      return {\n        q1: q1,\n        median: median,\n        q3: q3,\n        interQuantileRange: interQuantileRange,\n        min: q1 - 1.5 * interQuantileRange,\n        max: q1 + 1.5 * interQuantileRange,\n      };\n    },\n  },\n  watch: {\n    brushedSubjects: {\n      deep: true,\n      handler: function () {\n        this.$emit(\"updateBrushedSubjects\", {\n          metric: this.metric,\n          brushed: this.brushedSubjects,\n        });\n      },\n    },\n  },\n  mounted() {\n    this.width = this.$refs.chart.clientWidth;\n    this.brushedSubjects = this.data.map((d) => d.participant_id);\n\n    let highestPoint = this.getHighestPoint();\n    while (highestPoint < this.margin.top) {\n      this.radius = this.radius - 0.1;\n      if (this.radius < 3) {\n        this.radius = 5;\n        this.height = this.height + 50;\n      }\n      highestPoint = this.getHighestPoint();\n    }\n    this.createChart();\n  },\n  methods: {\n    getHighestPoint() {\n      return (\n        this.height -\n        this.boxHeight -\n        this.margin.bottom -\n        this.margin.top -\n        this.radius -\n        this.padding -\n        Math.max(...this.dodgedData.map((d) => d.y))\n      );\n    },\n    dodge(data, radius) {\n      const radius2 = radius ** 2;\n      const circles = data\n        .map((d) => ({ x: this.x(d[this.metric]), data: d }))\n        .sort((a, b) => a.x - b.x);\n      const epsilon = 1e-3;\n      let head = null,\n        tail = null;\n\n      // Returns true if circle x,y intersects with any circle in the queue.\n      function intersects(x, y) {\n        let a = head;\n        while (a) {\n          if (radius2 - epsilon > (a.x - x) ** 2 + (a.y - y) ** 2) {\n            return true;\n          }\n          a = a.next;\n        }\n        return false;\n      }\n\n      // Place each circle sequentially.\n      for (const b of circles) {\n        // Remove circles from the queue that cant intersect the new circle b.\n        while (head && head.x < b.x - radius2) head = head.next;\n        // Choose the minimum non-intersecting tangent.\n        if (intersects(b.x, (b.y = 0))) {\n          let a = head;\n          b.y = Infinity;\n          do {\n            let y = a.y + Math.sqrt(radius2 - (a.x - b.x) ** 2);\n            if (y < b.y && !intersects(b.x, y)) b.y = y;\n            a = a.next;\n          } while (a);\n        }\n\n        // Add b to the queue.\n        b.next = null;\n        if (head === null) head = tail = b;\n        else tail = tail.next = b;\n      }\n\n      return circles;\n    },\n    createChart() {\n      d3.select(\"#\" + this.divId)\n        .append(\"div\")\n        .attr(\"id\", this.tooltipId)\n        .attr(\n          \"style\",\n          \"position: absolute; background-color: white; display: none; padding: 2px; border: 1px solid black; border-radius: 5px;\"\n        );\n\n      var svg = d3\n        .select(\"#\" + this.svgId)\n        .attr(\"viewBox\", [0, 0, this.width, this.height]);\n\n      svg\n        .append(\"style\")\n        .text(\n          `circle.hidden { fill: #000; fill-opacity: 1; r: ${\n            this.radius / 2\n          }; }`\n        );\n\n      const that = this;\n      const x = this.x;\n\n      const xAxis = (g) =>\n        g\n          .attr(\"transform\", `translate(0,${that.height - that.margin.bottom})`)\n          .call(d3.axisBottom(x).tickSizeOuter(0));\n\n      svg.append(\"g\").call(xAxis);\n\n      const brush = d3\n        .brushX()\n        .extent([\n          [this.margin.left, this.margin.top],\n          [this.width - this.margin.right, this.height - this.margin.bottom],\n        ])\n        .on(\"brush\", brushed)\n        .on(\"end\", brushended);\n\n      svg.call(brush);\n\n      // Highlight the selected circles.\n      function brushed() {\n        if (d3.event.selection === null) return;\n        const circle = d3.selectAll(\"#\" + that.svgId + \" circle\");\n        const [x0, x1] = d3.event.selection;\n        circle.classed(\"hidden\", (d) => {\n          return x0 > d.x || x1 < d.x;\n        });\n        that.brushedSubjects = that.data\n          .filter(\n            (d) => that.x(d[that.metric]) >= x0 && that.x(d[that.metric]) <= x1\n          )\n          .map((d) => d.participant_id);\n      }\n\n      // If the brush is empty, select all circles.\n      function brushended() {\n        if (d3.event.selection !== null) return;\n        const circle = d3.selectAll(\"#\" + that.svgId + \" circle\");\n        circle.classed(\"hidden\", false);\n        that.brushedSubjects = that.data.map((d) => d.participant_id);\n      }\n\n      // Color scale for dots\n      const myColor = d3\n        .scaleSequential()\n        .interpolator(d3.interpolateCool)\n        .domain(x.domain());\n\n      // Add individual points with jitter\n      svg\n        .append(\"g\")\n        .selectAll(\"circle\")\n        .data(this.dodgedData)\n        .join(\"circle\")\n        .attr(\"cx\", (d) => d.x)\n        .attr(\n          \"cy\",\n          (d) =>\n            that.height -\n            that.boxHeight -\n            that.margin.bottom -\n            that.margin.top -\n            that.radius -\n            that.padding -\n            d.y\n        )\n        .attr(\"r\", this.radius)\n        .style(\"fill\", (d) => myColor(d.data[that.metric]))\n        .style(\"cursor\", \"pointer\")\n        .attr(\"stroke\", \"white\")\n        .on(\"mouseover\", (d) => {\n          that.hoveredSubject = d.data.participant_id;\n          d3.select(d3.event.currentTarget)\n            .transition()\n            .duration(100)\n            .attr(\"r\", that.radius * 1.5);\n\n          d3.select(\"#\" + this.tooltipId)\n            .transition()\n            .duration(200)\n            .style(\"display\", \"initial\")\n            .text(d.data.participant_id);\n        })\n        .on(\"mouseout\", () => {\n          that.hoveredSubject = null;\n          d3.select(d3.event.currentTarget)\n            .transition()\n            .duration(100)\n            .attr(\"r\", that.radius);\n\n          d3.select(\"#\" + this.tooltipId).style(\"display\", \"none\");\n        })\n        .on(\"mousemove\", () => {\n          d3.select(\"#\" + this.tooltipId)\n            .style(\"left\", d3.event.pageX + 10 + \"px\")\n            .style(\"top\", d3.event.pageY + 10 + \"px\");\n        })\n        .on(\"click\", (d) => {\n          that.$emit(\"updateSelectedSubject\", d.data.participant_id);\n        });\n\n      // Box plot\n      svg\n        .append(\"line\")\n        .attr(\"x1\", x(this.boxPlotInfo.min))\n        .attr(\"x2\", x(this.boxPlotInfo.max))\n        .attr(\n          \"y1\",\n          this.height -\n            this.margin.bottom -\n            this.padding -\n            this.radius -\n            this.boxHeight / 2\n        )\n        .attr(\n          \"y2\",\n          this.height -\n            this.margin.bottom -\n            this.padding -\n            this.radius -\n            this.boxHeight / 2\n        )\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", 2);\n\n      // Show the box\n      svg\n        .append(\"rect\")\n        .attr(\n          \"y\",\n          this.height -\n            this.margin.bottom -\n            this.boxHeight -\n            this.padding -\n            this.radius\n        )\n        .attr(\"x\", x(this.boxPlotInfo.q1))\n        .attr(\"width\", x(this.boxPlotInfo.q3) - x(this.boxPlotInfo.q1))\n        .attr(\"height\", this.boxHeight)\n        .attr(\"stroke\", \"none\")\n        .style(\"fill\", \"grey\");\n\n      // show median, min and max horizontal lines\n      svg\n        .selectAll(\"toto\")\n        .data([\n          this.boxPlotInfo.min,\n          this.boxPlotInfo.median,\n          this.boxPlotInfo.max,\n        ])\n        .enter()\n        .append(\"line\")\n        .attr(\n          \"y1\",\n          this.height -\n            this.margin.bottom -\n            this.boxHeight -\n            this.padding -\n            this.radius\n        )\n        .attr(\n          \"y2\",\n          this.height - this.margin.bottom - this.padding - this.radius\n        )\n        .attr(\"x1\", function (d) {\n          return x(d);\n        })\n        .attr(\"x2\", function (d) {\n          return x(d);\n        })\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", 2);\n    },\n    // handleResize() {\n    //   this.width = this.$refs.chart.clientWidth;\n\n    //   const svg = d3\n    //     .select(\"#\" + this.svgId)\n    //     .attr(\"width\", this.width - this.margin.left - this.margin.right);\n\n    //   this.x.range([0, this.width - this.margin.left - this.margin.right]);\n    //   const that = this;\n    //   svg\n    //     .selectAll(\"rect\")\n    //     .attr(\"x\", function (d) {\n    //       return that.x(d.i);\n    //     })\n    //     .attr(\"width\", this.x.bandwidth());\n    // },\n  },\n};\n</script>\n\n<style scoped>\n.violin-plot {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViolinPlot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViolinPlot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViolinPlot.vue?vue&type=template&id=c6183a18&scoped=true&\"\nimport script from \"./ViolinPlot.vue?vue&type=script&lang=js&\"\nexport * from \"./ViolinPlot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViolinPlot.vue?vue&type=style&index=0&id=c6183a18&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c6183a18\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container fluid class=\"px-0\">\n    <b-container fluid class=\"px-0\" v-if=\"groupReport\">\n      <topBar\n        :reportProp=\"groupReport\"\n        sidebarOn\n        isGroupReport\n        v-on:ratingsDownloadRequested=\"ratingsDownloadRequested\"\n      ></topBar>\n\n      <explainer :explainer-text=\"explainerText.qcMetrics\"></explainer>\n      <b-form-group class=\"text-left\" label=\"Select scatterplot metrics\">\n        <b-form-checkbox-group\n          id=\"checkbox-group-scatter\"\n          v-model=\"scatterMetrics\"\n          :options=\"metricOptions\"\n          name=\"scatter-metrics\"\n        ></b-form-checkbox-group>\n      </b-form-group>\n\n      <scatterplotMatrix\n        :dataProp=\"groupReport['subjects']\"\n        :metricsProp=\"scatterMetrics\"\n        v-on:updateBrushedSubjects=\"updateBrushedSubjects\"\n        v-on:updateSelectedSubject=\"updateSelectedSubject\"\n      ></scatterplotMatrix>\n\n      <b-form-group class=\"text-left\" label=\"Select violin plot metrics\">\n        <b-form-checkbox-group\n          id=\"checkbox-group-violin\"\n          v-model=\"violinMetrics\"\n          :options=\"metricOptions\"\n          name=\"violin-metrics\"\n        ></b-form-checkbox-group>\n      </b-form-group>\n\n      <violinPlot\n        v-for=\"metric in violinMetrics\"\n        :key=\"metric\"\n        :data=\"groupReport['subjects']\"\n        :metric=\"metric\"\n        v-on:updateBrushedSubjects=\"updateBrushedSubjects\"\n        v-on:updateSelectedSubject=\"updateSelectedSubject\"\n      ></violinPlot>\n\n      <b-card\n        class=\"text-left p-0 mb-5 mt-2\"\n        footer=\"This list scrolls left/right. Click on a participant ID to go to their report.\"\n      >\n        <template v-slot:header>\n          <b-row class=\"d-flex align-items-center\">\n            <b-col cols=\"7\" class=\"text-left\">\n              <h5 class=\"m-0\">\n                Selected subjects: {{ brushedSubjectsIntersection.length }}\n              </h5>\n            </b-col>\n            <b-col cols=\"5\" class=\"text-right\">\n              <b-button\n                @click=\"copyBrushedSubjectsToClipboard()\"\n                id=\"clipboard-button\"\n                variant=\"outline-primary\"\n                class=\"m-0\"\n              >\n                <b-icon\n                  icon=\"clipboard\"\n                  class=\"p m-0\"\n                  aria-hidden=\"true\"\n                ></b-icon>\n              </b-button>\n              <b-tooltip target=\"clipboard-button\" triggers=\"hover\"\n                >copy subject list to clipboard</b-tooltip\n              >\n            </b-col>\n          </b-row>\n        </template>\n        <b-card-text>\n          <b-nav vertical class=\"pb-0 text-left brushed-subject-nav\">\n            <b-nav-item\n              v-for=\"subject in brushedSubjectsIntersection\"\n              :key=\"subject\"\n              @click=\"updateSelectedSubject(subject)\"\n              >{{ subject }}</b-nav-item\n            >\n          </b-nav>\n        </b-card-text>\n      </b-card>\n    </b-container>\n\n    <spinner v-else></spinner>\n  </b-container>\n</template>\n\n<script>\nimport explainer from \"./Explainer\";\nimport scatterplotMatrix from \"./ScatterplotMatrix\";\nimport spinner from \"./Spinner\";\nimport topBar from \"./TopBar\";\nimport violinPlot from \"./ViolinPlot\";\n\nexport default {\n  name: \"groupReport\",\n  components: {\n    explainer,\n    scatterplotMatrix,\n    spinner,\n    topBar,\n    violinPlot,\n  },\n  data() {\n    return {\n      groupReport: null,\n      brushedSubjects: {},\n      brushedSubjectsIntersection: [],\n      scatterMetrics: [],\n      violinMetrics: [],\n      explainerText: {\n        qcMetrics: \"TODO: Explain the various qc metrics\",\n      },\n    };\n  },\n  props: {\n    reportProp: {\n      type: Object,\n    },\n  },\n  mounted() {\n    if (this.reportProp) {\n      this.groupReport = this.reportProp;\n    }\n    // Todo: Find some way to sensibly initialize these next two lines\n    this.scatterMetrics = []; // this.metricOptions.slice(0, 3);\n    this.violinMetrics = []; // this.metricOptions.slice(3);\n    this.brushedSubjects = this.metricOptions.reduce(\n      (o, key) => ({\n        ...o,\n        [key]: this.groupReport.subjects.map((d) => d.participant_id),\n      }),\n      {}\n    );\n    this.brushedSubjects.scatterplotMatrix = this.groupReport.subjects.map(\n      (d) => d.participant_id\n    );\n  },\n  methods: {\n    updateBrushedSubjects(brushedSubjectData) {\n      this.brushedSubjects[brushedSubjectData.metric] =\n        brushedSubjectData.brushed;\n\n      this.brushedSubjectsIntersection = Object.values(\n        this.brushedSubjects\n      ).reduce(\n        (accumulator, currentValue) =>\n          accumulator.filter((d) => currentValue.includes(d)),\n        this.groupReport.subjects.map((d) => d.participant_id)\n      );\n    },\n    updateSelectedSubject(subject) {\n      this.$emit(\"subjectSelected\", subject);\n    },\n    ratingsDownloadRequested() {\n      this.$emit(\"ratingsDownloadRequested\");\n    },\n    copyBrushedSubjectsToClipboard() {\n      navigator.clipboard.writeText(this.brushedSubjectsIntersection.join());\n    },\n  },\n  computed: {\n    metricOptions() {\n      return Object.keys(this.groupReport.subjects[0])\n        .filter((k) => k !== \"participant_id\")\n        .sort();\n    },\n  },\n  watch: {\n    reportProp() {\n      if (this.reportProp) {\n        this.groupReport = this.reportProp;\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1,\nh2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n.brushed-subject-nav {\n  overflow: scroll;\n  height: 100px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportGroup.vue?vue&type=template&id=375817fa&scoped=true&\"\nimport script from \"./ReportGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReportGroup.vue?vue&type=style&index=0&id=375817fa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"375817fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[(_vm.report)?_c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[_c('topBar',{attrs:{\"reportProp\":_vm.report,\"ratingProp\":_vm.rating},on:{\"ratingsDownloadRequested\":_vm.ratingsDownloadRequested}}),_c('b-row',[_c('b-col',[_c('h1',[_vm._v(_vm._s(_vm.report.subject_id))]),_c('h2',{staticClass:\"mt-3 pt-3\"},[_vm._v(\"Corrected dwi\")]),_c('p',{staticClass:\"lead\"},[_vm._v(\"Motion and distortion corrected file\")]),_c('div',{staticStyle:{\"background-color\":\"black\"}},[_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.dwiTimeSeriesSprite}}),_vm._l((_vm.report.dwi_corrected),function(view){return _c('sprite4d',{key:view.orientation,attrs:{\"M\":view.M,\"N\":view.N,\"img\":view.img,\"num_slices\":view.num_slices,\"pix\":view.pix,\"id\":view.orientation,\"time\":_vm.time,\"overlayMode\":false,\"opacity\":\"1\"}})})],2),_c('vue-slider',{ref:\"timeSlider\",attrs:{\"min\":0,\"max\":_vm.report.dwi_corrected[0].num_slices - 1},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}}),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.lineChart}}),_c('div',{staticStyle:{\"height\":\"200px\",\"width\":\"100%\",\"display\":\"inline-flex\"}},[_c('line-chart',{attrs:{\"id\":\"motion_params\",\"data\":_vm.report.eddy_params,\"outlier_indices\":_vm.report.outlier_volumes,\"xlabel\":\"TR\",\"ylabel\":\"RMS\",\"highlightIdx\":_vm.time}})],1),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.carpetPlot}}),_c('CarpetPlot',{attrs:{\"data\":_vm.report.carpetplot,\"highlightIdx\":_vm.time}}),_c('vue-slider',{ref:\"timeSlider\",attrs:{\"min\":0,\"max\":_vm.report.dwi_corrected[0].num_slices - 1},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}}),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.qSpace}}),_c('QSpaceGroup',{attrs:{\"report\":_vm.report,\"time\":_vm.time}}),_c('h2',{staticClass:\"mt-3 pt-3\"},[_vm._v(\"Registration + Brain Mask\")]),_c('p',{staticClass:\"lead\"},[_vm._v(\"Brain mask computed on T1w, and mapped to B0\")]),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.brainMaskSprite}}),_c('BrainSprite',{ref:\"brainMaskSprite\",attrs:{\"id\":\"brainMaskSprite\",\"base_dim_x\":_vm.report.b0.pix,\"base_dim_y\":_vm.report.b0.pix,\"overlay_dim_x\":_vm.report.anat_mask.pix,\"overlay_dim_y\":_vm.report.anat_mask.pix,\"base\":_vm.report.b0.img,\"overlay\":_vm.report.anat_mask.img}}),_c('h2',{staticClass:\"mt-3 pt-3\"},[_vm._v(\"DTI: ColorFA\")]),_c('p',{staticClass:\"lead\"},[_vm._v(\"Color FA mapped on B0\")]),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.colorFASprite}}),_c('BrainSprite',{ref:\"colorFASprite\",attrs:{\"id\":\"colorFASprite\",\"base_dim_x\":_vm.report.b0.pix,\"base_dim_y\":_vm.report.b0.pix,\"overlay_dim_x\":_vm.report.colorFA.pix,\"overlay_dim_y\":_vm.report.colorFA.pix,\"base\":_vm.report.b0.img,\"overlay\":_vm.report.colorFA.img}})],1)],1)],1):_c('spinner')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"brainsprite\"},[(!_vm.done)?_c('div',[_vm._v(\"Hold on...\")]):_vm._e(),_c('canvas',{attrs:{\"id\":_vm.id}}),(_vm.showOrig)?_c('img',{staticClass:\"hidden\",attrs:{\"id\":_vm.id + '_spriteImg',\"src\":'data:image/png;base64,' + _vm.base}}):_vm._e(),(_vm.overlay && _vm.showOrig)?_c('img',{staticClass:\"hidden\",attrs:{\"id\":_vm.id + '_overlayImg',\"src\":'data:image/png;base64,' + _vm.overlay}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\nfunction brainsprite(params) {\n  // Function to add nearest neighbour interpolation to a canvas\n  function setNearestNeighbour(context, flag) {\n    context.imageSmoothingEnabled = flag;\n    return context;\n  }\n\n  // Initialize the brain object\n  var brain = {};\n\n  // Initialize the brain object\n  var defaultParams = {\n    // Flag for \"NaN\" image values, i.e. unable to read values\n    nanValue: false,\n\n    // Smoothing of the main slices\n    smooth: false,\n\n    // Draw (or not) the current value\n    flagValue: false,\n\n    // Background color for the canvas\n    colorBackground: \"#000000\",\n\n    // Flag to turn on/off slice numbers\n    flagCoordinates: false,\n\n    // Origins and voxel size\n    origin: { X: 0, Y: 0, Z: 0 },\n    voxelSize: 1,\n\n    // Affine transformation\n    affine: false,\n\n    // Colorbar size parameters\n    heightColorBar: 0.04,\n\n    // Font parameters\n    sizeFont: 0.075,\n    colorFont: \"#FFFFFF\",\n\n    // Number of decimals displayed\n    nbDecimals: 3,\n\n    // Flag to turn on/off the crosshair\n    crosshair: false,\n\n    // Color of the crosshair\n    colorCrosshair: \"#0000FF\",\n\n    // Size crosshair - percentage of the field of view\n    sizeCrosshair: 0.9,\n\n    // Optional title for the viewer\n    title: false,\n\n    // Coordinates for the initial cut\n    numSlice: false,\n  };\n\n  var brain = Object.assign({}, defaultParams, params);\n\n  // Build affine, if not specified\n  if (typeof brain.affine === \"boolean\" && brain.affine === false) {\n    brain.affine = [\n      [brain.voxelSize, 0, 0, -brain.origin.X],\n      [0, brain.voxelSize, 0, -brain.origin.Y],\n      [0, 0, brain.voxelSize, -brain.origin.Z],\n      [0, 0, 0, 1],\n    ];\n  }\n\n  // The main canvas, where the three slices are drawn\n  brain.canvas = document.getElementById(params.canvas);\n  brain.context = brain.canvas.getContext(\"2d\");\n  brain.context = setNearestNeighbour(brain.context, brain.smooth);\n\n  // An in-memory canvas to draw intermediate reconstruction\n  // of the coronal slice, at native resolution\n  brain.canvasY = document.createElement(\"canvas\");\n  brain.contextY = brain.canvasY.getContext(\"2d\");\n\n  // An in-memory canvas to draw intermediate reconstruction\n  // of the axial slice, at native resolution\n  brain.canvasZ = document.createElement(\"canvas\");\n  brain.contextZ = brain.canvasZ.getContext(\"2d\");\n\n  // An in-memory canvas to read the value of pixels\n  brain.canvasRead = document.createElement(\"canvas\");\n  brain.contextRead = brain.canvasRead.getContext(\"2d\");\n  brain.canvasRead.width = 1;\n  brain.canvasRead.height = 1;\n\n  // Onclick events\n  brain.onclick = typeof params.onclick !== \"undefined\" ? params.onclick : \"\";\n\n  // Font parameters\n  if (brain.flagCoordinates) {\n    brain.spaceFont = 0.1;\n  } else {\n    brain.spaceFont = 0;\n  }\n\n  //******************//\n  // The sprite image //\n  //******************//\n  brain.sprite = document.getElementById(params.sprite);\n\n  // Number of columns and rows in the sprite\n  brain.nbCol = brain.sprite.width / params.nbSlice.Y;\n  brain.nbRow = brain.sprite.height / params.nbSlice.Z;\n  // Number of slices\n\n  brain.nbSlice = {\n    X:\n      typeof params.nbSlice.X !== \"undefined\"\n        ? params.nbSlice.X\n        : brain.nbCol * brain.nbRow,\n    Y: params.nbSlice.Y,\n    Z: params.nbSlice.Z,\n  };\n\n  // width and height for the canvas\n  brain.widthCanvas = { X: 0, Y: 0, Z: 0 };\n  brain.heightCanvas = { X: 0, Y: 0, Z: 0, max: 0 };\n\n  // the slice numbers\n  if (brain.numSlice == false) {\n    brain.numSlice = {\n      X: Math.floor(brain.nbSlice.X / 2),\n      Y: Math.floor(brain.nbSlice.Y / 2),\n      Z: Math.floor(brain.nbSlice.Z / 2),\n    };\n  }\n\n  // Coordinates for current slices - these will get updated when drawing the slices\n  brain.coordinatesSlice = { X: 0, Y: 0, Z: 0 };\n\n  //*************//\n  // The planes  //\n  //*************//\n  brain.planes = {};\n  // A master sagital canvas for the merge of background and overlay\n  brain.planes.canvasMaster = document.createElement(\"canvas\");\n  brain.planes.contextMaster = brain.planes.canvasMaster.getContext(\"2d\");\n\n  //*************//\n  // The overlay //\n  //*************//\n  params.overlay =\n    typeof params.overlay !== \"undefined\" ? params.overlay : false;\n  if (params.overlay) {\n    // Initialize the overlay\n    brain.overlay = {};\n    // Get the sprite\n    brain.overlay.sprite = document.getElementById(params.overlay.sprite);\n    // Ratio between the resolution of the foreground and background\n    // Number of columns and rows in the overlay\n    brain.overlay.nbCol = brain.overlay.sprite.width / params.overlay.nbSlice.Y;\n    brain.overlay.nbRow =\n      brain.overlay.sprite.height / params.overlay.nbSlice.Z;\n    // Number of slices in the overlay\n    brain.overlay.nbSlice = {\n      X:\n        typeof params.overlay.nbSlice.X !== \"undefined\"\n          ? params.overlay.nbSlice.X\n          : brain.overlay.nbCol * brain.overlay.nbRow,\n      Y: params.overlay.nbSlice.Y,\n      Z: params.overlay.nbSlice.Z,\n    };\n    // opacity\n    brain.overlay.opacity =\n      typeof params.overlay.opacity !== \"undefined\"\n        ? params.overlay.opacity\n        : 1;\n  }\n\n  //**************//\n  // The colormap //\n  //**************//\n  params.colorMap =\n    typeof params.colorMap !== \"undefined\" ? params.colorMap : false;\n  if (params.colorMap) {\n    // Initialize the color map\n    brain.colorMap = {};\n    // Get the sprite\n    brain.colorMap.img = document.getElementById(params.colorMap.img);\n    // Set min / max\n    brain.colorMap.min = params.colorMap.min;\n    brain.colorMap.max = params.colorMap.max;\n    // Set visibility\n    params.colorMap.hide =\n      typeof params.colorMap.hide !== \"undefined\"\n        ? params.colorMap.hide\n        : false;\n    // An in-memory canvas to store the colormap\n    brain.colorMap.canvas = document.createElement(\"canvas\");\n    brain.colorMap.context = brain.colorMap.canvas.getContext(\"2d\");\n    brain.colorMap.canvas.width = brain.colorMap.img.width;\n    brain.colorMap.canvas.height = brain.colorMap.img.height;\n\n    // Copy the color map in an in-memory canvas\n    brain.colorMap.context.drawImage(\n      brain.colorMap.img,\n      0,\n      0,\n      brain.colorMap.img.width,\n      brain.colorMap.img.height,\n      0,\n      0,\n      brain.colorMap.img.width,\n      brain.colorMap.img.height\n    );\n  }\n\n  //*******************************************//\n  // Extract the value associated with a voxel //\n  //*******************************************//\n  brain.getValue = function (rgb, colorMap) {\n    if (!colorMap) {\n      return NaN;\n    }\n    var cv, dist, nbColor, ind, val, voxelValue;\n    nbColor = colorMap.canvas.width;\n    ind = NaN;\n    val = Infinity;\n    for (let xx = 0; xx < nbColor; xx++) {\n      cv = colorMap.context.getImageData(xx, 0, 1, 1).data;\n      dist =\n        Math.pow(cv[0] - rgb[0], 2) +\n        Math.pow(cv[1] - rgb[1], 2) +\n        Math.pow(cv[2] - rgb[2], 2);\n      if (dist < val) {\n        ind = xx;\n        val = dist;\n      }\n    }\n    voxelValue =\n      (ind * (colorMap.max - colorMap.min)) / (nbColor - 1) + colorMap.min;\n    return voxelValue;\n  };\n\n  //***************************************//\n  // Update voxel value                    //\n  //***************************************//\n  brain.updateValue = function () {\n    var pos = {};\n    var test1 = [];\n    var test2 = [];\n    if (brain.overlay && !brain.nanValue) {\n      try {\n        pos.XW = Math.round(brain.numSlice.X % brain.nbCol);\n        pos.XH = Math.round((brain.numSlice.X - pos.XW) / brain.nbCol);\n        brain.contextRead.fillStyle = \"#FFFFFF\";\n        brain.contextRead.fillRect(0, 0, 1, 1);\n        brain.contextRead.drawImage(\n          brain.overlay.sprite,\n          pos.XW * brain.nbSlice.Y + brain.numSlice.Y,\n          pos.XH * brain.nbSlice.Z + brain.nbSlice.Z - brain.numSlice.Z - 1,\n          1,\n          1,\n          0,\n          0,\n          1,\n          1\n        );\n        let rgb = brain.contextRead.getImageData(0, 0, 1, 1).data;\n        test1 = rgb[0] == 255 && rgb[1] == 255 && rgb[2] == 255;\n        brain.contextRead.fillStyle = \"#000000\";\n        brain.contextRead.fillRect(0, 0, 1, 1);\n        brain.contextRead.drawImage(\n          brain.overlay.sprite,\n          pos.XW * brain.nbSlice.Y + brain.numSlice.Y,\n          pos.XH * brain.nbSlice.Z + brain.nbSlice.Z - brain.numSlice.Z - 1,\n          1,\n          1,\n          0,\n          0,\n          1,\n          1\n        );\n        rgb = brain.contextRead.getImageData(0, 0, 1, 1).data;\n        test2 = rgb[0] == 0 && rgb[1] == 0 && rgb[2] == 0;\n        if (test1 && test2) {\n          brain.voxelValue = NaN;\n        } else {\n          brain.voxelValue = brain.getValue(rgb, brain.colorMap);\n        }\n      } catch (err) {\n        console.warn(err.message);\n        rgb = 0;\n        brain.nanValue = true;\n        brain.voxelValue = NaN;\n      }\n    } else {\n      brain.voxelValue = NaN;\n    }\n  };\n\n  //***************************************//\n  // Multiply two matrices                 //\n  //***************************************//\n  // Snippet copied from https://stackoverflow.com/questions/27205018/multiply-2-matrices-in-javascript\n  brain.multiply = function (a, b) {\n    var aNumRows = a.length,\n      aNumCols = a[0].length,\n      bNumRows = b.length,\n      bNumCols = b[0].length,\n      m = new Array(aNumRows); // initialize array of rows\n    for (var r = 0; r < aNumRows; ++r) {\n      m[r] = new Array(bNumCols); // initialize the current row\n      for (var c = 0; c < bNumCols; ++c) {\n        m[r][c] = 0; // initialize the current cell\n        for (var i = 0; i < aNumCols; ++i) {\n          m[r][c] += a[r][i] * b[i][c];\n        }\n      }\n    }\n    return m;\n  };\n\n  //***************************************//\n  // Update slice coordinates              //\n  //***************************************//\n  brain.updateCoordinates = function () {\n    const coordVoxel = brain.multiply(brain.affine, [\n      [brain.numSlice.X + 1],\n      [brain.numSlice.Y + 1],\n      [brain.numSlice.Z + 1],\n      [1],\n    ]);\n    brain.coordinatesSlice.X = coordVoxel[0];\n    brain.coordinatesSlice.Y = coordVoxel[1];\n    brain.coordinatesSlice.Z = coordVoxel[2];\n  };\n\n  //***********************//\n  // Initialize the viewer //\n  //***********************//\n  brain.init = function () {\n    // Update the width of the X, Y and Z slices in the canvas, based on the width of its parent\n    brain.widthCanvas.X = Math.floor(\n      brain.canvas.parentElement.clientWidth *\n        (brain.nbSlice.Y / (2 * brain.nbSlice.X + brain.nbSlice.Y))\n    );\n    brain.widthCanvas.Y = Math.floor(\n      brain.canvas.parentElement.clientWidth *\n        (brain.nbSlice.X / (2 * brain.nbSlice.X + brain.nbSlice.Y))\n    );\n    brain.widthCanvas.Z = Math.floor(\n      brain.canvas.parentElement.clientWidth *\n        (brain.nbSlice.X / (2 * brain.nbSlice.X + brain.nbSlice.Y))\n    );\n    brain.widthCanvas.max = Math.max(\n      brain.widthCanvas.X,\n      brain.widthCanvas.Y,\n      brain.widthCanvas.Z\n    );\n\n    // Update the height of the slices in the canvas, based on width and image ratio\n    brain.heightCanvas.X = Math.floor(\n      (brain.widthCanvas.X * brain.nbSlice.Z) / brain.nbSlice.Y\n    );\n    brain.heightCanvas.Y = Math.floor(\n      (brain.widthCanvas.Y * brain.nbSlice.Z) / brain.nbSlice.X\n    );\n    brain.heightCanvas.Z = Math.floor(\n      (brain.widthCanvas.Z * brain.nbSlice.Y) / brain.nbSlice.X\n    );\n    brain.heightCanvas.max = Math.max(\n      brain.heightCanvas.X,\n      brain.heightCanvas.Y,\n      brain.heightCanvas.Z\n    );\n\n    // Apply the width/height to the canvas, if necessary\n    if (\n      brain.canvas.width !=\n      brain.widthCanvas.X + brain.widthCanvas.Y + brain.widthCanvas.Z\n    ) {\n      brain.canvas.width =\n        brain.widthCanvas.X + brain.widthCanvas.Y + brain.widthCanvas.Z;\n      brain.canvas.height = Math.round(\n        (1 + brain.spaceFont) * brain.heightCanvas.max\n      );\n      brain.context = setNearestNeighbour(brain.context, brain.smooth);\n    }\n\n    // Size for fonts\n    brain.sizeFontPixels = Math.round(brain.sizeFont * brain.heightCanvas.max);\n\n    // fonts\n    brain.context.font = brain.sizeFontPixels + \"px Arial\";\n\n    // Draw the Master canvas\n    brain.planes.canvasMaster.width = brain.sprite.width;\n    brain.planes.canvasMaster.height = brain.sprite.height;\n    brain.planes.contextMaster.globalAlpha = 1;\n    brain.planes.contextMaster.drawImage(\n      brain.sprite,\n      0,\n      0,\n      brain.sprite.width,\n      brain.sprite.height,\n      0,\n      0,\n      brain.sprite.width,\n      brain.sprite.height\n    );\n    if (brain.overlay) {\n      // Draw the overlay on a canvas\n      brain.planes.contextMaster.globalAlpha = brain.overlay.opacity;\n      brain.planes.contextMaster.drawImage(\n        brain.overlay.sprite,\n        0,\n        0,\n        brain.overlay.sprite.width,\n        brain.overlay.sprite.height,\n        0,\n        0,\n        brain.sprite.width,\n        brain.sprite.height\n      );\n    }\n\n    // Draw the X canvas (sagital)\n    brain.planes.canvasX = document.createElement(\"canvas\");\n    brain.planes.contextX = brain.planes.canvasX.getContext(\"2d\");\n    brain.planes.canvasX.width = brain.nbSlice.Y;\n    brain.planes.canvasX.height = brain.nbSlice.Z;\n\n    // Draw the Y canvas (coronal)\n    brain.planes.canvasY = document.createElement(\"canvas\");\n    brain.planes.contextY = brain.planes.canvasY.getContext(\"2d\");\n    brain.planes.canvasY.width = brain.nbSlice.X;\n    brain.planes.canvasY.height = brain.nbSlice.Z;\n\n    // Draw the Z canvas (axial)\n    brain.planes.canvasZ = document.createElement(\"canvas\");\n    brain.planes.contextZ = brain.planes.canvasZ.getContext(\"2d\");\n    brain.planes.canvasZ.width = brain.nbSlice.X;\n    brain.planes.canvasZ.height = brain.nbSlice.Y;\n    brain.planes.contextZ.rotate(-Math.PI / 2);\n    brain.planes.contextZ.translate(-brain.nbSlice.Y, 0);\n\n    // Update value\n    brain.updateValue();\n\n    // Update coordinates\n    brain.updateCoordinates();\n\n    // Round up slice coordinates\n    brain.numSlice.X = Math.round(brain.numSlice.X);\n    brain.numSlice.Y = Math.round(brain.numSlice.Y);\n    brain.numSlice.Z = Math.round(brain.numSlice.Z);\n  };\n\n  //***************************************//\n  // Draw a particular slice in the canvas //\n  //***************************************//\n  brain.draw = function (slice, type) {\n    // Init variables\n    var pos = {},\n      coord,\n      coordWidth,\n      offset = { X: \"\", Y: \"\", Z: \"\" };\n    offset.X = Math.ceil(((1 - brain.sizeCrosshair) * brain.nbSlice.X) / 2);\n    offset.Y = Math.ceil(((1 - brain.sizeCrosshair) * brain.nbSlice.Y) / 2);\n    offset.Z = Math.ceil(((1 - brain.sizeCrosshair) * brain.nbSlice.Z) / 2);\n\n    // Now draw the slice\n    switch (type) {\n      case \"X\":\n        // Draw a sagital slice in memory\n        pos.XW = brain.numSlice.X % brain.nbCol;\n        pos.XH = (brain.numSlice.X - pos.XW) / brain.nbCol;\n        brain.planes.contextX.drawImage(\n          brain.planes.canvasMaster,\n          pos.XW * brain.nbSlice.Y,\n          pos.XH * brain.nbSlice.Z,\n          brain.nbSlice.Y,\n          brain.nbSlice.Z,\n          0,\n          0,\n          brain.nbSlice.Y,\n          brain.nbSlice.Z\n        );\n\n        // Add a crosshair\n        if (brain.crosshair) {\n          brain.planes.contextX.fillStyle = brain.colorCrosshair;\n          brain.planes.contextX.fillRect(\n            brain.numSlice.Y,\n            offset.Z,\n            1,\n            brain.nbSlice.Z - 2 * offset.Z\n          );\n          brain.planes.contextX.fillRect(\n            offset.Y,\n            brain.nbSlice.Z - brain.numSlice.Z - 1,\n            brain.nbSlice.Y - 2 * offset.Y,\n            1\n          );\n        }\n\n        // fill the slice with background color\n        brain.context.fillStyle = brain.colorBackground;\n        brain.context.fillRect(0, 0, brain.widthCanvas.X, brain.canvas.height);\n\n        // Draw on the main canvas\n        brain.context.drawImage(\n          brain.planes.canvasX,\n          0,\n          0,\n          brain.nbSlice.Y,\n          brain.nbSlice.Z,\n          0,\n          (brain.heightCanvas.max - brain.heightCanvas.X) / 2,\n          brain.widthCanvas.X,\n          brain.heightCanvas.X\n        );\n\n        // Draw the title\n        if (brain.title) {\n          brain.context.fillStyle = brain.colorFont;\n          brain.context.fillText(\n            brain.title,\n            Math.round(brain.widthCanvas.X / 10),\n            Math.round(\n              brain.heightCanvas.max * brain.heightColorBar +\n                (1 / 4) * brain.sizeFontPixels\n            )\n          );\n        }\n\n        // Draw the value at current voxel\n        if (brain.flagValue) {\n          value =\n            \"value = \" +\n            Number.parseFloat(brain.voxelValue)\n              .toPrecision(brain.nbDecimals)\n              .replace(/0+$/, \"\");\n          valueWidth = brain.context.measureText(value).width;\n          brain.context.fillStyle = brain.colorFont;\n          brain.context.fillText(\n            value,\n            Math.round(brain.widthCanvas.X / 10),\n            Math.round(\n              brain.heightCanvas.max * brain.heightColorBar * 2 +\n                (3 / 4) * brain.sizeFontPixels\n            )\n          );\n        }\n\n        // Add X coordinates on the slice\n        if (brain.flagCoordinates) {\n          coord = \"x = \" + Math.round(brain.coordinatesSlice.X);\n          coordWidth = brain.context.measureText(coord).width;\n          brain.context.fillStyle = brain.colorFont;\n          brain.context.fillText(\n            coord,\n            brain.widthCanvas.X / 2 - coordWidth / 2,\n            Math.round(brain.canvas.height - brain.sizeFontPixels / 2)\n          );\n        }\n        break;\n\n      case \"Y\":\n        // Draw a single coronal slice at native resolution\n        brain.context.fillStyle = brain.colorBackground;\n        brain.context.fillRect(\n          brain.widthCanvas.X,\n          0,\n          brain.widthCanvas.Y,\n          brain.canvas.height\n        );\n        for (let xx = 0; xx < brain.nbSlice.X; xx++) {\n          const posW = xx % brain.nbCol;\n          const posH = (xx - posW) / brain.nbCol;\n          brain.planes.contextY.drawImage(\n            brain.planes.canvasMaster,\n            posW * brain.nbSlice.Y + brain.numSlice.Y,\n            posH * brain.nbSlice.Z,\n            1,\n            brain.nbSlice.Z,\n            xx,\n            0,\n            1,\n            brain.nbSlice.Z\n          );\n        }\n\n        // Add a crosshair\n        if (brain.crosshair) {\n          brain.planes.contextY.fillStyle = brain.colorCrosshair;\n          brain.planes.contextY.fillRect(\n            brain.numSlice.X,\n            offset.Z,\n            1,\n            brain.nbSlice.Z - 2 * offset.Z\n          );\n          brain.planes.contextY.fillRect(\n            offset.X,\n            brain.nbSlice.Z - brain.numSlice.Z - 1,\n            brain.nbSlice.X - 2 * offset.X,\n            1\n          );\n        }\n\n        // Redraw the coronal slice in the canvas at screen resolution\n        brain.context.drawImage(\n          brain.planes.canvasY,\n          0,\n          0,\n          brain.nbSlice.X,\n          brain.nbSlice.Z,\n          brain.widthCanvas.X,\n          (brain.heightCanvas.max - brain.heightCanvas.Y) / 2,\n          brain.widthCanvas.Y,\n          brain.heightCanvas.Y\n        );\n\n        // Add colorbar\n        if (brain.colorMap && !brain.colorMap.hide) {\n          // draw the colorMap on the coronal slice at screen resolution\n          brain.context.drawImage(\n            brain.colorMap.img,\n            0,\n            0,\n            brain.colorMap.img.width,\n            1,\n            Math.round(brain.widthCanvas.X + brain.widthCanvas.Y * 0.2),\n            Math.round((brain.heightCanvas.max * brain.heightColorBar) / 2),\n            Math.round(brain.widthCanvas.Y * 0.6),\n            Math.round(brain.heightCanvas.max * brain.heightColorBar)\n          );\n          brain.context.fillStyle = brain.colorFont;\n          label_min = Number.parseFloat(brain.colorMap.min)\n            .toPrecision(brain.nbDecimals)\n            .replace(/0+$/, \"\");\n          label_max = Number.parseFloat(brain.colorMap.max)\n            .toPrecision(brain.nbDecimals)\n            .replace(/0+$/, \"\");\n          brain.context.fillText(\n            label_min,\n            brain.widthCanvas.X +\n              brain.widthCanvas.Y * 0.2 -\n              brain.context.measureText(label_min).width / 2,\n            Math.round(\n              brain.heightCanvas.max * brain.heightColorBar * 2 +\n                (3 / 4) * brain.sizeFontPixels\n            )\n          );\n          brain.context.fillText(\n            label_max,\n            brain.widthCanvas.X +\n              brain.widthCanvas.Y * 0.8 -\n              brain.context.measureText(label_max).width / 2,\n            Math.round(\n              brain.heightCanvas.max * brain.heightColorBar * 2 +\n                (3 / 4) * brain.sizeFontPixels\n            )\n          );\n        }\n\n        // Add Y coordinates on the slice\n        if (brain.flagCoordinates) {\n          brain.context.font = brain.sizeFontPixels + \"px Arial\";\n          brain.context.fillStyle = brain.colorFont;\n          coord = \"y = \" + Math.round(brain.coordinatesSlice.Y);\n          coordWidth = brain.context.measureText(coord).width;\n          brain.context.fillText(\n            coord,\n            brain.widthCanvas.X + brain.widthCanvas.Y / 2 - coordWidth / 2,\n            Math.round(brain.canvas.height - brain.sizeFontPixels / 2)\n          );\n        }\n\n      case \"Z\":\n        // Draw a single axial slice at native resolution\n        brain.context.fillStyle = brain.colorBackground;\n        brain.context.fillRect(\n          brain.widthCanvas.X + brain.widthCanvas.Y,\n          0,\n          brain.widthCanvas.Z,\n          brain.canvas.height\n        );\n\n        for (let xx = 0; xx < brain.nbSlice.X; xx++) {\n          const posW = xx % brain.nbCol;\n          const posH = (xx - posW) / brain.nbCol;\n          brain.planes.contextZ.drawImage(\n            brain.planes.canvasMaster,\n            posW * brain.nbSlice.Y,\n            posH * brain.nbSlice.Z + brain.nbSlice.Z - brain.numSlice.Z - 1,\n            brain.nbSlice.Y,\n            1,\n            0,\n            xx,\n            brain.nbSlice.Y,\n            1\n          );\n        }\n\n        // Add a crosshair\n        if (brain.crosshair) {\n          brain.planes.contextZ.fillStyle = brain.colorCrosshair;\n          brain.planes.contextZ.fillRect(\n            offset.Y,\n            brain.numSlice.X,\n            brain.nbSlice.Y - 2 * offset.Y,\n            1\n          );\n          brain.planes.contextZ.fillRect(\n            brain.numSlice.Y,\n            offset.X,\n            1,\n            brain.nbSlice.X - 2 * offset.X\n          );\n        }\n\n        // Redraw the axial slice in the canvas at screen resolution\n        brain.context.drawImage(\n          brain.planes.canvasZ,\n          0,\n          0,\n          brain.nbSlice.X,\n          brain.nbSlice.Y,\n          brain.widthCanvas.X + brain.widthCanvas.Y,\n          (brain.heightCanvas.max - brain.heightCanvas.Z) / 2,\n          brain.widthCanvas.Z,\n          brain.heightCanvas.Z\n        );\n\n        // Add Z coordinates on the slice\n        if (brain.flagCoordinates) {\n          coord = \"z = \" + Math.round(brain.coordinatesSlice.Z);\n          coordWidth = brain.context.measureText(coord).width;\n          brain.context.fillStyle = brain.colorFont;\n          brain.context.fillText(\n            coord,\n            brain.widthCanvas.X +\n              brain.widthCanvas.Y +\n              brain.widthCanvas.Z / 2 -\n              coordWidth / 2,\n            Math.round(brain.canvas.height - brain.sizeFontPixels / 2)\n          );\n        }\n    }\n  };\n\n  // In case of click, update brain slices\n  brain.clickBrain = function (e) {\n    var rect = brain.canvas.getBoundingClientRect();\n    var xx = e.clientX - rect.left;\n    var yy = e.clientY - rect.top;\n    var sx, sy, sz;\n\n    if (xx < brain.widthCanvas.X) {\n      sy = Math.round((brain.nbSlice.Y - 1) * (xx / brain.widthCanvas.X));\n      sz = Math.round(\n        ((brain.nbSlice.Z - 1) *\n          ((brain.heightCanvas.max + brain.heightCanvas.X) / 2 - yy)) /\n          brain.heightCanvas.X\n      );\n      brain.numSlice.Y = Math.max(Math.min(sy, brain.nbSlice.Y - 1), 0);\n      brain.numSlice.Z = Math.max(Math.min(sz, brain.nbSlice.Z - 1), 0);\n    } else if (xx < brain.widthCanvas.X + brain.widthCanvas.Y) {\n      xx = xx - brain.widthCanvas.X;\n      sx = Math.round((brain.nbSlice.X - 1) * (xx / brain.widthCanvas.Y));\n      sz = Math.round(\n        ((brain.nbSlice.Z - 1) *\n          ((brain.heightCanvas.max + brain.heightCanvas.X) / 2 - yy)) /\n          brain.heightCanvas.X\n      );\n      brain.numSlice.X = Math.max(Math.min(sx, brain.nbSlice.X - 1), 0);\n      brain.numSlice.Z = Math.max(Math.min(sz, brain.nbSlice.Z - 1), 0);\n    } else {\n      xx = xx - brain.widthCanvas.X - brain.widthCanvas.Y;\n      sx = Math.round((brain.nbSlice.X - 1) * (xx / brain.widthCanvas.Z));\n      sy = Math.round(\n        ((brain.nbSlice.Y - 1) *\n          ((brain.heightCanvas.max + brain.heightCanvas.Z) / 2 - yy)) /\n          brain.heightCanvas.Z\n      );\n      brain.numSlice.X = Math.max(Math.min(sx, brain.nbSlice.X - 1), 0);\n      brain.numSlice.Y = Math.max(Math.min(sy, brain.nbSlice.Y - 1), 0);\n    }\n    // Update value\n    brain.updateValue();\n\n    // Update coordinates\n    brain.updateCoordinates();\n\n    // Redraw slices\n    brain.drawAll();\n    if (brain.onclick) {\n      brain.onclick(e);\n    }\n  };\n\n  brain.drawAll = function () {\n    brain.draw(brain.numSlice.X, \"X\");\n    brain.draw(brain.numSlice.Y, \"Y\");\n    brain.draw(brain.numSlice.Z, \"Z\");\n  };\n\n  // Attach a listener for clicks\n  brain.canvas.addEventListener(\"click\", brain.clickBrain, false);\n\n  // Attach a listener on mouse down\n  brain.canvas.addEventListener(\n    \"mousedown\",\n    function (e) {\n      brain.canvas.addEventListener(\"mousemove\", brain.clickBrain, false);\n    },\n    false\n  );\n\n  // Detach the listener on mouse up\n  brain.canvas.addEventListener(\n    \"mouseup\",\n    function (e) {\n      brain.canvas.removeEventListener(\"mousemove\", brain.clickBrain, false);\n    },\n    false\n  );\n\n  // Draw all slices when background/overlay are loaded\n  brain.sprite.addEventListener(\"load\", function () {\n    brain.init();\n    brain.drawAll();\n  });\n  if (brain.overlay) {\n    brain.overlay.sprite.addEventListener(\"load\", function () {\n      brain.init();\n      brain.drawAll();\n    });\n  }\n\n  // Init the viewer\n  brain.init();\n\n  // Draw all slices\n  brain.drawAll();\n\n  return brain;\n}\n\nexport default brainsprite;\n","<template>\n  <div class=\"brainsprite\">\n    <div v-if=\"!done\">Hold on...</div>\n    <canvas :id=\"id\"></canvas>\n    <img\n      :id=\"id + '_spriteImg'\"\n      class=\"hidden\"\n      :src=\"'data:image/png;base64,' + base\"\n      v-if=\"showOrig\"\n    />\n    <img\n      :id=\"id + '_overlayImg'\"\n      class=\"hidden\"\n      v-if=\"overlay && showOrig\"\n      :src=\"'data:image/png;base64,' + overlay\"\n    />\n  </div>\n</template>\n\n<style scoped>\n.hidden {\n  visibility: hidden;\n  /* display: none; */\n}\ncanvas {\n  width: 100%;\n}\nimg {\n  /* width: 10px;\n    height: 10px; */\n}\n</style>\n\n<script>\nimport brainsprite from \"./brainsprite\";\n\nexport default {\n  name: \"brainsprite\",\n  props: [\n    \"base\",\n    \"overlay\",\n    \"id\",\n    \"base_dim_x\",\n    \"base_dim_y\",\n    \"overlay_dim_x\",\n    \"overlay_dim_y\",\n  ],\n  data() {\n    return {\n      brain: null,\n      showOrig: true,\n      done: false,\n      ready: false,\n    };\n  },\n  methods: {\n    initBrainSprite() {\n      /* eslint-disable-next-line */\n      const brain = new brainsprite({\n        canvas: this.id,\n        sprite: `${this.id}_spriteImg`,\n        nbSlice: { Y: this.base_dim_x, Z: this.base_dim_y },\n        overlay: {\n          sprite: `${this.id}_overlayImg`,\n          nbSlice: { Y: this.overlay_dim_x, Z: this.overlay_dim_y },\n          opacity: 0.5,\n        },\n      });\n      this.brain = brain;\n      this.showOrig = false;\n      this.done = true;\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.ready = true;\n        this.initBrainSprite();\n      }, 100);\n    });\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrainSprite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrainSprite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BrainSprite.vue?vue&type=template&id=6da30ef8&scoped=true&\"\nimport script from \"./BrainSprite.vue?vue&type=script&lang=js&\"\nexport * from \"./BrainSprite.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BrainSprite.vue?vue&type=style&index=0&id=6da30ef8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6da30ef8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('resize-observer',{on:{\"notify\":_vm.handleResize}}),_c('svg',{ref:\"chart\",staticClass:\"carpetplot\",attrs:{\"id\":\"carpetsvg\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <resize-observer @notify=\"handleResize\" />\n    <svg id=\"carpetsvg\" ref=\"chart\" class=\"carpetplot\"></svg>\n  </div>\n</template>\n\n<script>\nconst d3 = require(\"d3\");\n\nexport default {\n  name: \"Carpetplot\",\n  props: {\n    data: {\n      type: Array,\n    },\n    highlightIdx: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      margin: { top: 10, right: 25, bottom: 10, left: 40 },\n      mounted: false,\n      width: null,\n      height: 500,\n      x: null,\n      y: null,\n    };\n  },\n  computed: {\n    dataFlattened() {\n      const nRows = this.data.length;\n      const nCols = this.data[0].length;\n      const output = [];\n\n      for (let i = 0; i < nRows; i += 1) {\n        for (let j = 0; j < nCols; j += 1) {\n          output.push({ i, j, value: this.data[i][j] });\n        }\n      }\n      return output;\n    },\n  },\n  watch: {\n    highlightIdx() {\n      const self = this;\n      d3.select(\"#carpetsvg\")\n        .selectAll(\"rect\")\n        .style(\"opacity\", function (d) {\n          if (d.i == self.highlightIdx) {\n            return 1;\n          }\n          return 0.5;\n        });\n    },\n  },\n  mounted() {\n    this.mounted = true;\n    this.width = this.$refs.chart.clientWidth;\n    this.init();\n  },\n  methods: {\n    init() {\n      const width = this.width - this.margin.left - this.margin.right;\n      const height = 450 - this.margin.top - this.margin.bottom;\n\n      // append the svg object to the body of the page\n      const svg = d3\n        .select(\"#carpetsvg\")\n        .attr(\"width\", this.width)\n        .attr(\"height\", this.height)\n        .append(\"g\")\n        .attr(\n          \"transform\",\n          \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\"\n        );\n\n      const myGroups = d3\n        .map(this.dataFlattened, function (d) {\n          return d.i;\n        })\n        .keys();\n      const myVars = d3\n        .map(this.dataFlattened, function (d) {\n          return d.j;\n        })\n        .keys();\n\n      // Build X scales and axis:\n      const x = d3.scaleBand().range([0, width]).domain(myGroups).padding(0.05);\n\n      this.x = x;\n\n      // Build Y scales and axis:\n      const y = d3.scaleBand().range([height, 0]).domain(myVars).padding(0.05);\n\n      this.y = y;\n\n      // Build color scale\n\n      // const maxVal = d3.max(this.dataFlattened, d => d.value)\n      // const minVal = d3.min(this.dataFlattened, d => d.value)\n\n      const myColor = d3\n        .scaleSequential()\n        .interpolator(d3.interpolateInferno)\n        // .domain([minVal, maxVal])\n        .domain([0, 1]);\n\n      // const mouseover = function() {\n      //   d3.select(this)\n      //     .style(\"stroke\", \"black\")\n      //     .style(\"opacity\", 1)\n      // }\n\n      // const mouseleave = function() {\n      //   d3.select(this)\n      //     .style(\"stroke\", \"none\")\n      //     .style(\"opacity\", 0.8)\n      // }\n\n      const self = this;\n\n      svg\n        .selectAll()\n        .data(this.dataFlattened, function (d) {\n          return d.i + \":\" + d.j;\n        })\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", function (d) {\n          return x(d.i);\n        })\n        .attr(\"y\", function (d) {\n          return y(d.j);\n        })\n        .attr(\"rx\", 4)\n        .attr(\"ry\", 4)\n        .attr(\"width\", x.bandwidth())\n        .attr(\"height\", y.bandwidth())\n        .style(\"fill\", function (d) {\n          return myColor(d.value);\n        })\n        .style(\"stroke-width\", 4)\n        .style(\"stroke\", \"none\")\n        .style(\"opacity\", function (d) {\n          if (d.i == self.highlightIdx) {\n            return 1;\n          }\n          return 0.5;\n        });\n      //  .on(\"mouseover\", mouseover)\n      // .on(\"mousemove\", mousemove)\n      //  .on(\"mouseleave\", mouseleave)\n    },\n    handleResize() {\n      this.width = this.$refs.chart.clientWidth;\n\n      const svg = d3\n        .select(\"#carpetsvg\")\n        .attr(\"width\", this.width - this.margin.left - this.margin.right);\n\n      this.x.range([0, this.width - this.margin.left - this.margin.right]);\n      const self = this;\n      svg\n        .selectAll(\"rect\")\n        .attr(\"x\", function (d) {\n          return self.x(d.i);\n        })\n        .attr(\"width\", this.x.bandwidth());\n    },\n  },\n};\n</script>\n\n<style>\n.carpetplot {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarpetPlot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarpetPlot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CarpetPlot.vue?vue&type=template&id=6cc9fc1e&\"\nimport script from \"./CarpetPlot.vue?vue&type=script&lang=js&\"\nexport * from \"./CarpetPlot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CarpetPlot.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"qspace-parent\"}},[_c('p',{staticClass:\"lead\"},[_vm._v(\"q-space Sampling\")]),_c('b-row',[_c('b-col',[_c('b-checkbox',{model:{value:(_vm.autoRotate),callback:function ($$v) {_vm.autoRotate=$$v},expression:\"autoRotate\"}},[_vm._v(\" auto rotate \")])],1),_c('b-col',[_c('b-checkbox',{model:{value:(_vm.showReflection),callback:function ($$v) {_vm.showReflection=$$v},expression:\"showReflection\"}},[_vm._v(\" show reflected points \")])],1)],1),_c('b-row',[_c('b-col',[_c('QSpaceViewer',{attrs:{\"elementId\":\"qSpaceViewerPre\",\"qcoords\":_vm.report.q_coords,\"colors\":_vm.report.color,\"cameraPosition\":_vm.globalPosition,\"autoRotate\":_vm.autoRotate,\"showReflectedPoints\":_vm.showReflection,\"highlightIdx\":_vm.time},on:{\"updateCameraPosition\":_vm.updateGlobalPosition}}),_c('p',{staticClass:\"lead\"},[_vm._v(\"Original\")])],1),_c('b-col',[_c('QSpaceViewer',{attrs:{\"elementId\":\"qSpaceViewerPost\",\"qcoords\":_vm.report.q_coords,\"colors\":_vm.report.color,\"cameraPosition\":_vm.globalPosition,\"autoRotate\":_vm.autoRotate,\"showReflectedPoints\":_vm.showReflection,\"highlightIdx\":_vm.time},on:{\"updateCameraPosition\":_vm.updateGlobalPosition}}),_c('p',{staticClass:\"lead\"},[_vm._v(\"Corrected\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.elementId}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n/**\n * This component creates a three.js canvas displaying a point cloud for the q-space sampling scheme\n *\n * The points are represented using THREE.Points with a vertex shader. We chose this method\n * because we believe it is more lightweight than a group of spheres or something similar.\n */\n -->\n<template>\n  <div :id=\"elementId\"></div>\n</template>\n\n<script>\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport Stats from \"three/examples/jsm/libs/stats.module.js\";\nconst disc = require(\"../assets/disc.png\");\n\nexport default {\n  name: \"qSpaceViewer\",\n  props: {\n    qcoords: {\n      type: Array,\n    },\n    colors: {\n      type: Array,\n    },\n    elementId: {\n      type: String,\n    },\n    cameraPosition: {\n      type: Object,\n    },\n    autoRotate: {\n      type: Boolean,\n    },\n    showReflectedPoints: {\n      type: Boolean,\n    },\n    highlightIdx: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      scene: null,\n      camera: null,\n      controls: null,\n      renderer: null,\n      ambient: null,\n      particles: null,\n      reflectedParticles: null,\n      showStats: false,\n      stats: null,\n      container: null,\n      unhighlightedSize: null,\n      unhighlightedAlpha: 0.4,\n    };\n  },\n  mounted() {\n    this.init();\n    this.animate();\n  },\n  watch: {\n    highlightIdx() {\n      this.highlightPoint();\n    },\n    autoRotate() {\n      this.toggleAutoRotate();\n    },\n    showReflectedPoints() {\n      this.toggleReflectedPoints();\n    },\n  },\n  methods: {\n    init: function () {\n      // There may be multiple QSpaceViewer components so `elementId` is\n      // passed in as an input using Vue magic. We insert the viewer canvas\n      // element into the div with this elementId\n      this.container = document.getElementById(this.elementId);\n\n      // The q-space coords will be scaled by b-val. So we don't know a priori\n      // what the scale will be. Thus, we read in the data first and then\n      // determine the scale of the point cloud. We then set the camera\n      // position, marker size, etc. dynamically.\n      const xyz = this.qcoords; // q-space coords\n      const rgb = this.colors; // color encodes the imaging run\n\n      let positions = [];\n      let colors = [];\n      let vertex;\n      const color = new THREE.Color();\n      let absMax = 0;\n\n      const npoints = xyz.length;\n      for (let i = 0, l = npoints; i < l; i++) {\n        vertex = xyz[i];\n        positions.push(vertex[0], vertex[1], vertex[2]);\n        const localMax = Math.max(Math.abs(vertex[0], vertex[1], vertex[2]));\n        if (localMax > absMax) {\n          absMax = localMax;\n        }\n\n        color.setRGB(rgb[i][0], rgb[i][1], rgb[i][2]);\n        colors.push(color.r, color.g, color.b);\n      }\n\n      // Now that we've determined `absMax`, set the point size and fill the\n      // sizes and alphas arrays.\n      this.unselectedSize = absMax * 0.15;\n      const sizes = new Float32Array(npoints);\n      const alphas = new Float32Array(npoints);\n\n      for (let i = 0, l = npoints; i < l; i++) {\n        sizes[i] =\n          i === this.highlightIdx\n            ? 3.0 * this.unselectedSize\n            : this.unselectedSize;\n        alphas[i] = i === this.highlightIdx ? 1.0 : 0.25;\n      }\n\n      // Set the positions, colors, sizes, and alphas as attributes of a\n      // buffer geometry. These attributes will be sent as arguments to the\n      // shaders defined below.\n      const geometry = new THREE.BufferGeometry();\n      geometry.setAttribute(\n        \"position\",\n        new THREE.Float32BufferAttribute(positions, 3)\n      );\n      geometry.setAttribute(\n        \"customColor\",\n        new THREE.Float32BufferAttribute(colors, 3)\n      );\n      geometry.setAttribute(\"size\", new THREE.BufferAttribute(sizes, 1));\n      geometry.setAttribute(\"alpha\", new THREE.BufferAttribute(alphas, 1));\n\n      // Create the scene and camera.\n      // Camera position is set dynamically based on `absMax`.\n      this.scene = new THREE.Scene();\n      this.camera = new THREE.PerspectiveCamera(75, 1, 0.001, absMax * 10);\n      this.camera.position.z = absMax * 2;\n      this.camera.position.y = absMax * 1;\n\n      // Use ambient light\n      this.ambient = new THREE.AmbientLight(0x111111);\n      this.scene.add(this.ambient);\n\n      // Use vertex and fragment shaders to change the display of each point\n      // Without this, each point is rendered as a square. The shaders take\n      // as arguments the attributes of the geometry defined above (i.e.\n      // alpha, size, and customColor).\n      const vertexShader = `\n        attribute float alpha;\n        attribute float size;\n        attribute vec3 customColor;\n        varying vec3 vColor;\n        varying float vAlpha;\n\n        void main() {\n          vColor = customColor;\n          vAlpha = alpha;\n          vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n          gl_PointSize = size * ( 300.0 / -mvPosition.z );\n          gl_Position = projectionMatrix * mvPosition;\n        }\n        `;\n\n      const fragmentShader = `\n        uniform vec3 color;\n        uniform sampler2D pointTexture;\n        varying vec3 vColor;\n        varying float vAlpha;\n\n        void main() {\n          gl_FragColor = vec4( color * vColor, vAlpha );\n          gl_FragColor = gl_FragColor * texture2D( pointTexture, gl_PointCoord );\n        }\n        `;\n\n      // Use the disc.png image for each point.\n      const discTexture = new THREE.TextureLoader().load(disc);\n\n      // Put it all together (the shaders and the image texture) into a\n      // shader material.\n      const material = new THREE.ShaderMaterial({\n        uniforms: {\n          color: { value: new THREE.Color(0xffffff) },\n          pointTexture: { value: discTexture },\n        },\n        vertexShader: vertexShader,\n        fragmentShader: fragmentShader,\n        transparent: true,\n        depthWrite: false,\n      });\n\n      // Create points from geometry and material and add to the scene.\n      this.particles = new THREE.Points(geometry, material);\n      this.scene.add(this.particles);\n\n      // Do this all over again for the reflected points.\n      let reflectedPositions = [];\n      for (let i = 0, l = npoints; i < l; i++) {\n        vertex = xyz[i];\n        reflectedPositions.push(-vertex[0], -vertex[1], -vertex[2]);\n      }\n\n      const reflectedGeometry = new THREE.BufferGeometry();\n      reflectedGeometry.setAttribute(\n        \"position\",\n        new THREE.Float32BufferAttribute(reflectedPositions, 3)\n      );\n      reflectedGeometry.setAttribute(\n        \"customColor\",\n        new THREE.Float32BufferAttribute(colors, 3)\n      );\n      reflectedGeometry.setAttribute(\n        \"size\",\n        new THREE.BufferAttribute(sizes, 1)\n      );\n      reflectedGeometry.setAttribute(\n        \"alpha\",\n        new THREE.BufferAttribute(alphas, 1)\n      );\n\n      this.reflectedParticles = new THREE.Points(reflectedGeometry, material);\n      this.scene.add(this.reflectedParticles);\n\n      // Only display the reflected particles if the checkbox is selected\n      this.reflectedParticles.visible = this.showReflectedPoints;\n\n      // three.js has an AxesHelper object but one can't change the line\n      // width. So instead we create one TubeGeometry for each axis and\n      // combine them all into `axesGroup`.\n      const axesGroup = new THREE.Group();\n\n      const axesPoints = {\n        x: [\n          [0, 0, 0],\n          [1.25 * absMax, 0, 0],\n        ],\n        y: [\n          [0, 0, 0],\n          [0, 1.25 * absMax, 0],\n        ],\n        z: [\n          [0, 0, 0],\n          [0, 0, 1.25 * absMax],\n        ],\n      };\n\n      // This somewhat complicated pattern iterates through each key/value\n      // in the previous object and creates a new object based on a map\n      // In this case we are creating a path from each set of points.\n      const axesPaths = Object.assign(\n        ...Object.entries(axesPoints).map(([key, value]) => ({\n          [key]: value.map(function (element) {\n            return new THREE.Vector3(element[0], element[1], element[2]);\n          }),\n        }))\n      );\n\n      // Use the same pattern to create a curve from each path.\n      const axesCurves = Object.assign(\n        ...Object.entries(axesPaths).map(([key, value]) => ({\n          [key]: new THREE.CatmullRomCurve3(value),\n        }))\n      );\n\n      // Use same pattern to create a geometry from each curve\n      const axesGeometries = Object.assign(\n        ...Object.entries(axesCurves).map(([key, value]) => ({\n          [key]: new THREE.TubeBufferGeometry(\n            value,\n            50,\n            absMax * 0.01,\n            8,\n            true\n          ),\n        }))\n      );\n\n      // Now create axes materials with a different color for each axis.\n      const axesMaterials = {\n        x: new THREE.MeshBasicMaterial({ color: \"red\", depthWrite: true }),\n        y: new THREE.MeshBasicMaterial({ color: \"green\", depthWrite: true }),\n        z: new THREE.MeshBasicMaterial({ color: \"blue\", depthWrite: true }),\n      };\n\n      // Create the tube meshes\n      const xAxisMesh = new THREE.Mesh(axesGeometries.x, axesMaterials.x);\n      const yAxisMesh = new THREE.Mesh(axesGeometries.y, axesMaterials.y);\n      const zAxisMesh = new THREE.Mesh(axesGeometries.z, axesMaterials.z);\n\n      // Add each one to the group and add group to scene\n      axesGroup.add(xAxisMesh);\n      axesGroup.add(yAxisMesh);\n      axesGroup.add(zAxisMesh);\n      this.scene.add(axesGroup);\n\n      // Create the renderer and append to the div container\n      this.renderer = new THREE.WebGLRenderer({ alpha: true });\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(\n        this.container.clientWidth,\n        this.container.clientWidth\n      );\n      this.container.appendChild(this.renderer.domElement);\n\n      // Add orbit controls.\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n      this.controls.enableDamping = true;\n      this.controls.dampingFactor = 0.25;\n      this.controls.enableZoom = true;\n      this.controls.autoRotate = this.autoRotate;\n      this.controls.maxDistance = absMax * 5;\n      this.controls.enableKeys = false;\n\n      // We will have multiple QSpaceViewers and we want their orbit\n      // controls to be yoked to each other. We do this with the\n      // `emitCameraEvent` method.\n      this.controls.addEventListener(\"change\", this.emitCameraEvent);\n\n      // For development, it's nice to have stats on frame rate, etc.\n      // Set showStats to tru up top to see the sets.\n      // Be sure to turn it back off for the production version\n      if (this.showStats) {\n        this.stats = new Stats();\n        this.stats.domElement.style.position = \"relative\";\n        this.stats.domElement.style.top = \"0px\";\n        this.stats.domElement.style.right = \"0px\";\n        this.container.appendChild(this.stats.domElement);\n      }\n\n      this.container.addEventListener(\"resize\", this.onWindowResize, false);\n    },\n    animate: function () {\n      requestAnimationFrame(this.animate);\n      this.render();\n      if (this.showStats) {\n        this.stats.update();\n      }\n    },\n    highlightPoint() {\n      // When the volume selection slider changes, we call this method\n      // to change the size and opacity of the selected point.\n      const alphas = this.particles.geometry.attributes.alpha;\n      const sizes = this.particles.geometry.attributes.size;\n      for (let i = 0; i < alphas.count; i++) {\n        alphas.array[i] = i === this.highlightIdx ? 1.0 : 0.25;\n        sizes.array[i] =\n          i === this.highlightIdx\n            ? 3.0 * this.unselectedSize\n            : this.unselectedSize;\n      }\n      alphas.needsUpdate = true;\n      sizes.needsUpdate = true;\n\n      // Do it all over again for the reflected points.\n      const alphasRef = this.reflectedParticles.geometry.attributes.alpha;\n      const sizesRef = this.reflectedParticles.geometry.attributes.size;\n      for (let i = 0; i < alphasRef.count; i++) {\n        alphasRef.array[i] = i === this.highlightIdx ? 1.0 : 0.25;\n        sizesRef.array[i] =\n          i === this.highlightIdx\n            ? 3.0 * this.unselectedSize\n            : this.unselectedSize;\n      }\n      alphasRef.needsUpdate = true;\n      sizesRef.needsUpdate = true;\n    },\n    toggleAutoRotate() {\n      // When the auto rotate checkbox changes, change the autoRotate property\n      this.controls.autoRotate = this.autoRotate;\n    },\n    toggleReflectedPoints() {\n      // When the reflected points checkbox changes, change the visible property\n      this.reflectedParticles.visible = this.showReflectedPoints;\n    },\n    render: function () {\n      this.renderer.render(this.scene, this.camera);\n      if (this.cameraPosition) {\n        this.camera.position.copy(this.cameraPosition);\n      }\n      this.controls.update();\n    },\n    onWindowResize: function () {\n      this.renderer.setSize(\n        this.container.clientWidth,\n        this.container.clientWidth\n      );\n    },\n    emitCameraEvent: function () {\n      // When the camera position updates on this viewer component,\n      // emit an `updateCameraPosition` event, which will trigger\n      // the QSpaceGroup component to send it back down to each\n      // child component via the `cameraPosition` parameter.\n      this.$emit(\"updateCameraPosition\", this.camera.position);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QSpaceViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QSpaceViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QSpaceViewer.vue?vue&type=template&id=40e203af&\"\nimport script from \"./QSpaceViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./QSpaceViewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n/**\n * This parent component holds two QSpaceViewers in two columns.\n *\n * It also contains two checkboxes to toggle the auto-rotate feature and to\n * toggle the display of the reflected points.\n */\n -->\n<template>\n  <div id=\"qspace-parent\">\n    <p class=\"lead\">q-space Sampling</p>\n    <b-row>\n      <b-col>\n        <b-checkbox v-model=\"autoRotate\">\n          auto rotate\n        </b-checkbox>\n      </b-col>\n      <b-col>\n        <b-checkbox v-model=\"showReflection\">\n          show reflected points\n        </b-checkbox>\n      </b-col>\n    </b-row>\n\n    <b-row>\n      <b-col>\n        <QSpaceViewer\n          elementId=\"qSpaceViewerPre\"\n          :qcoords=\"report.q_coords\"\n          :colors=\"report.color\"\n          :cameraPosition=\"globalPosition\"\n          v-on:updateCameraPosition=\"updateGlobalPosition\"\n          :autoRotate=\"autoRotate\"\n          :showReflectedPoints=\"showReflection\"\n          :highlightIdx=\"time\"\n        />\n        <p class=\"lead\">Original</p>\n      </b-col>\n      <b-col>\n        <QSpaceViewer\n          elementId=\"qSpaceViewerPost\"\n          :qcoords=\"report.q_coords\"\n          :colors=\"report.color\"\n          :cameraPosition=\"globalPosition\"\n          v-on:updateCameraPosition=\"updateGlobalPosition\"\n          :autoRotate=\"autoRotate\"\n          :showReflectedPoints=\"showReflection\"\n          :highlightIdx=\"time\"\n        />\n        <p class=\"lead\">Corrected</p>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport QSpaceViewer from \"./QSpaceViewer\";\n\nexport default {\n  name: \"QSpaceGroup\",\n  components: {\n    QSpaceViewer,\n  },\n  props: {\n    report: {\n      type: Object,\n    },\n    time: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      autoRotate: false,\n      showReflection: false,\n      globalPosition: null,\n    };\n  },\n  methods: {\n    updateGlobalPosition(position) {\n      this.globalPosition = position;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QSpaceGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QSpaceGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QSpaceGroup.vue?vue&type=template&id=f228272e&\"\nimport script from \"./QSpaceGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./QSpaceGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"200px\",\"width\":\"100%\",\"display\":\"inline-flex\"}},[_c('resize-observer',{on:{\"notify\":_vm.handleResize}}),_c('svg',{ref:\"chart\",staticClass:\"lineChart\",attrs:{\"id\":_vm.id,\"width\":_vm.width,\"height\":_vm.height}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"height: 200px; width: 100%; display: inline-flex;\">\n    <resize-observer @notify=\"handleResize\" />\n    <svg\n      ref=\"chart\"\n      :id=\"id\"\n      class=\"lineChart\"\n      :width=\"width\"\n      :height=\"height\"\n    ></svg>\n  </div>\n</template>\n\n<script>\nconst d3 = require(\"d3\");\n\nwindow.d3 = d3;\n\nexport default {\n  name: \"lineChart\",\n  data() {\n    return {\n      svg: null,\n      g: null,\n      x: null,\n      y: null,\n      xDomain: [0, 1],\n      yDomain: [0, 1],\n      margin: { top: 20, right: 20, bottom: 30, left: 50 },\n      lines: [],\n      width: null,\n      height: null,\n    };\n  },\n  computed: {\n    // width() {\n    //   return this.$refs.chart.clientWidth - this.margin.left - this.margin.right;\n    // },\n    // height() {\n    //   return this.$refs.chart.clientHeight - this.margin.top - this.margin.bottom;\n    // },\n  },\n  watch: {\n    highlightIdx() {\n      this.updateHighlightPoints();\n    },\n  },\n  methods: {\n    initAx() {\n      this.width =\n        this.$refs.chart.clientWidth - this.margin.left - this.margin.right;\n      this.height =\n        this.$refs.chart.clientHeight - this.margin.top - this.margin.bottom;\n      const svg = d3.select(`#${this.id}`);\n\n      // const width = this.$refs.chart.clientWidth - margin.left - margin.right\n      // const height = this.$refs.chart.clientHeight - margin.top - margin.bottom\n      const g = svg\n        .append(\"g\")\n        .attr(\n          \"transform\",\n          `translate(${this.margin.left}, ${this.margin.top})`\n        );\n      const y = d3.scaleLinear().range([this.height, 0]);\n      const x = d3.scaleLinear().range([0, this.width]);\n\n      this.svg = svg;\n      this.g = g;\n      this.x = x;\n      this.y = y;\n\n      this.initXaxis();\n      this.initYaxis();\n      this.initHighlightPoints();\n    },\n    initXaxis() {\n      this.g\n        .append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", `translate(0, ${this.height})`)\n        .call(d3.axisBottom(this.x));\n      // this.updateXaxis();\n    },\n    updateXaxis() {\n      this.x.range([0, this.width]).domain(this.xDomain);\n      d3.select(`#${this.id} .x.axis`).call(d3.axisBottom(this.x));\n    },\n    initYaxis() {\n      this.g\n        .append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(d3.axisLeft(this.y))\n        .append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"y\", 6)\n        .attr(\"dy\", \"0.71em\")\n        .attr(\"text-anchor\", \"end\")\n        .text(this.ylabel);\n      // this.updateYaxis();\n    },\n    updateYaxis() {\n      this.y.range([this.height, 0]).domain(this.yDomain);\n      d3.select(`#${this.id} .y.axis`).call(d3.axisLeft(this.y));\n    },\n    initHighlightPoints() {\n      this.g.append(\"circle\").attr(\"class\", \"dot-series-1\");\n      this.g.append(\"circle\").attr(\"class\", \"dot-series-2\");\n    },\n    updateHighlightPoints() {\n      const self = this;\n      d3.select(`#${this.id} .dot-series-1`)\n        .attr(\"r\", 7)\n        .attr(\"cx\", () => self.x(self.highlightIdx))\n        .attr(\"cy\", () => self.y(self.data[self.highlightIdx][0]))\n        .attr(\"fill\", \"steelblue\");\n\n      d3.select(`#${this.id} .dot-series-2`)\n        .attr(\"r\", 7)\n        .attr(\"cx\", () => self.x(self.highlightIdx))\n        .attr(\"cy\", () => self.y(self.data[self.highlightIdx][1]))\n        .attr(\"fill\", \"red\");\n    },\n    plotData() {\n      const self = this;\n\n      /* eslint-disable */\n      const minX = d3.min(this.data, function g(d, i) {\n        return i;\n      });\n      const maxX = d3.max(this.data, function g(d, i) {\n        return i;\n      });\n\n      const maxY = d3.max(this.data, function g(d, i) {\n        return d3.max(d);\n      });\n      const minY = d3.min(this.data, function g(d, i) {\n        return d3.min(d);\n      });\n      /* eslint-enable */\n\n      this.xDomain = [minX, maxX];\n      this.yDomain = [minY, maxY];\n\n      this.updateXaxis();\n      this.updateYaxis();\n\n      /* eslint-disable */\n      const line1 = d3\n        .line()\n        .x(function f(d, i) {\n          return self.x(i);\n        })\n        .y(function f(d, i) {\n          return self.y(d[0]);\n        });\n\n      const line2 = d3\n        .line()\n        .x(function f(d, i) {\n          return self.x(i);\n        })\n        .y(function f(d, i) {\n          return self.y(d[1]);\n        });\n      /* eslint-enable */\n\n      this.lines = [line1, line2];\n\n      this.g\n        .append(\"path\")\n        .attr(\"class\", \"series-1\")\n        .datum(this.data)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"steelblue\")\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"d\", line1);\n\n      this.g\n        .append(\"path\")\n        .attr(\"class\", \"series-2\")\n        .datum(this.data)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"red\")\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"d\", line2);\n\n      this.g\n        .selectAll(\".outlier\")\n        .data(this.outlier_indices)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"outlier\")\n        .attr(\"x\", (i) => self.x(i) - 1.5)\n        .attr(\"y\", () => self.y(maxY))\n        .attr(\"width\", \"3px\")\n        .attr(\"height\", () => `${self.height}px`)\n        .attr(\"fill\", \"black\");\n\n      this.svg.on(\"mousemove\", () => {\n        // const x0 = self.x.invert(d3.mouse(this)[0]);\n        // const bisect = d3.bisector(function(d){return d[0]}).left;\n        // window.bisect = bisect;\n      });\n    },\n    handleResize() {\n      // eslint-disable-next-line\n      this.width =\n        this.$refs.chart.clientWidth - this.margin.left - this.margin.right;\n      // this.height = this.$refs.chart.clientHeight - this.margin.top - this.margin.bottom;\n      this.updateXaxis();\n      // this.updateYaxis()\n      this.updateHighlightPoints();\n      const self = this;\n      this.g\n        .selectAll(\".outlier\")\n        .attr(\"x\", (i) => self.x(i) - 1.5)\n        .attr(\"height\", () => `${self.height}px`);\n\n      this.g.selectAll(\".series-1\").attr(\"d\", this.lines[0]);\n\n      this.g.selectAll(\".series-2\").attr(\"d\", this.lines[1]);\n    },\n  },\n  mounted() {\n    this.initAx();\n    this.plotData();\n  },\n  props: [\"ylabel\", \"xlabel\", \"data\", \"id\", \"highlightIdx\", \"outlier_indices\"],\n};\n</script>\n\n<style>\n.lineChart {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LineChart.vue?vue&type=template&id=48355dd9&\"\nimport script from \"./LineChart.vue?vue&type=script&lang=js&\"\nexport * from \"./LineChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LineChart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mt-3\"},[_c('div',{staticClass:\"sprite\",style:(_vm.style),attrs:{\"id\":_vm.id}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"mt-3\">\n    <div class=\"sprite\" :id=\"id\" :style=\"style\"></div>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"sprite4d\",\n  computed: {\n    row_idx() {\n      return Math.floor(this.time / this.M);\n    },\n    col_idx() {\n      return this.time % this.M;\n    },\n    style() {\n      const output = {\n        width: `${this.pix}px`,\n        height: `${this.pix}px`,\n        zoom: 1.5,\n        \"background-position-x\": `-${this.col_idx * this.pix}px`,\n        \"background-position-y\": `-${this.row_idx * this.pix}px`,\n        \"background-image\": `url('data:image/png;base64,${this.img}')`,\n        display: \"inline-flex\",\n        opacity: this.opacity,\n      };\n      if (this.overlayMode) {\n        output.position = \"absolute\";\n        output.left = `calc(50% - ${this.pix / 2}px)`;\n      }\n\n      return output;\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {},\n  mounted() {},\n  watch: {\n    time() {},\n  },\n  props: [\n    \"M\",\n    \"N\",\n    \"pix\",\n    \"num_slices\",\n    \"img\",\n    \"id\",\n    \"time\",\n    \"overlayMode\",\n    \"opacity\",\n  ],\n};\n</script>\n\n<style>\n.sprite {\n  background-position: \"0px 0px\";\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sprite4D.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sprite4D.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sprite4D.vue?vue&type=template&id=f81539a0&\"\nimport script from \"./Sprite4D.vue?vue&type=script&lang=js&\"\nexport * from \"./Sprite4D.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sprite4D.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container fluid class=\"px-0\">\n    <b-container fluid class=\"px-0\" v-if=\"report\">\n      <topBar\n        :reportProp=\"report\"\n        :ratingProp=\"rating\"\n        v-on:ratingsDownloadRequested=\"ratingsDownloadRequested\"\n      ></topBar>\n      <b-row>\n        <b-col>\n          <h1>{{ report.subject_id }}</h1>\n          <h2 class=\"mt-3 pt-3\">Corrected dwi</h2>\n          <p class=\"lead\">Motion and distortion corrected file</p>\n\n          <div style=\"background-color: black;\">\n            <explainer\n              :explainer-text=\"explainerText.dwiTimeSeriesSprite\"\n            ></explainer>\n            <sprite4d\n              v-for=\"view in report.dwi_corrected\"\n              :key=\"view.orientation\"\n              :M=\"view.M\"\n              :N=\"view.N\"\n              :img=\"view.img\"\n              :num_slices=\"view.num_slices\"\n              :pix=\"view.pix\"\n              :id=\"view.orientation\"\n              :time=\"time\"\n              :overlayMode=\"false\"\n              opacity=\"1\"\n            ></sprite4d>\n          </div>\n          <vue-slider\n            ref=\"timeSlider\"\n            v-model=\"time\"\n            :min=\"0\"\n            :max=\"report.dwi_corrected[0].num_slices - 1\"\n          ></vue-slider>\n\n          <explainer :explainer-text=\"explainerText.lineChart\"></explainer>\n          <div style=\"height: 200px; width: 100%; display: inline-flex;\">\n            <line-chart\n              id=\"motion_params\"\n              :data=\"report.eddy_params\"\n              :outlier_indices=\"report.outlier_volumes\"\n              xlabel=\"TR\"\n              ylabel=\"RMS\"\n              :highlightIdx=\"time\"\n            ></line-chart>\n          </div>\n\n          <explainer :explainer-text=\"explainerText.carpetPlot\"></explainer>\n          <CarpetPlot :data=\"report.carpetplot\" :highlightIdx=\"time\" />\n\n          <vue-slider\n            ref=\"timeSlider\"\n            v-model=\"time\"\n            :min=\"0\"\n            :max=\"report.dwi_corrected[0].num_slices - 1\"\n          ></vue-slider>\n\n          <explainer :explainer-text=\"explainerText.qSpace\"></explainer>\n          <QSpaceGroup :report=\"report\" :time=\"time\" />\n\n          <h2 class=\"mt-3 pt-3\">Registration + Brain Mask</h2>\n          <p class=\"lead\">Brain mask computed on T1w, and mapped to B0</p>\n          <explainer\n            :explainer-text=\"explainerText.brainMaskSprite\"\n          ></explainer>\n          <BrainSprite\n            id=\"brainMaskSprite\"\n            ref=\"brainMaskSprite\"\n            :base_dim_x=\"report.b0.pix\"\n            :base_dim_y=\"report.b0.pix\"\n            :overlay_dim_x=\"report.anat_mask.pix\"\n            :overlay_dim_y=\"report.anat_mask.pix\"\n            :base=\"report.b0.img\"\n            :overlay=\"report.anat_mask.img\"\n          />\n\n          <h2 class=\"mt-3 pt-3\">DTI: ColorFA</h2>\n          <p class=\"lead\">Color FA mapped on B0</p>\n\n          <explainer :explainer-text=\"explainerText.colorFASprite\"></explainer>\n          <BrainSprite\n            id=\"colorFASprite\"\n            ref=\"colorFASprite\"\n            :base_dim_x=\"report.b0.pix\"\n            :base_dim_y=\"report.b0.pix\"\n            :overlay_dim_x=\"report.colorFA.pix\"\n            :overlay_dim_y=\"report.colorFA.pix\"\n            :base=\"report.b0.img\"\n            :overlay=\"report.colorFA.img\"\n          />\n        </b-col>\n      </b-row>\n    </b-container>\n    <spinner v-else></spinner>\n  </b-container>\n</template>\n\n<script>\nimport BrainSprite from \"./BrainSprite.vue\";\nimport CarpetPlot from \"./CarpetPlot\";\nimport QSpaceGroup from \"./QSpaceGroup\";\nimport explainer from \"./Explainer\";\nimport lineChart from \"./LineChart\";\nimport sprite4d from \"./Sprite4D\";\nimport topBar from \"./TopBar\";\nimport Vue from \"vue\";\nimport VueResize from \"vue-resize\";\nimport vueSlider from \"vue-slider-component\";\nimport { BootstrapVue, BootstrapVueIcons } from \"bootstrap-vue\";\n\n// eslint-disable-next-line\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\nimport \"vue-slider-component/theme/antd.css\";\nimport \"vue-resize/dist/vue-resize.css\";\n\nVue.use(VueResize);\nVue.use(BootstrapVue);\nVue.use(BootstrapVueIcons);\n\nexport default {\n  name: \"report\",\n  components: {\n    BrainSprite,\n    CarpetPlot,\n    QSpaceGroup,\n    explainer,\n    lineChart,\n    sprite4d,\n    topBar,\n    vueSlider,\n  },\n  props: {\n    reportProp: {\n      type: Object,\n    },\n    ratingProp: {\n      type: Object,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      time: 0,\n      spriteSlice: 0,\n      globalPosition: null,\n      autoRotate: false,\n      showReflection: true,\n      report: null,\n      rating: null,\n      explainerText: {\n        dwiTimeSeriesSprite: \"TODO: Explain the dwi corrected 4D sprite.\",\n        lineChart: \"TODO: Explain the motion params line chart.\",\n        carpetPlot: \"TODO: Explain the carpet plot.\",\n        qSpace: \"TODO: Explain the qspace viewer.\",\n        brainMaskSprite:\n          \"TODO: Explain the registration and brain mask sprite.\",\n        colorFASprite: \"TODO: Explain the colorFA sprite.\",\n      },\n    };\n  },\n  methods: {\n    get_mid_slice() {\n      return Math.floor(this.report.b0.num_slices / 2);\n    },\n    updateGlobalPosition(position) {\n      this.globalPosition = position;\n    },\n    ratingsDownloadRequested() {\n      this.$emit(\"ratingsDownloadRequested\");\n    },\n  },\n  mounted() {\n    if (this.reportProp) {\n      this.report = this.reportProp;\n    }\n    if (this.ratingProp) {\n      this.rating = this.ratingProp;\n    }\n\n    this.$nextTick(() => {\n      if (this.report) {\n        this.spriteSlice = this.get_mid_slice();\n      }\n    });\n  },\n  watch: {\n    reportProp: {\n      immediate: true,\n      handler: function () {\n        if (this.reportProp) {\n          this.report = this.reportProp;\n        }\n      },\n      deep: true,\n    },\n    ratingProp: {\n      immediate: true,\n      handler: function () {\n        if (this.ratingProp) {\n          this.rating = this.ratingProp;\n        }\n      },\n      deep: true,\n    },\n    report: {\n      immediate: true,\n      handler: function () {\n        if (this.report) {\n          this.spriteSlice = this.get_mid_slice();\n        }\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1,\nh2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportParticipant.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportParticipant.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportParticipant.vue?vue&type=template&id=03ba8d55&scoped=true&\"\nimport script from \"./ReportParticipant.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportParticipant.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReportParticipant.vue?vue&type=style&index=0&id=03ba8d55&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03ba8d55\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container fluid class=\"px-0 m-3\">\n    <b-container fluid class=\"px-0\" v-if=\"groupReport\">\n      <b-sidebar\n        id=\"sidebar-backdrop\"\n        title=\"Study overview\"\n        backdrop-variant=\"dark\"\n        backdrop\n        lazy\n        shadow\n        :visible=\"showInitialSidebar\"\n      >\n        <explainer\n          explainer-text=\"Select a subject below to see their report. Or select the study ID at the top to see a group summary. You can filter the subject list using the text input. You can close this sidebar by clicking on the 'x' in the top right or by simply clicking outside of the sidebar.\"\n        ></explainer>\n        <b-nav vertical pills class=\"w-100\">\n          <b-nav-item\n            class=\"mx-1\"\n            :active=\"showStudyQc\"\n            @click=\"showStudyQc = true\"\n          >\n            {{ groupReport.studyId ? groupReport.studyId : \"Study\" }}\n          </b-nav-item>\n          <input\n            class=\"m-1\"\n            v-model=\"subjectFilter\"\n            placeholder=\"filter subjects\"\n          />\n          <b-nav-item\n            class=\"mx-1\"\n            v-for=\"subject in filteredSubjects\"\n            :key=\"subject\"\n            :active=\"subject === subjectSelected\"\n            @click=\"subjectSelected = subject\"\n          >\n            <b-icon\n              class=\"mr-2\"\n              align-self=\"end\"\n              icon=\"check-circle-fill\"\n              scale=\"0.9\"\n              variant=\"success\"\n              v-if=\"subjectRatings[subject].reviewed\"\n            ></b-icon>\n            <b-icon\n              class=\"mr-2\"\n              icon=\"circle\"\n              scale=\"0.5\"\n              variant=\"secondary\"\n              v-else\n            ></b-icon>\n            {{ subject }}\n          </b-nav-item>\n        </b-nav>\n      </b-sidebar>\n      <groupReport\n        v-if=\"showStudyQc && groupReport\"\n        v-on:subjectSelected=\"updateSelectedSubject\"\n        v-on:ratingsDownloadRequested=\"downloadRatings\"\n        :reportProp=\"groupReport\"\n      ></groupReport>\n      <report\n        v-else-if=\"subjectSelected && subjectReports[subjectSelected]['report']\"\n        :reportProp=\"subjectReports[subjectSelected]['report']\"\n        :ratingProp=\"subjectRatings[subjectSelected]\"\n        v-on:ratingsDownloadRequested=\"downloadRatings\"\n      ></report>\n      <spinner v-else></spinner>\n    </b-container>\n    <spinner v-else></spinner>\n  </b-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport explainer from \"./Explainer\";\nimport groupReport from \"./ReportGroup\";\nimport report from \"./ReportParticipant\";\nimport spinner from \"./Spinner\";\n\nexport default {\n  name: \"genReport\",\n  components: {\n    explainer,\n    groupReport,\n    report,\n    spinner,\n  },\n  data() {\n    return {\n      bucket: null,\n      files: null,\n      groupFile: null,\n      groupReport: null,\n      manifestEntries: [],\n      re: /sub-[a-z0-9]+/gi,\n      s3Prefix: null,\n      s3Uri: null,\n      showInitialSidebar: true,\n      showStudyQc: true,\n      sourceType: null,\n      subjectFilter: \"\",\n      subjectReports: null,\n      subjectRatings: null,\n      subjectSelected: null,\n      subjectsBrushed: [],\n      url: null,\n    };\n  },\n  methods: {\n    async downloadRatings() {\n      const reviewedRatings = _.filter(\n        Object.values(this.subjectRatings),\n        (o) => {\n          return o.reviewed;\n        }\n      );\n\n      const csvRows = reviewedRatings.map((o) => {\n        return _.pick(o, [\n          \"subject\",\n          \"overallRating\",\n          \"anatRating\",\n          \"dwiRating\",\n          \"whenRated\",\n        ]);\n      });\n\n      if (csvRows.length === 0) {\n        return;\n      }\n\n      const delimiter = \",\";\n      const header = Object.keys(csvRows[0]).join(delimiter) + \"\\n\";\n\n      let csv = header;\n      csvRows.forEach((o) => {\n        csv += Object.values(o).join(delimiter) + \"\\n\";\n      });\n\n      let csvData = new Blob([csv], { type: \"text/csv\" });\n      let csvUrl = URL.createObjectURL(csvData);\n\n      let hiddenElement = document.createElement(\"a\");\n      hiddenElement.href = csvUrl;\n      hiddenElement.target = \"_blank\";\n      hiddenElement.download = \"dwiqc_ratings.csv\";\n      hiddenElement.click();\n    },\n    updateSelectedSubject(subject) {\n      this.subjectSelected = subject;\n    },\n    loadFromQuery() {\n      if (this.$route.query) {\n        // load the json\n        if (\n          !(this.$route.query.url || this.$route.query.s3Uri) &&\n          this.$route.name === \"GenReport\"\n        ) {\n          this.$router.push(\"/\");\n        } else if (this.$route.query.url) {\n          this.sourceType = \"url\";\n          this.url = this.$route.query.url;\n          // Todo: update this to work with directories instead of single files\n          this.loadFromUrl();\n        } else if (this.$route.query.s3Uri) {\n          this.sourceType = \"s3\";\n          this.s3Uri = this.$route.query.s3Uri;\n          this.bucket = this.s3Uri.split(\"/\")[0];\n          this.s3Prefix = this.s3Uri.split(\"/\").splice(1).join(\"/\");\n          this.loadFromS3();\n        }\n      }\n    },\n    loadFromUrl() {\n      // Todo: update this to work with directories instead of single files\n      axios.get(this.url).then((resp) => {\n        this.report = resp.data;\n      });\n    },\n    /**\n     * Begin S3 parsing functions\n     */\n    xmlParser(input) {\n      const parser = new DOMParser();\n      const xmlDoc = parser.parseFromString(input, \"text/xml\");\n      return xmlDoc;\n    },\n    parseS3(data) {\n      const xml = this.xmlParser(data);\n      const keys = xml.getElementsByTagName(\"Key\");\n      const continuation = xml.getElementsByTagName(\"NextContinuationToken\");\n      const isTruncated = xml.getElementsByTagName(\"IsTruncated\")[0].innerHTML;\n      if (isTruncated === \"true\") {\n        this.continuation = encodeURIComponent(continuation[0].innerHTML);\n      } else {\n        this.continuation = null;\n      }\n      const allKeys = _.map(keys, (k) => k.innerHTML);\n      const reportsFiltered = _.filter(allKeys, (k) =>\n        k.endsWith(\"dwiqc.json\")\n      );\n      const keysFixed = _.uniq(reportsFiltered);\n      return keysFixed;\n    },\n    S3Continuation(token) {\n      if (!token) {\n        return 0;\n      }\n      const url = this.s3ListUrl + `&continuation-token=${token}`;\n      return axios.get(url).then((resp) => {\n        const keysFixed2 = this.parseS3(resp.data);\n        this.manifestEntries = _.uniq(this.manifestEntries.concat(keysFixed2));\n        if (this.continuation) {\n          this.S3Continuation(this.continuation);\n        }\n      });\n    },\n    loadFromS3() {\n      const that = this;\n      const url = this.s3ListUrl;\n      return axios\n        .get(url)\n        .then((resp) => {\n          const keysFixed = this.parseS3(resp.data);\n          this.manifestEntries = _.uniq(this.manifestEntries.concat(keysFixed));\n          if (this.continuation) {\n            this.S3Continuation(this.continuation);\n          }\n        })\n        .then(() => {\n          this.groupFile = this.manifestEntries.filter(\n            (k) => k.match(that.re) === null\n          );\n          this.files = this.manifestEntries.filter(\n            (k) => k.match(that.re) !== null\n          );\n          this.selectRootGroupFile();\n          this.loadGroupReport();\n        });\n    },\n    getFileDepth(file) {\n      if (this.sourceType === \"file\") {\n        return file.webkitRelativePath.split(\"/\").length;\n      } else if (this.sourceType === \"s3\") {\n        return file.split(\"/\").length;\n      }\n    },\n    selectRootGroupFile() {\n      // if there are multiple group files, select the one closest to the root directory\n      if (this.groupFile.length === 1) {\n        this.groupFile = this.groupFile[0];\n      } else {\n        const groupedFiles = _.groupBy(this.groupFile, this.getFileDepth);\n        const smallest = Math.min(...Object.keys(groupedFiles));\n        const rootJsonFiles = groupedFiles[smallest];\n        if (rootJsonFiles.length === 1) {\n          this.groupFile = rootJsonFiles[0];\n        } else {\n          this.groupFile = null;\n        }\n      }\n    },\n    readJsonFile(inputFile) {\n      const tempFileReader = new FileReader();\n\n      return new Promise((resolve, reject) => {\n        tempFileReader.onerror = () => {\n          tempFileReader.abort();\n          reject(new DOMException(\"Problem parsing input file.\"));\n        };\n\n        tempFileReader.onload = () => {\n          resolve({\n            file: inputFile,\n            content: JSON.parse(tempFileReader.result),\n          });\n        };\n        tempFileReader.readAsText(inputFile);\n      });\n    },\n    async initSubjectReports(participantFileMap) {\n      const reports = await _.reduce(\n        Object.keys(participantFileMap),\n        (o, k) => (\n          (o[k] = {\n            source: participantFileMap[k],\n            report: null,\n            whenRequested: null,\n          }),\n          o\n        ),\n        {}\n      );\n      return reports;\n    },\n    async initSubjectRatings(participantFileMap) {\n      const ratings = await _.reduce(\n        Object.keys(participantFileMap),\n        (o, k) => (\n          (o[k] = {\n            subject: k,\n            source: participantFileMap[k],\n            overallRating: null,\n            anatRating: null,\n            dwiRating: null,\n            whenRated: null,\n            reviewed: false,\n          }),\n          o\n        ),\n        {}\n      );\n      return ratings;\n    },\n    async loadGroupReport() {\n      if (this.sourceType === \"file\") {\n        const gr = await this.readJsonFile(this.groupFile);\n        this.groupReport = gr[\"content\"];\n      } else if (this.sourceType === \"s3\") {\n        const resp = await axios.get(\n          this.localhostProxy(\n            `https://${this.bucket}.s3.amazonaws.com/${this.groupFile}`\n          )\n        );\n        this.groupReport = resp.data;\n      }\n    },\n    async updateSubjectReports(subject_id) {\n      let sr = this.subjectReports[subject_id];\n      if (sr[\"report\"] == null) {\n        // use the abstract equality operator to test for both null and undefined\n        if (this.sourceType === \"file\") {\n          const report = await this.readJsonFile(sr[\"source\"]);\n          sr[\"report\"] = report[\"content\"];\n          if (report[\"content\"][\"subject_id\"] === \"sub-test\") {\n            sr[\"report\"][\"subject_id\"] = subject_id;\n          }\n        } else if (this.sourceType === \"s3\") {\n          const resp = await axios.get(\n            this.localhostProxy(\n              `https://${this.bucket}.s3.amazonaws.com/${sr[\"source\"]}`\n            )\n          );\n          sr[\"report\"] = resp.data;\n          if (resp.data[\"subject_id\"] === \"sub-test\") {\n            sr[\"report\"][\"subject_id\"] = subject_id;\n          }\n        } else if (this.sourceType === \"url\") {\n          console.log(\"URL sources are currently not supported.\");\n        }\n      }\n      sr[\"whenRequested\"] = new Date();\n    },\n    localhostProxy(url) {\n      const local_domains = [\"localhost\", \"127.0.0.1\"];\n      if (local_domains.includes(window.location.hostname)) {\n        const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n        return proxyurl + url;\n      } else {\n        return url;\n      }\n    },\n  },\n  created() {\n    this.loadFromQuery();\n  },\n  mounted() {\n    if (this.filesProp) {\n      this.sourceType = \"file\";\n      this.files = this.filesProp;\n    }\n    if (this.groupFileProp) {\n      this.sourceType = \"file\";\n      this.groupFile = this.groupFileProp;\n      this.selectRootGroupFile();\n      this.loadGroupReport();\n    }\n  },\n  computed: {\n    s3ListUrl() {\n      let url = `https://${this.bucket}.s3.amazonaws.com/?list-type=2`;\n      url += `&max-keys=100000&prefix=${this.s3Prefix}`;\n      return this.localhostProxy(url);\n    },\n    filteredSubjects() {\n      if (this.subjectFilter) {\n        return this.subjectsAll.filter((s) => s.includes(this.subjectFilter));\n      } else {\n        return this.subjectsAll;\n      }\n    },\n    subjectsInGroupReport: function () {\n      if (this.groupReport) {\n        return this.groupReport.subjects.map((o) => o[\"participant_id\"]);\n      } else {\n        return [];\n      }\n    },\n    subjectFileMap: function () {\n      if (this.files) {\n        if (this.sourceType === \"file\") {\n          return _.reduce(\n            this.files,\n            (o, k) => ((o[[...new Set(k.name.match(this.re))][0]] = k), o),\n            {}\n          );\n        } else if (this.sourceType === \"s3\") {\n          return _.reduce(\n            this.files,\n            (o, k) => ((o[[...new Set(k.match(this.re))][0]] = k), o),\n            {}\n          );\n        } else {\n          return {};\n        }\n      } else {\n        return {};\n      }\n    },\n    subjectsAll: function () {\n      const collator = new Intl.Collator(undefined, {\n        numeric: true,\n        sensitivity: \"base\",\n      });\n      return [\n        ...new Set(\n          Object.keys(this.subjectFileMap).concat(this.subjectsInGroupReport)\n        ),\n      ].sort(collator.compare);\n    },\n  },\n  watch: {\n    filesProp: {\n      deep: true,\n      immediate: true,\n      handler: function () {\n        if (this.filesProp) {\n          this.files = this.filesProp;\n        }\n      },\n    },\n    groupFileProp: {\n      deep: true,\n      immediate: true,\n      handler: function () {\n        if (this.groupFileProp) {\n          this.groupFile = this.groupFileProp;\n          this.selectRootGroupFile();\n          this.loadGroupReport();\n        }\n      },\n    },\n    urlProp: {\n      handler: function () {\n        if (this.urlProp) {\n          this.url = this.urlProp;\n          this.loadFromUrl();\n        }\n      },\n    },\n    s3UriProp: {\n      handler: function () {\n        if (this.s3UriProp) {\n          this.s3Uri = this.s3UriProp;\n          this.loadFromS3();\n        }\n      },\n    },\n    $route: \"loadFromQuery\",\n    showStudyQc: {\n      handler: function () {\n        if (this.showStudyQc) {\n          this.subjectSelected = null;\n        }\n      },\n    },\n    subjectSelected: {\n      handler: function () {\n        if (this.subjectSelected) {\n          this.showStudyQc = false;\n          this.updateSubjectReports(this.subjectSelected);\n        }\n      },\n    },\n    subjectFileMap: {\n      deep: true,\n      immediate: true,\n      handler: async function () {\n        this.subjectReports = await this.initSubjectReports(\n          this.subjectFileMap\n        );\n        this.subjectRatings = await this.initSubjectRatings(\n          this.subjectFileMap\n        );\n      },\n    },\n  },\n  props: {\n    filesProp: Array,\n    groupFileProp: Array,\n    urlProp: String,\n    s3UriProp: String,\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GenReport.vue?vue&type=template&id=2053386a&scoped=true&\"\nimport script from \"./GenReport.vue?vue&type=script&lang=js&\"\nexport * from \"./GenReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2053386a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container>\n    <b-container fluid class=\"px-0\" v-if=\"state === 'getInput'\">\n      <b-row class=\"d-flex align-items-center\">\n        <b-col cols=\"5\" class=\"text-right\">\n          <img class=\"logo\" src=\"../assets/dmriprep-icon.svg\" />\n        </b-col>\n        <b-col cols=\"7\" class=\"text-left\">\n          <h1>dmriprep Viewer</h1>\n        </b-col>\n      </b-row>\n\n      <b-form-group\n        label=\"Choose a directory containing dwiqc.json files generated with dmriprep or qsiprep:\"\n        description=\"All computation happens on the client side. Your report will not be uploaded to any server.\"\n        class=\"mt-5 text-left\"\n      >\n        <b-form-file\n          v-model=\"files\"\n          directory\n          multiple\n          placeholder=\"Choose a directory...\"\n        ></b-form-file>\n      </b-form-group>\n\n      <b-form-group\n        label=\"OR copy/paste an Amazon S3 URI:\"\n        description=\"Enter a valid Amazon S3 URI of the form s3://bucket/followed/by/a/key.\"\n        class=\"mt-5 text-left\"\n      >\n        <b-input-group size=\"md\" class=\"mb-3\" prepend=\"URL\">\n          <b-form-input\n            v-model=\"url\"\n            placeholder=\"s3://dmriprep-viewer-example-data\"\n            @keyup.enter=\"navigate\"\n          />\n          <b-input-group-append>\n            <b-btn size=\"md\" text=\"Button\" variant=\"primary\" @click=\"navigate\"\n              >Go</b-btn\n            >\n          </b-input-group-append>\n        </b-input-group>\n      </b-form-group>\n    </b-container>\n\n    <spinner v-if=\"state === 'showLoader'\"></spinner>\n    <genReport\n      v-if=\"state === 'showReports'\"\n      :filesProp=\"reportFiles\"\n      :groupFileProp=\"groupReportFiles\"\n    ></genReport>\n  </b-container>\n</template>\n\n<script>\nimport genReport from \"./GenReport\";\nimport router from \"../router\";\nimport spinner from \"./Spinner\";\n\nexport default {\n  name: \"LandingPage\",\n  components: {\n    genReport,\n    spinner,\n  },\n  data() {\n    return {\n      files: null,\n      reportFiles: null,\n      groupReportFiles: null,\n      msg: \"Welcome to dmriprep-viewer\",\n      report: {},\n      url: null,\n      state: \"getInput\",\n    };\n  },\n  methods: {\n    navigate() {\n      if (this.url.startsWith(\"s3://\")) {\n        this.s3();\n      } else {\n        this.followUrl();\n      }\n    },\n    followUrl() {\n      router.push({ path: \"/report\", query: { url: this.url } });\n    },\n    s3() {\n      router.push({\n        path: \"/report\",\n        query: { s3Uri: this.url.replace(\"s3://\", \"\") },\n      });\n    },\n  },\n  watch: {\n    files() {\n      if (this.files) {\n        this.state = \"showLoader\";\n\n        // We may have many files. Find all of the *_dwiqc.json files\n        this.reportFiles = this.files.filter((file) =>\n          file.name.endsWith(\"_dwiqc.json\")\n        );\n\n        // And find the group report file if available\n        this.groupReportFiles = this.files.filter(\n          (file) => file.name === \"dwiqc.json\"\n        );\n\n        this.state = \"showReports\";\n\n        // let reportContents = await Promise.all(\n        //   await this.getAllReportsFromFiles(allReportFiles)\n        // );\n\n        // console.log(reportContents);\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.logo {\n  max-width: 250px;\n  width: 100%;\n  height: auto;\n}\n\nh1,\nh2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LandingPage.vue?vue&type=template&id=7cd77cb5&scoped=true&\"\nimport script from \"./LandingPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LandingPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LandingPage.vue?vue&type=style&index=0&id=7cd77cb5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cd77cb5\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport LandingPage from \"@/components/LandingPage\";\nimport genReport from \"@/components/GenReport\";\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: \"/\",\n      name: \"LandingPage\",\n      component: LandingPage,\n    },\n    {\n      path: \"/report\",\n      name: \"GenReport\",\n      component: genReport,\n    },\n  ],\n});\n","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from \"vue\";\nimport App from \"./App\";\nimport router from \"./router/index\";\n\nconst debug = process.env.NODE_ENV !== \"production\";\n\nVue.config.productionTip = false;\nVue.config.performance = debug;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: \"#app\",\n  router: router,\n  components: { App },\n  template: \"<App/>\",\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explainer.vue?vue&type=style&index=0&id=19620c5a&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=style&index=0&id=a3648a88&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportParticipant.vue?vue&type=style&index=0&id=03ba8d55&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sprite4D.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrainSprite.vue?vue&type=style&index=0&id=6da30ef8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportGroup.vue?vue&type=style&index=0&id=375817fa&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=style&index=0&id=7cd77cb5&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarpetPlot.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterplotMatrix.vue?vue&type=style&index=0&id=bfd7a1ae&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}